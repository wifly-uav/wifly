RASU8(ML620504F)Relocatable Assembler, Ver.1.61.2    assemble list. page:   1 
 Source File: obj\driver_uart.asm
 Object File: obj\driver_uart.obj
 Date  : 2022/03/02 Wed.[17:51]
 Title : 
## Loc. Object              [CZSOMH]     Line   Source Statements

                                            1   ;; Compile Options : /TML620504
                                                F /MS /near /IC:\LAZURI~1\LIBRA
                                                R~1\BM1383 /IC:\LAZURI~1\LIBRAR
                                                ~1\BM1422 /IC:\LAZURI~1\LIBRAR~
                                                1\HARDWA~1 /IC:\LAZURI~1\LIBRAR
                                                ~1\HARDWA~2 /IC:\LAZURI~1\LIBRA
                                                R~1\KXG03_~1 /IC:\LAZURI~1\LIBR
                                                AR~1\VL53L0X /IC:\LAZURI~1\LIBR
                                                AR~1\W
                                            2   ;; Version Number  : Ver.3.53.1
                                            3   ;; File Name       : driver_uar
                                                t.c
                                            4   
                                            5           type (ML620504F) 
                                            6           model small, near
                                            7           $$NVARdriver_uart segme
                                                nt data 2h #0h
                                            8           $$NINITVAR segment data
                                                 2h #0h
                                            9           $$NINITTAB segment tabl
                                                e 2h any
                                           10           $$TABuart_gpio_rx_bitma
                                                sk$driver_uart segment table 2h
                                                 #0h
                                           11           $$TABuart_gpio_tx_bitma
                                                sk$driver_uart segment table 2h
                                                 #0h
                                           12           $$uart_begin$driver_uar
                                                t segment code 2h #0h
                                           13           $$uart_check_irq$driver
                                                _uart segment code 2h #0h
                                           14           $$uart_end$driver_uart 
                                                segment code 2h #0h
                                           15           $$uart_fifo_in$driver_u
                                                art segment code 2h #0h
                                           16           $$uart_fifo_init$driver
                                                _uart segment code 2h #0h
                                           17           $$uart_fifo_out$driver_
                                                uart segment code 2h #0h
                                           18           $$uart_fifo_out_peek$dr
                                                iver_uart segment code 2h #0h
                                           19           $$uart_flush$driver_uar
                                                t segment code 2h #0h
                                           20           $$uart_gpio_end$driver_
                                                uart segment code 2h #0h
                                           21           $$uart_gpio_init$driver
                                                _uart segment code 2h #0h
                                           22           $$uart_peek$driver_uart
                                                 segment code 2h #0h
                                           23           $$uart_rx_available$dri
                                                ver_uart segment code 2h #0h
                                           24           $$uart_rx_isr$driver_ua
                                                rt segment code 2h #0h
RASU8(ML620504F)Relocatable Assembler, Ver.1.61.2    assemble list. page:   2 
 Title : 
## Loc. Object              [CZSOMH]     Line   Source Statements

                                           25           $$uart_rx_read$driver_u
                                                art segment code 2h #0h
                                           26           $$uart_tx_available$dri
                                                ver_uart segment code 2h #0h
                                           27           $$uart_tx_isr$driver_ua
                                                rt segment code 2h #0h
                                           28           $$uart_tx_write$driver_
                                                uart segment code 2h #0h
                                           29           $$uartf_begin$driver_ua
                                                rt segment code 2h #0h
                                           30           $$uartf_end$driver_uart
                                                 segment code 2h #0h
                                           31           $$uartf_flush$driver_ua
                                                rt segment code 2h #0h
                                           32           $$uartf_isr$driver_uart
                                                 segment code 2h #0h
                                           33           $$uartf_peek$driver_uar
                                                t segment code 2h #0h
                                           34           $$uartf_rx_available$dr
                                                iver_uart segment code 2h #0h
                                           35           $$uartf_rx_read$driver_
                                                uart segment code 2h #0h
                                           36           $$uartf_tx_available$dr
                                                iver_uart segment code 2h #0h
                                           37           $$uartf_tx_write$driver
                                                _uart segment code 2h #0h
                                           38   CVERSION 3.53.1
                                           39   CGLOBAL 01H 03H 0000H "uartf_rx
                                                _read" 08H 02H 62H 00H 81H 04H 
                                                00H 00H 01H
                                           40   CGLOBAL 01H 03H 0000H "uart_che
                                                ck_irq" 08H 02H 6DH 00H 81H 02H
                                                 00H 00H 07H
                                           41   CGLOBAL 01H 03H 0000H "uart_fif
                                                o_init" 08H 02H 67H 00H 80H 00H
                                                 00H 00H 07H
                                           42   CGLOBAL 01H 03H 0000H "uart_gpi
                                                o_init" 08H 02H 51H 00H 80H 08H
                                                 00H 00H 07H
                                           43   CGLOBAL 01H 03H 0000H "uart_rx_
                                                read" 08H 02H 61H 00H 81H 04H 0
                                                0H 00H 01H
                                           44   CGLOBAL 01H 03H 0000H "uartf_be
                                                gin" 08H 02H 5BH 00H 83H 14H 00
                                                H 00H 07H
                                           45   CGLOBAL 01H 02H 0000H "uartf_tx
                                                _write" 08H 02H 60H 00H 81H 06H
                                                 00H 00H 01H
                                           46   CGLOBAL 01H 03H 0000H "uart_gpi
                                                o_end" 08H 02H 52H 00H 82H 0aH 
                                                00H 00H 07H
                                           47   CGLOBAL 01H 03H 0000H "uart_pee
                                                k" 08H 02H 65H 00H 80H 00H 00H 
                                                00H 01H
                                           48   CGLOBAL 01H 03H 0000H "uart_tx_
                                                available" 08H 02H 57H 00H 80H 
RASU8(ML620504F)Relocatable Assembler, Ver.1.61.2    assemble list. page:   3 
 Title : 
## Loc. Object              [CZSOMH]     Line   Source Statements

                                                00H 00H 00H 01H
                                           49   CGLOBAL 01H 03H 0000H "uart_rx_
                                                available" 08H 02H 58H 00H 80H 
                                                00H 00H 00H 01H
                                           50   CGLOBAL 01H 03H 0000H "uart_flu
                                                sh" 08H 02H 63H 00H 80H 00H 00H
                                                 00H 07H
                                           51   CGLOBAL 01H 03H 0000H "uart_beg
                                                in" 08H 02H 56H 00H 83H 10H 00H
                                                 00H 07H
                                           52   CGLOBAL 01H 03H 0000H "uart_end
                                                " 08H 02H 53H 00H 80H 00H 00H 0
                                                0H 07H
                                           53   CGLOBAL 01H 03H 0000H "uart_rx_
                                                isr" 08H 02H 6BH 00H 80H 00H 00
                                                H 00H 07H
                                           54   CSGLOBAL 03H 0000H "uart_tx_isr
                                                " 08H 02H 73H 00H 81H 02H 00H 0
                                                0H 07H
                                           55   CGLOBAL 01H 03H 0000H "uart_fif
                                                o_out_peek" 08H 02H 6AH 00H 80H
                                                 02H 00H 00H 01H
                                           56   CGLOBAL 01H 03H 0000H "uartf_fl
                                                ush" 08H 02H 64H 00H 80H 00H 00
                                                H 00H 07H
                                           57   CGLOBAL 01H 03H 0000H "uartf_rx
                                                _available" 08H 02H 5DH 00H 80H
                                                 00H 00H 00H 01H
                                           58   CGLOBAL 01H 03H 0000H "uartf_tx
                                                _available" 08H 02H 5EH 00H 80H
                                                 00H 00H 00H 01H
                                           59   CGLOBAL 01H 03H 0000H "uartf_is
                                                r" 08H 02H 6CH 00H 83H 06H 00H 
                                                00H 07H
                                           60   CGLOBAL 01H 03H 0000H "uartf_en
                                                d" 08H 02H 5CH 00H 80H 00H 00H 
                                                00H 07H
                                           61   CGLOBAL 01H 03H 0000H "uart_fif
                                                o_out" 08H 02H 69H 00H 80H 02H 
                                                00H 00H 01H
                                           62   CGLOBAL 01H 03H 0000H "uartf_pe
                                                ek" 08H 02H 66H 00H 80H 00H 00H
                                                 00H 01H
                                           63   CGLOBAL 01H 02H 0000H "uart_tx_
                                                write" 08H 02H 5FH 00H 81H 06H 
                                                00H 00H 01H
                                           64   CGLOBAL 01H 02H 0000H "uart_fif
                                                o_in" 08H 02H 68H 00H 80H 04H 0
                                                0H 00H 01H
                                           65   CSTRUCTTAG 0000H 0000H 0001H 00
                                                05H 00000008H "_Notag"
                                           66   CSTRUCTMEM 42H 00000001H 000000
                                                00H "max_length" 02H 00H 00H
                                           67   CSTRUCTMEM 42H 00000002H 000000
                                                02H "buf" 04H 03H 00H 00H 00H
                                           68   CSTRUCTMEM 42H 00000001H 000000
RASU8(ML620504F)Relocatable Assembler, Ver.1.61.2    assemble list. page:   4 
 Title : 
## Loc. Object              [CZSOMH]     Line   Source Statements

                                                04H "wr_p" 02H 00H 00H
                                           69   CSTRUCTMEM 42H 00000001H 000000
                                                05H "rd_p" 02H 00H 00H
                                           70   CSTRUCTMEM 42H 00000001H 000000
                                                06H "length" 02H 00H 00H
                                           71   CSTRUCTTAG 0000H 0000H 0000H 00
                                                08H 00000001H "_Notag"
                                           72   CSTRUCTMEM 52H 00000001H 000000
                                                00H "b0" 02H 00H 00H
                                           73   CSTRUCTMEM 52H 00000001H 000000
                                                01H "b1" 02H 00H 00H
                                           74   CSTRUCTMEM 52H 00000001H 000000
                                                02H "b2" 02H 00H 00H
                                           75   CSTRUCTMEM 52H 00000001H 000000
                                                03H "b3" 02H 00H 00H
                                           76   CSTRUCTMEM 52H 00000001H 000000
                                                04H "b4" 02H 00H 00H
                                           77   CSTRUCTMEM 52H 00000001H 000000
                                                05H "b5" 02H 00H 00H
                                           78   CSTRUCTMEM 52H 00000001H 000000
                                                06H "b6" 02H 00H 00H
                                           79   CSTRUCTMEM 52H 00000001H 000000
                                                07H "b7" 02H 00H 00H
                                           80   CTYPEDEF 0000H 0000H 43H "INT8"
                                                 02H 00H 00H
                                           81   CTYPEDEF 0000H 0000H 43H "_Ptrd
                                                ifft" 02H 00H 01H
                                           82   CTYPEDEF 0000H 0000H 42H "bool"
                                                 02H 00H 00H
                                           83   CTYPEDEF 0000H 0000H 42H "byte"
                                                 02H 00H 00H
                                           84   CTYPEDEF 0000H 0000H 43H "INT32
                                                " 02H 00H 02H
                                           85   CTYPEDEF 0000H 0000H 43H "INT16
                                                " 02H 00H 01H
                                           86   CTYPEDEF 0000H 0000H 42H "_Size
                                                t" 02H 00H 01H
                                           87   CTYPEDEF 0000H 0000H 42H "BOOLE
                                                AN" 02H 00H 00H
                                           88   CTYPEDEF 0000H 0000H 42H "UCHAR
                                                " 02H 00H 00H
                                           89   CTYPEDEF 0000H 0000H 42H "size_
                                                t" 02H 00H 01H
                                           90   CTYPEDEF 0000H 0000H 42H "uint8
                                                _t" 02H 00H 00H
                                           91   CTYPEDEF 0000H 0000H 43H "int8_
                                                t" 02H 00H 00H
                                           92   CTYPEDEF 0000H 0000H 43H "int16
                                                _t" 02H 00H 08H
                                           93   CTYPEDEF 0000H 0000H 43H "int32
                                                _t" 02H 00H 02H
                                           94   CTYPEDEF 0000H 0000H 42H "UINT8
                                                " 02H 00H 00H
                                           95   CTYPEDEF 0000H 0000H 43H "FIFO_
                                                CTRL" 04H 00H 05H 01H 00H
                                           96   CTYPEDEF 0000H 0000H 43H "CHAR"
RASU8(ML620504F)Relocatable Assembler, Ver.1.61.2    assemble list. page:   5 
 Title : 
## Loc. Object              [CZSOMH]     Line   Source Statements

                                                 02H 00H 00H
                                           97   CTYPEDEF 0000H 0000H 42H "UINT1
                                                6" 02H 00H 01H
                                           98   CTYPEDEF 0000H 0000H 42H "UINT3
                                                2" 02H 00H 02H
                                           99   CTYPEDEF 0000H 0000H 42H "boole
                                                an" 02H 00H 00H
                                          100   CTYPEDEF 0000H 0000H 42H "word"
                                                 02H 00H 01H
                                          101   CTYPEDEF 0000H 0000H 42H "BOOL"
                                                 02H 00H 00H
                                          102   CTYPEDEF 0000H 0000H 42H "uint3
                                                2_t" 02H 00H 02H
                                          103   CTYPEDEF 0000H 0000H 43H "_BYTE
                                                _FIELD" 04H 00H 05H 00H 00H
                                          104   CTYPEDEF 0000H 0000H 42H "uint1
                                                6_t" 02H 00H 08H
                                          105   CGLOBAL 01H 41H 000CH "uart_gpi
                                                o_adr" 07H 01H 06H 00H 03H 00H 
                                                00H 00H
                                          106   CSGLOBAL 42H 0080H "uart_rx_buf
                                                " 05H 01H 80H 00H 00H 00H
                                          107   CSGLOBAL 42H 0080H "uart_tx_buf
                                                " 05H 01H 80H 00H 00H 00H
                                          108   CGLOBAL 01H 01H 0006H "uart_gpi
                                                o_tx_bitmask" 05H 01H 06H 00H 0
                                                0H 00H
                                          109   CGLOBAL 01H 43H 0001H "uartf_tx
                                                _sending" 02H 00H 00H
                                          110   CSGLOBAL 43H 0008H "uart_rx_fif
                                                o" 04H 00H 05H 01H 00H
                                          111   CSGLOBAL 43H 0008H "uart_tx_fif
                                                o" 04H 00H 05H 01H 00H
                                          112   CSGLOBAL 43H 0001H "uart_tx_fla
                                                g" 02H 00H 00H
                                          113   CGLOBAL 01H 01H 0006H "uart_gpi
                                                o_rx_bitmask" 05H 01H 06H 00H 0
                                                0H 00H
                                          114   CSGLOBAL 43H 0001H "uartf_tx_fl
                                                ag" 02H 00H 00H
                                          115   CSGLOBAL 43H 0008H "uartf_tx_fi
                                                fo" 04H 00H 05H 01H 00H
                                          116   CSGLOBAL 43H 0008H "uartf_rx_fi
                                                fo" 04H 00H 05H 01H 00H
                                          117   CSGLOBAL 42H 0080H "uartf_rx_bu
                                                f" 05H 01H 80H 00H 00H 00H
                                          118   CSGLOBAL 42H 0080H "uartf_tx_bu
                                                f" 05H 01H 80H 00H 00H 00H
                                          119   CGLOBAL 01H 43H 0001H "uart_tx_
                                                sending" 02H 00H 00H
                                          120   CFILE 0001H 0000007BH "C:\\LAZU
                                                RI~1\\hardware\\LAZURI~2\\commo
                                                n.h"
                                          121   CFILE 0002H 00000F42H "C:\\Lazu
                                                riteIDE\\bin\\U8Dev\\Inc\\ml620
                                                504F.h"
RASU8(ML620504F)Relocatable Assembler, Ver.1.61.2    assemble list. page:   6 
 Title : 
## Loc. Object              [CZSOMH]     Line   Source Statements

                                          122   CFILE 0003H 000000C9H "C:\\Lazu
                                                riteIDE\\bin\\U8Dev\\Inc\\strin
                                                g.h"
                                          123   CFILE 0004H 0000007AH "C:\\Lazu
                                                riteIDE\\bin\\U8Dev\\Inc\\yvals
                                                .h"
                                          124   CFILE 0005H 00000045H "C:\\LAZU
                                                RI~1\\hardware\\LAZURI~2\\ML620
                                                Q~1\\common\\rdwr_reg.h"
                                          125   CFILE 0006H 00000022H "C:\\LAZU
                                                RI~1\\hardware\\LAZURI~2\\ML620
                                                Q~1\\MCU_SM~1\\mcu.h"
                                          126   CFILE 0007H 0000006FH "C:\\LAZU
                                                RI~1\\hardware\\lazurite_subghz
                                                \\ml620q504\\driver_irq.h"
                                          127   CFILE 0008H 00000331H "C:\\LAZU
                                                RI~1\\hardware\\LAZURI~2\\ML620
                                                Q~1\\irq\\irq.h"
                                          128   CFILE 0009H 00000053H "C:\\LAZU
                                                RI~1\\hardware\\lazurite_subghz
                                                \\ml620q504\\driver_uart.h"
                                          129   CFILE 000AH 00000040H "C:\\LAZU
                                                RI~1\\hardware\\LAZURI~2\\ML620
                                                Q~1\\wdt\\wdt.h"
                                          130   CFILE 000BH 00000022H "C:\\LAZU
                                                RI~1\\hardware\\LAZURI~2\\ML620
                                                Q~1\\lp\\lp_manage.h"
                                          131   CFILE 0000H 0000025CH "C:\\LAZU
                                                RI~1\\hardware\\lazurite_subghz
                                                \\ml620q504\\driver_uart.c"
                                          132   
  --------------------------              133           rseg $$uart_gpio_init$d
                                                river_uart
                                          134   CFUNCTION 81
                                          135   
00:0000                                   136   _uart_gpio_init :
                                          137   CBLOCK 81 1 145
                                          138   
                                          139   ;;{
                                          140   CLINEA 0000H 0001H 0091H 0001H 
                                                0001H
                                          141   ;;*****************************
                                                ************
                                          142   ;;      register/stack informat
                                                ion
                                          143   ;;*****************************
                                                ************
                                          144   ;;*****************************
                                                ************
                                          145   
00:0000 6E-F4               [------]      146           push    xr4
00:0002 5E-FC               [------]      147           push    bp
00:0004 5E-F8               [------]      148           push    er8
00:0006 00-88               [-ZS---]      149           mov     r8,     r0
                                          150   CBLOCK 81 2 145
                                          151   CARGUMENT 46H 0001H 001CH "n" 0
RASU8(ML620504F)Relocatable Assembler, Ver.1.61.2    assemble list. page:   7 
 Title : 
## Loc. Object              [CZSOMH]     Line   Source Statements

                                                2H 00H 00H
                                          152   CLOCAL 46H 0002H 0027H 0002H "p
                                                ort" 04H 03H 00H 00H 00H
                                          153   CLOCAL 46H 0001H 0018H 0002H "b
                                                it" 02H 00H 00H
                                          154   
                                          155   ;;      if(n>5) return;
                                          156   CLINEA 0000H 0001H 0094H 0002H 
                                                0010H
00:0008 05 70               [CZSO-H]      157           cmp     r0,     #05h
00:000A 02 C3               [------]      158           ble     _$M1
00:000C 00-F0'00-00'        [------]      159           b       _$L0
00:0010                                   160   _$M1 :
                                          161   
                                          162   ;;      port = uart_gpio_adr[n]
                                                ;
                                          163   CLINEA 0000H 0001H 0095H 0002H 
                                                0019H
00:0010 00-8C               [-ZS---]      164           mov     r12,    r0
00:0012 00 0D               [-ZS---]      165           mov     r13,    #00h
00:0014 C5-F0               [-ZS---]      166           mov     er0,    bp
00:0016 C6-F0               [CZSO-H]      167           add     er0,    bp
00:0018 08-A6 00-00'        [-ZS---]      168           l       er6,    NEAR _u
                                                art_gpio_adr[er0]
                                          169   
                                          170   ;;      bit = uart_gpio_rx_bitm
                                                ask[n];
                                          171   CLINEA 0000H 0001H 0096H 0002H 
                                                001FH
00:001C C5-F2               [-ZS---]      172           mov     er2,    bp
00:001E 28-94 00-00'        [-ZS---]      173           l       r4,     NEAR _u
                                                art_gpio_rx_bitmask[er2]
                                          174   
                                          175   ;;      *(port+GPIO_DIR_OFFSET)
                                                 |= bit;         //DIR = 1
                                          176   CLINEA 0000H 0001H 0097H 0002H 
                                                002BH
00:0022 68-90 01-00         [-ZS---]      177           l       r0,     01h[er6
                                                ]
00:0026 43-80               [-ZS---]      178           or      r0,     r4
00:0028 69-90 01-00         [------]      179           st      r0,     01h[er6
                                                ]
                                          180   
                                          181   ;;      *(port+GPIO_C0_OFFSET) 
                                                 &= ~bit;        //C0  = 0
                                          182   CLINEA 0000H 0001H 0098H 0002H 
                                                002BH
00:002C 40-80               [-ZS---]      183           mov     r0,     r4
00:002E FF 40               [-ZS---]      184           xor     r0,     #0ffh
00:0030 68-91 02-00         [-ZS---]      185           l       r1,     02h[er6
                                                ]
00:0034 02-81               [-ZS---]      186           and     r1,     r0
00:0036 69-91 02-00         [------]      187           st      r1,     02h[er6
                                                ]
                                          188   
                                          189   ;;      *(port+GPIO_C1_OFFSET) 
RASU8(ML620504F)Relocatable Assembler, Ver.1.61.2    assemble list. page:   8 
 Title : 
## Loc. Object              [CZSOMH]     Line   Source Statements

                                                 |= bit;         //C1  = 1
                                          190   CLINEA 0000H 0001H 0099H 0002H 
                                                002BH
00:003A 68-90 03-00         [-ZS---]      191           l       r0,     03h[er6
                                                ]
00:003E 43-80               [-ZS---]      192           or      r0,     r4
00:0040 69-90 03-00         [------]      193           st      r0,     03h[er6
                                                ]
                                          194   
                                          195   ;;      *(port+GPIO_MD0_OFFSET)
                                                 |= bit;         //MD0 = 1
                                          196   CLINEA 0000H 0001H 009AH 0002H 
                                                002BH
00:0044 68-90 04-00         [-ZS---]      197           l       r0,     04h[er6
                                                ]
00:0048 43-80               [-ZS---]      198           or      r0,     r4
00:004A 69-90 04-00         [------]      199           st      r0,     04h[er6
                                                ]
                                          200   
                                          201   ;;      *(port+GPIO_MD1_OFFSET)
                                                 |= bit;         //MD1 = 1
                                          202   CLINEA 0000H 0001H 009BH 0002H 
                                                002BH
00:004E 68-90 05-00         [-ZS---]      203           l       r0,     05h[er6
                                                ]
00:0052 43-80               [-ZS---]      204           or      r0,     r4
00:0054 69-90 05-00         [------]      205           st      r0,     05h[er6
                                                ]
                                          206   
                                          207   ;;      bit = uart_gpio_tx_bitm
                                                ask[n];
                                          208   CLINEA 0000H 0001H 009DH 0002H 
                                                001FH
00:0058 80-80               [-ZS---]      209           mov     r0,     r8
00:005A 00 01               [-ZS---]      210           mov     r1,     #00h
00:005C 08-92 00-00'        [-ZS---]      211           l       r2,     NEAR _u
                                                art_gpio_tx_bitmask[er0]
                                          212   
                                          213   ;;      *(port+GPIO_DIR_OFFSET)
                                                 &= ~bit;        //DIR = 0
                                          214   CLINEA 0000H 0001H 009EH 0002H 
                                                002BH
00:0060 20-80               [-ZS---]      215           mov     r0,     r2
00:0062 FF 40               [-ZS---]      216           xor     r0,     #0ffh
00:0064 68-91 01-00         [-ZS---]      217           l       r1,     01h[er6
                                                ]
00:0068 02-81               [-ZS---]      218           and     r1,     r0
00:006A 69-91 01-00         [------]      219           st      r1,     01h[er6
                                                ]
                                          220   
                                          221   ;;      *(port+GPIO_C0_OFFSET) 
                                                 |= bit;         //C0  = 1
                                          222   CLINEA 0000H 0001H 009FH 0002H 
                                                002BH
00:006E 68-90 02-00         [-ZS---]      223           l       r0,     02h[er6
                                                ]
RASU8(ML620504F)Relocatable Assembler, Ver.1.61.2    assemble list. page:   9 
 Title : 
## Loc. Object              [CZSOMH]     Line   Source Statements

00:0072 23-80               [-ZS---]      224           or      r0,     r2
00:0074 69-90 02-00         [------]      225           st      r0,     02h[er6
                                                ]
                                          226   
                                          227   ;;      *(port+GPIO_C1_OFFSET) 
                                                 |= bit;         //C1  = 1
                                          228   CLINEA 0000H 0001H 00A0H 0002H 
                                                002BH
00:0078 68-90 03-00         [-ZS---]      229           l       r0,     03h[er6
                                                ]
00:007C 23-80               [-ZS---]      230           or      r0,     r2
00:007E 69-90 03-00         [------]      231           st      r0,     03h[er6
                                                ]
                                          232   
                                          233   ;;      *(port+GPIO_MD0_OFFSET)
                                                 |= bit;         //MD0 = 1
                                          234   CLINEA 0000H 0001H 00A1H 0002H 
                                                002BH
00:0082 68-90 04-00         [-ZS---]      235           l       r0,     04h[er6
                                                ]
00:0086 23-80               [-ZS---]      236           or      r0,     r2
00:0088 69-90 04-00         [------]      237           st      r0,     04h[er6
                                                ]
                                          238   
                                          239   ;;      *(port+GPIO_MD1_OFFSET)
                                                 |= bit;         //MD1 = 1
                                          240   CLINEA 0000H 0001H 00A2H 0002H 
                                                002BH
00:008C 68-90 05-00         [-ZS---]      241           l       r0,     05h[er6
                                                ]
00:0090 23-80               [-ZS---]      242           or      r0,     r2
00:0092 69-90 05-00         [------]      243           st      r0,     05h[er6
                                                ]
                                          244   CBLOCKEND 81 2 164
                                          245   
                                          246   ;;}
                                          247   CLINEA 0000H 0001H 00A4H 0001H 
                                                0001H
00:0096                                   248   _$L0 :
00:0096 1E-F8               [------]      249           pop     er8
00:0098 1E-FC               [------]      250           pop     bp
00:009A 2E-F4               [------]      251           pop     xr4
00:009C 1F-FE               [------]      252           rt
                                          253   CBLOCKEND 81 1 164
                                          254   CFUNCTIONEND 81
                                          255   
                                          256   
  --------------------------              257           rseg $$uart_gpio_end$dr
                                                iver_uart
                                          258   CFUNCTION 82
                                          259   
00:0000                                   260   _uart_gpio_end  :
                                          261   CBLOCK 82 1 167
                                          262   
                                          263   ;;{
                                          264   CLINEA 0000H 0001H 00A7H 0001H 
RASU8(ML620504F)Relocatable Assembler, Ver.1.61.2    assemble list. page:  10 
 Title : 
## Loc. Object              [CZSOMH]     Line   Source Statements

                                                0001H
                                          265   ;;*****************************
                                                ************
                                          266   ;;      register/stack informat
                                                ion
                                          267   ;;*****************************
                                                ************
    = FFFFFFFFH                           268           _bit$2  set     -1
                                          269   ;;*****************************
                                                ************
                                          270   
00:0000 5E-FE               [------]      271           push    fp
00:0002 1A-AE               [------]      272           mov     fp,     sp
00:0004 FE E1               [------]      273           add     sp,     #-02
00:0006 5E-FC               [------]      274           push    bp
00:0008 5E-F8               [------]      275           push    er8
00:000A 5E-F4               [------]      276           push    er4
00:000C 00-88               [-ZS---]      277           mov     r8,     r0
                                          278   CBLOCK 82 2 167
                                          279   CARGUMENT 46H 0001H 001CH "n" 0
                                                2H 00H 00H
                                          280   CLOCAL 46H 0002H 0026H 0002H "p
                                                ort" 04H 03H 00H 00H 00H
                                          281   CLOCAL 42H 0001H 0001H 0002H "b
                                                it" 02H 00H 00H
                                          282   
                                          283   ;;      if(n>5) return;
                                          284   CLINEA 0000H 0001H 00AAH 0002H 
                                                0010H
00:000E 05 70               [CZSO-H]      285           cmp     r0,     #05h
00:0010 02 C3               [------]      286           ble     _$M3
00:0012 00-F0'00-00'        [------]      287           b       _$L3
00:0016                                   288   _$M3 :
                                          289   
                                          290   ;;      port = uart_gpio_adr[n]
                                                ;
                                          291   CLINEA 0000H 0001H 00ACH 0002H 
                                                0019H
00:0016 00-8C               [-ZS---]      292           mov     r12,    r0
00:0018 00 0D               [-ZS---]      293           mov     r13,    #00h
00:001A C5-F0               [-ZS---]      294           mov     er0,    bp
00:001C C6-F0               [CZSO-H]      295           add     er0,    bp
00:001E 08-A2 00-00'        [-ZS---]      296           l       er2,    NEAR _u
                                                art_gpio_adr[er0]
00:0022 25-F4               [-ZS---]      297           mov     er4,    er2    
                                                 ;; _lport$0
                                          298   
                                          299   ;;      bit = uart_gpio_rx_bitm
                                                ask[n];
                                          300   CLINEA 0000H 0001H 00ADH 0002H 
                                                001FH
00:0024 C8-92 00-00'        [-ZS---]      301           l       r2,     NEAR _u
                                                art_gpio_rx_bitmask[bp]
00:0028 FF D2               [------]      302           st      r2,     _bit$2[
                                                fp]
                                          303   
RASU8(ML620504F)Relocatable Assembler, Ver.1.61.2    assemble list. page:  11 
 Title : 
## Loc. Object              [CZSOMH]     Line   Source Statements

                                          304   ;;      *(port+GPIO_DIR_OFFSET)
                                                &= ~bit;         //DIR = 0
                                          305   CLINEA 0000H 0001H 00AEH 0002H 
                                                002BH
00:002A 08-AC 00-00'        [-ZS---]      306           l       bp,     NEAR _u
                                                art_gpio_adr[er0]
00:002E 7F D0               [-ZS---]      307           l       r0,     _bit$2[
                                                fp]
00:0030 FF 40               [-ZS---]      308           xor     r0,     #0ffh
00:0032 01 D1               [-ZS---]      309           l       r1,     1[bp]
00:0034 02-81               [-ZS---]      310           and     r1,     r0
00:0036 81 D1               [------]      311           st      r1,     1[bp]
                                          312   
                                          313   ;;      *(port+GPIO_C0_OFFSET) 
                                                &= ~bit;         //C0  = 0
                                          314   CLINEA 0000H 0001H 00AFH 0002H 
                                                002BH
00:0038 7F D0               [-ZS---]      315           l       r0,     _bit$2[
                                                fp]
00:003A FF 40               [-ZS---]      316           xor     r0,     #0ffh
00:003C 48-91 02-00         [-ZS---]      317           l       r1,     02h[er4
                                                ]
00:0040 02-81               [-ZS---]      318           and     r1,     r0
00:0042 49-91 02-00         [------]      319           st      r1,     02h[er4
                                                ]
                                          320   
                                          321   ;;      *(port+GPIO_C1_OFFSET) 
                                                &= ~bit;         //C1  = 0
                                          322   CLINEA 0000H 0001H 00B0H 0002H 
                                                002BH
00:0046 7F D0               [-ZS---]      323           l       r0,     _bit$2[
                                                fp]
00:0048 FF 40               [-ZS---]      324           xor     r0,     #0ffh
00:004A 48-91 03-00         [-ZS---]      325           l       r1,     03h[er4
                                                ]
00:004E 02-81               [-ZS---]      326           and     r1,     r0
00:0050 49-91 03-00         [------]      327           st      r1,     03h[er4
                                                ]
                                          328   
                                          329   ;;      *(port+GPIO_MD0_OFFSET)
                                                &= ~bit;         //MD0 = 0
                                          330   CLINEA 0000H 0001H 00B1H 0002H 
                                                002BH
00:0054 7F D0               [-ZS---]      331           l       r0,     _bit$2[
                                                fp]
00:0056 FF 40               [-ZS---]      332           xor     r0,     #0ffh
00:0058 48-91 04-00         [-ZS---]      333           l       r1,     04h[er4
                                                ]
00:005C 02-81               [-ZS---]      334           and     r1,     r0
00:005E 49-91 04-00         [------]      335           st      r1,     04h[er4
                                                ]
                                          336   
                                          337   ;;      *(port+GPIO_MD1_OFFSET)
                                                &= ~bit;         //MD1 = 0
                                          338   CLINEA 0000H 0001H 00B2H 0002H 
                                                002BH
RASU8(ML620504F)Relocatable Assembler, Ver.1.61.2    assemble list. page:  12 
 Title : 
## Loc. Object              [CZSOMH]     Line   Source Statements

00:0062 7F D0               [-ZS---]      339           l       r0,     _bit$2[
                                                fp]
00:0064 FF 40               [-ZS---]      340           xor     r0,     #0ffh
00:0066 48-91 05-00         [-ZS---]      341           l       r1,     05h[er4
                                                ]
00:006A 02-81               [-ZS---]      342           and     r1,     r0
00:006C 49-91 05-00         [------]      343           st      r1,     05h[er4
                                                ]
                                          344   
                                          345   ;;       bit = uart_gpio_tx_bit
                                                mask[n];
                                          346   CLINEA 0000H 0001H 00B4H 0003H 
                                                0020H
00:0070 80-80               [-ZS---]      347           mov     r0,     r8
00:0072 00 01               [-ZS---]      348           mov     r1,     #00h
00:0074 08-90 00-00'        [-ZS---]      349           l       r0,     NEAR _u
                                                art_gpio_tx_bitmask[er0]
00:0078 FF D0               [------]      350           st      r0,     _bit$2[
                                                fp]
                                          351   
                                          352   ;;      *(port+GPIO_DIR_OFFSET)
                                                &= ~bit;         //DIR = 0
                                          353   CLINEA 0000H 0001H 00B5H 0002H 
                                                002BH
00:007A 7F D0               [-ZS---]      354           l       r0,     _bit$2[
                                                fp]
00:007C FF 40               [-ZS---]      355           xor     r0,     #0ffh
00:007E 48-91 01-00         [-ZS---]      356           l       r1,     01h[er4
                                                ]
00:0082 02-81               [-ZS---]      357           and     r1,     r0
00:0084 49-91 01-00         [------]      358           st      r1,     01h[er4
                                                ]
                                          359   
                                          360   ;;      *(port+GPIO_C0_OFFSET) 
                                                &= ~bit;         //C0  = 0
                                          361   CLINEA 0000H 0001H 00B6H 0002H 
                                                002BH
00:0088 7F D0               [-ZS---]      362           l       r0,     _bit$2[
                                                fp]
00:008A FF 40               [-ZS---]      363           xor     r0,     #0ffh
00:008C 48-91 02-00         [-ZS---]      364           l       r1,     02h[er4
                                                ]
00:0090 02-81               [-ZS---]      365           and     r1,     r0
00:0092 49-91 02-00         [------]      366           st      r1,     02h[er4
                                                ]
                                          367   
                                          368   ;;      *(port+GPIO_C1_OFFSET) 
                                                &= ~bit;         //C1  = 0
                                          369   CLINEA 0000H 0001H 00B7H 0002H 
                                                002BH
00:0096 7F D0               [-ZS---]      370           l       r0,     _bit$2[
                                                fp]
00:0098 FF 40               [-ZS---]      371           xor     r0,     #0ffh
00:009A 48-91 03-00         [-ZS---]      372           l       r1,     03h[er4
                                                ]
00:009E 02-81               [-ZS---]      373           and     r1,     r0
RASU8(ML620504F)Relocatable Assembler, Ver.1.61.2    assemble list. page:  13 
 Title : 
## Loc. Object              [CZSOMH]     Line   Source Statements

00:00A0 49-91 03-00         [------]      374           st      r1,     03h[er4
                                                ]
                                          375   
                                          376   ;;      *(port+GPIO_MD0_OFFSET)
                                                &= ~bit;         //MD0 = 0
                                          377   CLINEA 0000H 0001H 00B8H 0002H 
                                                002BH
00:00A4 7F D0               [-ZS---]      378           l       r0,     _bit$2[
                                                fp]
00:00A6 FF 40               [-ZS---]      379           xor     r0,     #0ffh
00:00A8 48-91 04-00         [-ZS---]      380           l       r1,     04h[er4
                                                ]
00:00AC 02-81               [-ZS---]      381           and     r1,     r0
00:00AE 49-91 04-00         [------]      382           st      r1,     04h[er4
                                                ]
                                          383   
                                          384   ;;      *(port+GPIO_MD1_OFFSET)
                                                &= ~bit;         //MD1 = 0
                                          385   CLINEA 0000H 0001H 00B9H 0002H 
                                                002BH
00:00B2 7F D0               [-ZS---]      386           l       r0,     _bit$2[
                                                fp]
00:00B4 FF 40               [-ZS---]      387           xor     r0,     #0ffh
00:00B6 48-91 05-00         [-ZS---]      388           l       r1,     05h[er4
                                                ]
00:00BA 02-81               [-ZS---]      389           and     r1,     r0
00:00BC 49-91 05-00         [------]      390           st      r1,     05h[er4
                                                ]
                                          391   CBLOCKEND 82 2 187
                                          392   
                                          393   ;;}
                                          394   CLINEA 0000H 0001H 00BBH 0001H 
                                                0001H
00:00C0                                   395   _$L3 :
00:00C0 1E-F4               [------]      396           pop     er4
00:00C2 1E-F8               [------]      397           pop     er8
00:00C4 1E-FC               [------]      398           pop     bp
00:00C6 EA-A1               [------]      399           mov     sp,     fp
00:00C8 1E-FE               [------]      400           pop     fp
00:00CA 1F-FE               [------]      401           rt
                                          402   CBLOCKEND 82 1 187
                                          403   CFUNCTIONEND 82
                                          404   
                                          405   
  --------------------------              406           rseg $$uart_begin$drive
                                                r_uart
                                          407   CFUNCTION 86
                                          408   
00:0000                                   409   _uart_begin     :
                                          410   CBLOCK 86 1 193
                                          411   
                                          412   ;;{
                                          413   CLINEA 0000H 0001H 00C1H 0001H 
                                                0001H
                                          414   ;;*****************************
                                                ************
RASU8(ML620504F)Relocatable Assembler, Ver.1.61.2    assemble list. page:  14 
 Title : 
## Loc. Object              [CZSOMH]     Line   Source Statements

                                          415   ;;      register/stack informat
                                                ion
                                          416   ;;*****************************
                                                ************
    = 00000004H                           417           _rxcallback$4   set    
                                                 4
    = 00000006H                           418           _txcallback$6   set    
                                                 6
                                          419   ;;*****************************
                                                ************
                                          420   
00:0000 CE-F8               [------]      421           push    lr
00:0002 5E-FE               [------]      422           push    fp
00:0004 1A-AE               [------]      423           mov     fp,     sp
00:0006 6E-F8               [------]      424           push    xr8
00:0008 05-F8               [-ZS---]      425           mov     er8,    er0
00:000A 25-FA               [-ZS---]      426           mov     er10,   er2
                                          427   CBLOCK 86 2 193
                                          428   CRET 0006H
                                          429   CARGUMENT 46H 0004H 2928H "baud
                                                " 02H 00H 02H
                                          430   CARGUMENT 43H 0002H 0004H "rxca
                                                llback" 0AH 03H 00H 02H 78H 00H
                                                 00H 00H 00H 00H 07H
                                          431   CARGUMENT 43H 0002H 0006H "txca
                                                llback" 0AH 03H 00H 02H 79H 00H
                                                 00H 00H 00H 00H 07H
                                          432   
                                          433   ;;      clear_bit(DUA0);       
                                                                               
                                                  // enable UART0
                                          434   CLINEA 0000H 0001H 00C3H 0002H 
                                                0025H
00:000C A2-A0 6A-F0         [-Z----]      435           rb      0f06ah.2
                                          436   
                                          437   ;;      clear_bit(DUA1);       
                                                                               
                                                  // enable UART0
                                          438   CLINEA 0000H 0001H 00C4H 0002H 
                                                0025H
00:0010 B2-A0 6A-F0         [-Z----]      439           rb      0f06ah.3
                                          440   
                                          441   ;;      baud = 16000000/baud-1;
                                                                               
                                                  // calculate baud rate
                                          442   CLINEA 0000H 0001H 00C7H 0002H 
                                                0033H
00:0014 00 00               [-ZS---]      443           mov     r0,     #00h
00:0016 24 01               [-ZS---]      444           mov     r1,     #024h
00:0018 F4 02               [-ZS---]      445           mov     r2,     #0f4h
00:001A 00 03               [-ZS---]      446           mov     r3,     #00h
00:001C 6E-F0               [------]      447           push    xr0
00:001E 6E-F8               [------]      448           push    xr8
00:0020 01-F0'00-00'        [------]      449           bl      __uldivu8sw
00:0024 04 E1               [------]      450           add     sp,     #4 
00:0026 2E-F0               [------]      451           pop     xr0
RASU8(ML620504F)Relocatable Assembler, Ver.1.61.2    assemble list. page:  15 
 Title : 
## Loc. Object              [CZSOMH]     Line   Source Statements

00:0028 FF E0               [CZSO-H]      452           add     er0,    #-1
                                          453   
                                          454   ;;      write_reg16(UA0BRT, (UI
                                                NT16)baud);              // set
                                                 baud rate
                                          455   CLINEA 0000H 0001H 00C8H 0002H 
                                                0035H
00:002A 13-90 14-F7         [------]      456           st      er0,    0f714h
                                          457   
                                          458   ;;      write_reg8(UA0MOD1, 0x0
                                                8);                            
                                                  // parity bit = non, stop bit
                                                 = 1, flow = non
                                          459   CLINEA 0000H 0001H 00C9H 0002H 
                                                004CH
00:002E 08 00               [-ZS---]      460           mov     r0,     #08h
00:0030 11-90 13-F7         [------]      461           st      r0,     0f713h
                                          462   
                                          463   ;;      write_reg8(UA0MOD0, 0x0
                                                4);                            
                                                  // base clock = OSCLK(16MHz)
                                          464   CLINEA 0000H 0001H 00CAH 0002H 
                                                003BH
00:0034 04 00               [-ZS---]      465           mov     r0,     #04h
00:0036 11-90 12-F7         [------]      466           st      r0,     0f712h
                                          467   
                                          468   ;;      clear_bit(QUA0);       
                                                                               
                                                          // clear irq
                                          469   CLINEA 0000H 0001H 00D3H 0002H 
                                                0023H
00:003A C2-A0 1A-F0         [-Z----]      470           rb      0f01ah.4
                                          471   
                                          472   ;;      clear_bit(QUA1);       
                                                                               
                                                          // clear irq
                                          473   CLINEA 0000H 0001H 00D4H 0002H 
                                                0023H
00:003E D2-A0 1A-F0         [-Z----]      474           rb      0f01ah.5
                                          475   
                                          476   ;;      set_bit(EUA0);         
                                                                               
                                                  // disenable interrupt of UAR
                                                T RX 
                                          477   CLINEA 0000H 0001H 00D5H 0002H 
                                                0037H
00:0042 C0-A0 12-F0         [-Z----]      478           sb      0f012h.4
                                          479   
                                          480   ;;      set_bit(EUA1);         
                                                                               
                                                  // disenable interrupt of UAR
                                                T TX
                                          481   CLINEA 0000H 0001H 00D6H 0002H 
                                                0036H
00:0046 D0-A0 12-F0         [-Z----]      482           sb      0f012h.5
                                          483   
RASU8(ML620504F)Relocatable Assembler, Ver.1.61.2    assemble list. page:  16 
 Title : 
## Loc. Object              [CZSOMH]     Line   Source Statements

                                          484   ;;      if(rxcallback) {
                                          485   CLINEA 0000H 0001H 00D7H 0002H 
                                                0011H
00:004A 44 B0               [-ZS---]      486           l       er0,    _rxcall
                                                back$4[fp]
00:004C 05 C9               [------]      487           beq     _$L7
                                          488   CBLOCK 86 3 215
                                          489   
                                          490   ;;              irq_sethandler(
                                                IRQ_NO_UA0INT, rxcallback);    
                                                          // set interrupt hand
                                                ler of rx
                                          491   CLINEA 0000H 0001H 00D8H 0003H 
                                                004CH
00:004E 05-F2               [-ZS---]      492           mov     er2,    er0
00:0050 0D 00               [-ZS---]      493           mov     r0,     #0dh
00:0052 01-F0'00-00'        [------]      494           bl      _irq_sethandler
                                          495   CBLOCKEND 86 3 217
                                          496   
                                          497   ;;      } else {
                                          498   CLINEA 0000H 0000H 00D9H 0002H 
                                                0009H
00:0056 09 CE               [------]      499           bal     _$L9
00:0058                                   500   _$L7 :
                                          501   CBLOCK 86 4 217
                                          502   
                                          503   ;;              irq_sethandler(
                                                IRQ_NO_UA0INT, uart_rx_isr);   
                                                          // set interrupt hand
                                                ler of rx
                                          504   CLINEA 0000H 0001H 00DAH 0003H 
                                                004DH
00:0058 00'02               [-ZS---]      505           mov     r2,     #BYTE1 
                                                OFFSET _uart_rx_isr
00:005A 00'03               [-ZS---]      506           mov     r3,     #BYTE2 
                                                OFFSET _uart_rx_isr
00:005C 0D 00               [-ZS---]      507           mov     r0,     #0dh
00:005E 01-F0'00-00'        [------]      508           bl      _irq_sethandler
                                          509   
                                          510   ;;              uart_fifo_init(
                                                &uart_rx_fifo);
                                          511   CLINEA 0000H 0001H 00DBH 0003H 
                                                0020H
00:0062 00'00               [-ZS---]      512           mov     r0,     #BYTE1 
                                                OFFSET _uart_rx_fifo
00:0064 00'01               [-ZS---]      513           mov     r1,     #BYTE2 
                                                OFFSET _uart_rx_fifo
00:0066 01-F0'00-00'        [------]      514           bl      _uart_fifo_init
                                          515   CBLOCKEND 86 4 220
                                          516   
                                          517   ;;      }
                                          518   CLINEA 0000H 0000H 00DCH 0002H 
                                                0002H
00:006A                                   519   _$L9 :
                                          520   
                                          521   ;;      if(txcallback) {
RASU8(ML620504F)Relocatable Assembler, Ver.1.61.2    assemble list. page:  17 
 Title : 
## Loc. Object              [CZSOMH]     Line   Source Statements

                                          522   CLINEA 0000H 0001H 00DDH 0002H 
                                                0011H
00:006A 46 B0               [-ZS---]      523           l       er0,    _txcall
                                                back$6[fp]
00:006C 05 C9               [------]      524           beq     _$L10
                                          525   CBLOCK 86 5 221
                                          526   
                                          527   ;;              irq_sethandler(
                                                IRQ_NO_UA1INT, txcallback);    
                                                          // set interrupt hand
                                                ler of tx
                                          528   CLINEA 0000H 0001H 00DEH 0003H 
                                                004CH
00:006E 05-F2               [-ZS---]      529           mov     er2,    er0
00:0070 0E 00               [-ZS---]      530           mov     r0,     #0eh
00:0072 01-F0'00-00'        [------]      531           bl      _irq_sethandler
                                          532   CBLOCKEND 86 5 223
                                          533   
                                          534   ;;      } else {
                                          535   CLINEA 0000H 0000H 00DFH 0002H 
                                                0009H
00:0076 0E CE               [------]      536           bal     _$L12
00:0078                                   537   _$L10 :
                                          538   CBLOCK 86 6 223
                                          539   
                                          540   ;;              irq_sethandler(
                                                IRQ_NO_UA1INT, uart_tx_isr);   
                                                          // set interrupt hand
                                                ler of tx
                                          541   CLINEA 0000H 0001H 00E0H 0003H 
                                                004DH
00:0078 00'02               [-ZS---]      542           mov     r2,     #BYTE1 
                                                OFFSET _uart_tx_isr
00:007A 00'03               [-ZS---]      543           mov     r3,     #BYTE2 
                                                OFFSET _uart_tx_isr
00:007C 0E 00               [-ZS---]      544           mov     r0,     #0eh
00:007E 01-F0'00-00'        [------]      545           bl      _irq_sethandler
                                          546   
                                          547   ;;              uart_fifo_init(
                                                &uart_tx_fifo);
                                          548   CLINEA 0000H 0001H 00E1H 0003H 
                                                0020H
00:0082 00'00               [-ZS---]      549           mov     r0,     #BYTE1 
                                                OFFSET _uart_tx_fifo
00:0084 00'01               [-ZS---]      550           mov     r1,     #BYTE2 
                                                OFFSET _uart_tx_fifo
00:0086 01-F0'00-00'        [------]      551           bl      _uart_fifo_init
                                          552   
                                          553   ;;              uart_tx_flag = 
                                                false;
                                          554   CLINEA 0000H 0001H 00E2H 0003H 
                                                0017H
00:008A 00 00               [-ZS---]      555           mov     r0,     #00h
00:008C 11-90 00-00'        [------]      556           st      r0,     NEAR _u
                                                art_tx_flag
                                          557   
RASU8(ML620504F)Relocatable Assembler, Ver.1.61.2    assemble list. page:  18 
 Title : 
## Loc. Object              [CZSOMH]     Line   Source Statements

                                          558   ;;              uart_tx_sending
                                                 = false;
                                          559   CLINEA 0000H 0001H 00E3H 0003H 
                                                001AH
00:0090 11-90 00-00'        [------]      560           st      r0,     NEAR _u
                                                art_tx_sending
                                          561   CBLOCKEND 86 6 228
                                          562   
                                          563   ;;      }
                                          564   CLINEA 0000H 0000H 00E4H 0002H 
                                                0002H
00:0094                                   565   _$L12 :
                                          566   
                                          567   ;;      set_bit(U0EN);  // UART
                                                 Enable
                                          568   CLINEA 0000H 0001H 00E9H 0002H 
                                                001EH
00:0094 80-A0 11-F7         [-Z----]      569           sb      0f711h.0
                                          570   CBLOCKEND 86 2 236
                                          571   
                                          572   ;;}
                                          573   CLINEA 0000H 0000H 00ECH 0001H 
                                                0001H
00:0098 2E-F8               [------]      574           pop     xr8
00:009A EA-A1               [------]      575           mov     sp,     fp
00:009C 1E-FE               [------]      576           pop     fp
00:009E 8E-F2               [------]      577           pop     pc
                                          578   CBLOCKEND 86 1 236
                                          579   CFUNCTIONEND 86
                                          580   
                                          581   
  --------------------------              582           rseg $$uartf_begin$driv
                                                er_uart
                                          583   CFUNCTION 91
                                          584   
00:0000                                   585   _uartf_begin    :
                                          586   CBLOCK 91 1 239
                                          587   
                                          588   ;;{
                                          589   CLINEA 0000H 0001H 00EFH 0001H 
                                                0001H
                                          590   ;;*****************************
                                                ************
                                          591   ;;      register/stack informat
                                                ion
                                          592   ;;*****************************
                                                ************
    = FFFFFFFEH                           593           _dummy$0        set    
                                                 -2
                                          594   ;;*****************************
                                                ************
                                          595   
00:0000 CE-F8               [------]      596           push    lr
00:0002 5E-FE               [------]      597           push    fp
00:0004 1A-AE               [------]      598           mov     fp,     sp
00:0006 FE E1               [------]      599           add     sp,     #-02
RASU8(ML620504F)Relocatable Assembler, Ver.1.61.2    assemble list. page:  19 
 Title : 
## Loc. Object              [CZSOMH]     Line   Source Statements

00:0008 6E-F4               [------]      600           push    xr4
00:000A 5E-F8               [------]      601           push    er8
                                          602   CBLOCK 91 2 239
                                          603   CRET 000AH
                                          604   CARGUMENT 46H 0004H 2524H "baud
                                                " 02H 00H 02H
                                          605   CLOCAL 42H 0002H 0002H 0002H "d
                                                ummy" 02H 00H 08H
                                          606   
                                          607   ;;      clear_bit(DUAF0);      
                                                 // UART Enable
                                          608   CLINEA 0000H 0001H 00F1H 0002H 
                                                0021H
00:000C C2-A0 6A-F0         [-Z----]      609           rb      0f06ah.4
                                          610   
                                          611   ;;      baud = 16000000*12/(bau
                                                d*13*16);
                                          612   CLINEA 0000H 0001H 00F3H 0002H 
                                                0021H
00:0010 6E-F0               [------]      613           push    xr0
00:0012 D0 00               [-ZS---]      614           mov     r0,     #0d0h
00:0014 00 01               [-ZS---]      615           mov     r1,     #00h
00:0016 00 E2               [-ZS---]      616           mov     er2,    #0 
00:0018 6E-F0               [------]      617           push    xr0
00:001A 01-F0'00-00'        [------]      618           bl      __lmulu8sw
00:001E 04 E1               [------]      619           add     sp,     #4 
00:0020 2E-F0               [------]      620           pop     xr0
00:0022 00 04               [-ZS---]      621           mov     r4,     #00h
00:0024 B0 05               [-ZS---]      622           mov     r5,     #0b0h
00:0026 71 06               [-ZS---]      623           mov     r6,     #071h
00:0028 0B 07               [-ZS---]      624           mov     r7,     #0bh
00:002A 7E-F0               [------]      625           push    qr0
00:002C 01-F0'00-00'        [------]      626           bl      __uldivu8sw
00:0030 04 E1               [------]      627           add     sp,     #4 
00:0032 2E-F0               [------]      628           pop     xr0
00:0034 05-F8               [-ZS---]      629           mov     er8,    er0
                                          630   
                                          631   ;;      write_reg16(UAF0MOD,0x6
                                                3);
                                          632   CLINEA 0000H 0001H 00F5H 0002H 
                                                001BH
00:0036 63 00               [-ZS---]      633           mov     r0,     #063h
00:0038 00 01               [-ZS---]      634           mov     r1,     #00h
00:003A 13-90 C6-F7         [------]      635           st      er0,    0f7c6h
                                          636   
                                          637   ;;      write_reg16(UAF0MOD,0x0
                                                3);
                                          638   CLINEA 0000H 0001H 00F6H 0002H 
                                                001BH
00:003E 03 E0               [-ZS---]      639           mov     er0,    #3 
00:0040 13-90 C6-F7         [------]      640           st      er0,    0f7c6h
                                          641   
                                          642   ;;      write_reg8(UAF0CAJ,0x0D
                                                );
                                          643   CLINEA 0000H 0001H 00F8H 0002H 
                                                001AH
RASU8(ML620504F)Relocatable Assembler, Ver.1.61.2    assemble list. page:  20 
 Title : 
## Loc. Object              [CZSOMH]     Line   Source Statements

00:0044 0D E0               [-ZS---]      644           mov     er0,    #13
00:0046 13-90 CA-F7         [------]      645           st      er0,    0f7cah
                                          646   
                                          647   ;;      set_bit(UF0DLAB);
                                          648   CLINEA 0000H 0001H 00FAH 0002H 
                                                0012H
00:004A F0-A0 C6-F7         [-Z----]      649           sb      0f7c6h.7
                                          650   
                                          651   ;;      write_reg16(UAF0BUF, (U
                                                INT16)baud);
                                          652   CLINEA 0000H 0001H 00FBH 0002H 
                                                0024H
00:004E 13-98 C0-F7         [------]      653           st      er8,    0f7c0h
                                          654   
                                          655   ;;      clear_bit(UF0DLAB);
                                          656   CLINEA 0000H 0001H 00FCH 0002H 
                                                0014H
00:0052 F2-A0 C6-F7         [-Z----]      657           rb      0f7c6h.7
                                          658   
                                          659   ;;      write_reg8(UAF0IER,0x07
                                                );                             
                                                                  // all interr
                                                upts are enabled.
                                          660   CLINEA 0000H 0001H 00FEH 0002H 
                                                003EH
00:0056 07 E0               [-ZS---]      661           mov     er0,    #7 
00:0058 13-90 C2-F7         [------]      662           st      er0,    0f7c2h
                                          663   
                                          664   ;;      clear_bit(QUAF0);      
                                                                               
                                                                          // cl
                                                ear irq
                                          665   CLINEA 0000H 0001H 0100H 0002H 
                                                0026H
00:005C E2-A0 1A-F0         [-Z----]      666           rb      0f01ah.6
                                          667   
                                          668   ;;      set_bit(EUAF0);        
                                                                               
                                                                          // en
                                                able interrupt of UART TX
                                          669   CLINEA 0000H 0001H 0101H 0002H 
                                                0037H
00:0060 E0-A0 12-F0         [-Z----]      670           sb      0f012h.6
                                          671   
                                          672   ;;      irq_sethandler(IRQ_NO_U
                                                AF0INT, uartf_isr);            
                                                  // set interrupt handler of r
                                                x
                                          673   CLINEA 0000H 0001H 0102H 0002H 
                                                004BH
00:0064 00'02               [-ZS---]      674           mov     r2,     #BYTE1 
                                                OFFSET _uartf_isr
00:0066 00'03               [-ZS---]      675           mov     r3,     #BYTE2 
                                                OFFSET _uartf_isr
00:0068 0F 00               [-ZS---]      676           mov     r0,     #0fh
00:006A 01-F0'00-00'        [------]      677           bl      _irq_sethandler
RASU8(ML620504F)Relocatable Assembler, Ver.1.61.2    assemble list. page:  21 
 Title : 
## Loc. Object              [CZSOMH]     Line   Source Statements

                                          678   
                                          679   ;;      uart_fifo_init(&uartf_t
                                                x_fifo);
                                          680   CLINEA 0000H 0001H 0105H 0002H 
                                                0020H
00:006E 00'00               [-ZS---]      681           mov     r0,     #BYTE1 
                                                OFFSET _uartf_tx_fifo
00:0070 00'01               [-ZS---]      682           mov     r1,     #BYTE2 
                                                OFFSET _uartf_tx_fifo
00:0072 01-F0'00-00'        [------]      683           bl      _uart_fifo_init
                                          684   
                                          685   ;;      uart_fifo_init(&uartf_r
                                                x_fifo);
                                          686   CLINEA 0000H 0001H 0106H 0002H 
                                                0020H
00:0076 00'00               [-ZS---]      687           mov     r0,     #BYTE1 
                                                OFFSET _uartf_rx_fifo
00:0078 00'01               [-ZS---]      688           mov     r1,     #BYTE2 
                                                OFFSET _uartf_rx_fifo
00:007A 01-F0'00-00'        [------]      689           bl      _uart_fifo_init
                                          690   
                                          691   ;;      uartf_tx_flag = false;
                                          692   CLINEA 0000H 0001H 0108H 0002H 
                                                0017H
00:007E 00 00               [-ZS---]      693           mov     r0,     #00h
00:0080 11-90 00-00'        [------]      694           st      r0,     NEAR _u
                                                artf_tx_flag
                                          695   
                                          696   ;;      set_bit(UF0RFR);
                                          697   CLINEA 0000H 0001H 0109H 0002H 
                                                0011H
00:0084 90-A0 C7-F7         [-Z----]      698           sb      0f7c7h.1
                                          699   
                                          700   ;;      set_bit(UF0TFR);
                                          701   CLINEA 0000H 0001H 010AH 0002H 
                                                0011H
00:0088 A0-A0 C7-F7         [-Z----]      702           sb      0f7c7h.2
                                          703   
                                          704   ;;      dummy = read_reg16(UAF0
                                                BUF);
                                          705   CLINEA 0000H 0001H 010BH 0002H 
                                                001DH
00:008C 12-90 C0-F7         [-ZS---]      706           l       er0,    0f7c0h
00:0090 FE B0               [------]      707           st      er0,    _dummy$
                                                0[fp]
                                          708   
                                          709   ;;      dummy = read_reg16(UAF0
                                                IIR);
                                          710   CLINEA 0000H 0001H 010CH 0002H 
                                                001DH
00:0092 12-90 C4-F7         [-ZS---]      711           l       er0,    0f7c4h
00:0096 FE B0               [------]      712           st      er0,    _dummy$
                                                0[fp]
                                          713   CBLOCK 91 3 271
                                          714   CLOCAL 46H 0002H 0025H 0003H "d
                                                ummy" 02H 00H 08H
RASU8(ML620504F)Relocatable Assembler, Ver.1.61.2    assemble list. page:  22 
 Title : 
## Loc. Object              [CZSOMH]     Line   Source Statements

                                          715   
                                          716   ;;              while(UAF0IIR==
                                                6) {
                                          717   CLINEA 0000H 0001H 0112H 0003H 
                                                0015H
00:0098 0E CE               [------]      718           bal     _$L14
00:009A                                   719   _$L16 :
                                          720   CBLOCK 91 4 274
                                          721   
                                          722   ;;                      if(dumm
                                                y==0x06)
                                          723   CLINEA 0000H 0001H 0116H 0004H 
                                                0012H
00:009A 06 72               [CZSO-H]      724           cmp     r2,     #06h
00:009C 00 53               [CZSO-H]      725           cmpc    r3,     #00h
00:009E 09 C8               [------]      726           bne     _$L18
                                          727   CBLOCK 91 5 279
                                          728   
                                          729   ;;                             
                                                 dummy=UAF0BUF;
                                          730   CLINEA 0000H 0001H 0118H 0005H 
                                                0012H
00:00A0 12-90 C0-F7         [-ZS---]      731           l       er0,    0f7c0h
00:00A4 05-F2               [-ZS---]      732           mov     er2,    er0    
                                                 ;; _ldummy$2
                                          733   
                                          734   ;;                             
                                                 dummy=UAF0LSR;
                                          735   CLINEA 0000H 0001H 0119H 0005H 
                                                0012H
00:00A6 12-90 C8-F7         [-ZS---]      736           l       er0,    0f7c8h
00:00AA 05-F2               [-ZS---]      737           mov     er2,    er0    
                                                 ;; _ldummy$2
                                          738   
                                          739   ;;                             
                                                 dummy = UAF0IIR;
                                          740   CLINEA 0000H 0001H 011CH 0005H 
                                                0014H
00:00AC 12-90 C4-F7         [-ZS---]      741           l       er0,    0f7c4h
00:00B0 05-F2               [-ZS---]      742           mov     er2,    er0    
                                                 ;; _ldummy$2
                                          743   CBLOCKEND 91 5 287
                                          744   
                                          745   ;;                      }
                                          746   CLINEA 0000H 0000H 011FH 0004H 
                                                0004H
00:00B2                                   747   _$L18 :
                                          748   
                                          749   ;;                      dummy=U
                                                AF0IIR;
                                          750   CLINEA 0000H 0001H 0120H 0004H 
                                                0011H
00:00B2 12-90 C4-F7         [-ZS---]      751           l       er0,    0f7c4h
                                          752   CBLOCKEND 91 4 289
                                          753   
                                          754   ;;              }
RASU8(ML620504F)Relocatable Assembler, Ver.1.61.2    assemble list. page:  23 
 Title : 
## Loc. Object              [CZSOMH]     Line   Source Statements

                                          755   CLINEA 0000H 0000H 0121H 0003H 
                                                0003H
00:00B6                                   756   _$L14 :
00:00B6 05-F2               [-ZS---]      757           mov     er2,    er0    
                                                 ;; _ldummy$2
                                          758   
                                          759   ;;              while(UAF0IIR==
                                                6) {
                                          760   CLINEA 0000H 0000H 0112H 0000H 
                                                0000H
00:00B8 12-90 C4-F7         [-ZS---]      761           l       er0,    0f7c4h
00:00BC 06 70               [CZSO-H]      762           cmp     r0,     #06h
00:00BE 00 51               [CZSO-H]      763           cmpc    r1,     #00h
00:00C0 EC C9               [------]      764           beq     _$L16
                                          765   CBLOCKEND 91 3 290
                                          766   CBLOCKEND 91 2 292
                                          767   
                                          768   ;;}
                                          769   CLINEA 0000H 0000H 0124H 0001H 
                                                0001H
00:00C2 1E-F8               [------]      770           pop     er8
00:00C4 2E-F4               [------]      771           pop     xr4
00:00C6 EA-A1               [------]      772           mov     sp,     fp
00:00C8 1E-FE               [------]      773           pop     fp
00:00CA 8E-F2               [------]      774           pop     pc
                                          775   CBLOCKEND 91 1 292
                                          776   CFUNCTIONEND 91
                                          777   
                                          778   
  --------------------------              779           rseg $$uart_end$driver_
                                                uart
                                          780   CFUNCTION 83
                                          781   
00:0000                                   782   _uart_end       :
                                          783   CBLOCK 83 1 296
                                          784   
                                          785   ;;{
                                          786   CLINEA 0000H 0001H 0128H 0001H 
                                                0001H
                                          787   ;;*****************************
                                                ************
                                          788   ;;      register/stack informat
                                                ion
                                          789   ;;*****************************
                                                ************
                                          790   ;;*****************************
                                                ************
                                          791   
                                          792   CBLOCK 83 2 296
                                          793   
                                          794   ;;      clear_bit(EUA0);       
                                                                               
                                                          // disenable interrup
                                                t of UART RX 
                                          795   CLINEA 0000H 0001H 012AH 0002H 
                                                0039H
RASU8(ML620504F)Relocatable Assembler, Ver.1.61.2    assemble list. page:  24 
 Title : 
## Loc. Object              [CZSOMH]     Line   Source Statements

00:0000 C2-A0 12-F0         [-Z----]      796           rb      0f012h.4
                                          797   
                                          798   ;;      clear_bit(EUA1);       
                                                                               
                                                          // disenable interrup
                                                t of UART TX
                                          799   CLINEA 0000H 0001H 012BH 0002H 
                                                0038H
00:0004 D2-A0 12-F0         [-Z----]      800           rb      0f012h.5
                                          801   
                                          802   ;;      clear_bit(QUA0);       
                                                                               
                                                          // clear irq
                                          803   CLINEA 0000H 0001H 012CH 0002H 
                                                0023H
00:0008 C2-A0 1A-F0         [-Z----]      804           rb      0f01ah.4
                                          805   
                                          806   ;;      clear_bit(QUA1);       
                                                                               
                                                          // clear irq
                                          807   CLINEA 0000H 0001H 012DH 0002H 
                                                0023H
00:000C D2-A0 1A-F0         [-Z----]      808           rb      0f01ah.5
                                          809   
                                          810   ;;      clear_bit(U0EN);       
                                                                               
                                                          // rx disenable
                                          811   CLINEA 0000H 0001H 012EH 0002H 
                                                0026H
00:0010 82-A0 11-F7         [-Z----]      812           rb      0f711h.0
                                          813   
                                          814   ;;      set_bit(DUA0);         
                                                                               
                                                          // disenable UART0
                                          815   CLINEA 0000H 0001H 0130H 0002H 
                                                0028H
00:0014 A0-A0 6A-F0         [-Z----]      816           sb      0f06ah.2
                                          817   
                                          818   ;;      set_bit(DUA1);         
                                                                               
                                                          // disenable UART0
                                          819   CLINEA 0000H 0001H 0131H 0002H 
                                                0028H
00:0018 B0-A0 6A-F0         [-Z----]      820           sb      0f06ah.3
                                          821   CBLOCKEND 83 2 307
                                          822   
                                          823   ;;}
                                          824   CLINEA 0000H 0000H 0133H 0001H 
                                                0001H
00:001C 1F-FE               [------]      825           rt
                                          826   CBLOCKEND 83 1 307
                                          827   CFUNCTIONEND 83
                                          828   
                                          829   
  --------------------------              830           rseg $$uartf_end$driver
                                                _uart
RASU8(ML620504F)Relocatable Assembler, Ver.1.61.2    assemble list. page:  25 
 Title : 
## Loc. Object              [CZSOMH]     Line   Source Statements

                                          831   CFUNCTION 92
                                          832   
00:0000                                   833   _uartf_end      :
                                          834   CBLOCK 92 1 310
                                          835   
                                          836   ;;{
                                          837   CLINEA 0000H 0001H 0136H 0001H 
                                                0001H
                                          838   ;;*****************************
                                                ************
                                          839   ;;      register/stack informat
                                                ion
                                          840   ;;*****************************
                                                ************
                                          841   ;;*****************************
                                                ************
                                          842   
                                          843   CBLOCK 92 2 310
                                          844   
                                          845   ;;      clear_bit(EUAF0);      
                                                                               
                                                          // disenable interrup
                                                t of UART RX 
                                          846   CLINEA 0000H 0001H 0138H 0002H 
                                                003AH
00:0000 E2-A0 12-F0         [-Z----]      847           rb      0f012h.6
                                          848   
                                          849   ;;      clear_bit(QUAF0);      
                                                                               
                                                          // clear irq
                                          850   CLINEA 0000H 0001H 0139H 0002H 
                                                0024H
00:0004 E2-A0 1A-F0         [-Z----]      851           rb      0f01ah.6
                                          852   
                                          853   ;;      set_bit(DUAF0);        
                                                                               
                                                          // enable UART0
                                          854   CLINEA 0000H 0001H 013AH 0002H 
                                                0026H
00:0008 C0-A0 6A-F0         [-Z----]      855           sb      0f06ah.4
                                          856   CBLOCKEND 92 2 316
                                          857   
                                          858   ;;}
                                          859   CLINEA 0000H 0000H 013CH 0001H 
                                                0001H
00:000C 1F-FE               [------]      860           rt
                                          861   CBLOCKEND 92 1 316
                                          862   CFUNCTIONEND 92
                                          863   
                                          864   
  --------------------------              865           rseg $$uart_rx_availabl
                                                e$driver_uart
                                          866   CFUNCTION 88
                                          867   
00:0000                                   868   _uart_rx_available      :
                                          869   CBLOCK 88 1 320
RASU8(ML620504F)Relocatable Assembler, Ver.1.61.2    assemble list. page:  26 
 Title : 
## Loc. Object              [CZSOMH]     Line   Source Statements

                                          870   
                                          871   ;;{
                                          872   CLINEA 0000H 0001H 0140H 0001H 
                                                0001H
                                          873   ;;*****************************
                                                ************
                                          874   ;;      register/stack informat
                                                ion
                                          875   ;;*****************************
                                                ************
                                          876   ;;*****************************
                                                ************
                                          877   
                                          878   CBLOCK 88 2 320
                                          879   
                                          880   ;;      return uart_rx_fifo.len
                                                gth;
                                          881   CLINEA 0000H 0001H 0141H 0002H 
                                                001CH
00:0000 10-90 00-00'        [-ZS---]      882           l       r0,     NEAR _u
                                                art_rx_fifo+06h
00:0004 00 01               [-ZS---]      883           mov     r1,     #00h
                                          884   CBLOCKEND 88 2 322
                                          885   
                                          886   ;;}
                                          887   CLINEA 0000H 0000H 0142H 0001H 
                                                0001H
00:0006 1F-FE               [------]      888           rt
                                          889   CBLOCKEND 88 1 322
                                          890   CFUNCTIONEND 88
                                          891   
                                          892   
  --------------------------              893           rseg $$uartf_rx_availab
                                                le$driver_uart
                                          894   CFUNCTION 93
                                          895   
00:0000                                   896   _uartf_rx_available     :
                                          897   CBLOCK 93 1 325
                                          898   
                                          899   ;;{
                                          900   CLINEA 0000H 0001H 0145H 0001H 
                                                0001H
                                          901   ;;*****************************
                                                ************
                                          902   ;;      register/stack informat
                                                ion
                                          903   ;;*****************************
                                                ************
                                          904   ;;*****************************
                                                ************
                                          905   
                                          906   CBLOCK 93 2 325
                                          907   
                                          908   ;;      return uartf_rx_fifo.le
                                                ngth;
                                          909   CLINEA 0000H 0001H 0146H 0002H 
RASU8(ML620504F)Relocatable Assembler, Ver.1.61.2    assemble list. page:  27 
 Title : 
## Loc. Object              [CZSOMH]     Line   Source Statements

                                                001DH
00:0000 10-90 00-00'        [-ZS---]      910           l       r0,     NEAR _u
                                                artf_rx_fifo+06h
00:0004 00 01               [-ZS---]      911           mov     r1,     #00h
                                          912   CBLOCKEND 93 2 327
                                          913   
                                          914   ;;}
                                          915   CLINEA 0000H 0000H 0147H 0001H 
                                                0001H
00:0006 1F-FE               [------]      916           rt
                                          917   CBLOCKEND 93 1 327
                                          918   CFUNCTIONEND 93
                                          919   
                                          920   
  --------------------------              921           rseg $$uart_tx_availabl
                                                e$driver_uart
                                          922   CFUNCTION 87
                                          923   
00:0000                                   924   _uart_tx_available      :
                                          925   CBLOCK 87 1 331
                                          926   
                                          927   ;;{
                                          928   CLINEA 0000H 0001H 014BH 0001H 
                                                0001H
                                          929   ;;*****************************
                                                ************
                                          930   ;;      register/stack informat
                                                ion
                                          931   ;;*****************************
                                                ************
                                          932   ;;*****************************
                                                ************
                                          933   
                                          934   CBLOCK 87 2 331
                                          935   
                                          936   ;;      return (uart_tx_fifo.ma
                                                x_length-uart_tx_fifo.length);
                                          937   CLINEA 0000H 0001H 014CH 0002H 
                                                0036H
00:0000 10-92 00-00'        [-ZS---]      938           l       r2,     NEAR _u
                                                art_tx_fifo+06h
00:0004 00 03               [-ZS---]      939           mov     r3,     #00h
00:0006 10-90 00-00'        [-ZS---]      940           l       r0,     NEAR _u
                                                art_tx_fifo
00:000A 00 01               [-ZS---]      941           mov     r1,     #00h
00:000C 28-80               [CZSO-H]      942           sub     r0,     r2
00:000E 39-81               [CZSO-H]      943           subc    r1,     r3
                                          944   CBLOCKEND 87 2 333
                                          945   
                                          946   ;;}
                                          947   CLINEA 0000H 0000H 014DH 0001H 
                                                0001H
00:0010 1F-FE               [------]      948           rt
                                          949   CBLOCKEND 87 1 333
                                          950   CFUNCTIONEND 87
                                          951   
RASU8(ML620504F)Relocatable Assembler, Ver.1.61.2    assemble list. page:  28 
 Title : 
## Loc. Object              [CZSOMH]     Line   Source Statements

                                          952   
  --------------------------              953           rseg $$uartf_tx_availab
                                                le$driver_uart
                                          954   CFUNCTION 94
                                          955   
00:0000                                   956   _uartf_tx_available     :
                                          957   CBLOCK 94 1 336
                                          958   
                                          959   ;;{
                                          960   CLINEA 0000H 0001H 0150H 0001H 
                                                0001H
                                          961   ;;*****************************
                                                ************
                                          962   ;;      register/stack informat
                                                ion
                                          963   ;;*****************************
                                                ************
                                          964   ;;*****************************
                                                ************
                                          965   
                                          966   CBLOCK 94 2 336
                                          967   
                                          968   ;;      return (uartf_tx_fifo.m
                                                ax_length-uartf_tx_fifo.length)
                                                ;
                                          969   CLINEA 0000H 0001H 0151H 0002H 
                                                0038H
00:0000 10-92 00-00'        [-ZS---]      970           l       r2,     NEAR _u
                                                artf_tx_fifo+06h
00:0004 00 03               [-ZS---]      971           mov     r3,     #00h
00:0006 10-90 00-00'        [-ZS---]      972           l       r0,     NEAR _u
                                                artf_tx_fifo
00:000A 00 01               [-ZS---]      973           mov     r1,     #00h
00:000C 28-80               [CZSO-H]      974           sub     r0,     r2
00:000E 39-81               [CZSO-H]      975           subc    r1,     r3
                                          976   CBLOCKEND 94 2 338
                                          977   
                                          978   ;;}
                                          979   CLINEA 0000H 0000H 0152H 0001H 
                                                0001H
00:0010 1F-FE               [------]      980           rt
                                          981   CBLOCKEND 94 1 338
                                          982   CFUNCTIONEND 94
                                          983   
                                          984   
  --------------------------              985           rseg $$uart_tx_write$dr
                                                iver_uart
                                          986   CFUNCTION 95
                                          987   
00:0000                                   988   _uart_tx_write  :
                                          989   CBLOCK 95 1 344
                                          990   
                                          991   ;;{
                                          992   CLINEA 0000H 0001H 0158H 0001H 
                                                0001H
                                          993   ;;*****************************
RASU8(ML620504F)Relocatable Assembler, Ver.1.61.2    assemble list. page:  29 
 Title : 
## Loc. Object              [CZSOMH]     Line   Source Statements

                                                ************
                                          994   ;;      register/stack informat
                                                ion
                                          995   ;;*****************************
                                                ************
                                          996   ;;*****************************
                                                ************
                                          997   
00:0000 CE-F8               [------]      998           push    lr
00:0002 5E-F8               [------]      999           push    er8
00:0004 5E-F4               [------]     1000           push    er4
00:0006 00-88               [-ZS---]     1001           mov     r8,     r0
                                         1002   CBLOCK 95 2 344
                                         1003   CRET 0004H
                                         1004   CARGUMENT 47H 0001H 001CH "data
                                                " 02H 00H 00H
                                         1005   CLOCAL 46H 0002H 0026H 0002H "r
                                                es" 02H 00H 01H
                                         1006   
                                         1007   ;;      dis_interrupts(DI_UART)
                                                ;
                                         1008   CLINEA 0000H 0001H 015CH 0002H 
                                                0019H
00:0008 02 E0               [-ZS---]     1009           mov     er0,    #2 
00:000A 01-F0'00-00'        [------]     1010           bl      _dis_interrupts
                                         1011   
                                         1012   ;;      res = uart_fifo_in(&uar
                                                t_tx_fifo,data);
                                         1013   CLINEA 0000H 0000H 015DH 0002H 
                                                0028H
00:000E 80-82               [-ZS---]     1014           mov     r2,     r8
00:0010 00'00               [-ZS---]     1015           mov     r0,     #BYTE1 
                                                OFFSET _uart_tx_fifo
00:0012 00'01               [-ZS---]     1016           mov     r1,     #BYTE2 
                                                OFFSET _uart_tx_fifo
00:0014 01-F0'00-00'        [------]     1017           bl      _uart_fifo_in
00:0018 05-F4               [-ZS---]     1018           mov     er4,    er0    
                                                 ;; _lres$0
                                         1019   
                                         1020   ;;      if(res == 1)
                                         1021   CLINEA 0000H 0001H 015FH 0002H 
                                                000DH
00:001A 01 70               [CZSO-H]     1022           cmp     r0,     #01h
00:001C 00 51               [CZSO-H]     1023           cmpc    r1,     #00h
00:001E 0E C8               [------]     1024           bne     _$L29
                                         1025   CBLOCK 95 3 352
                                         1026   
                                         1027   ;;              if(uart_tx_flag
                                                 == false)
                                         1028   CLINEA 0000H 0001H 0161H 0003H 
                                                001BH
00:0020 10-90 00-00'        [-ZS---]     1029           l       r0,     NEAR _u
                                                art_tx_flag
00:0024 0B C8               [------]     1030           bne     _$L29
                                         1031   CBLOCK 95 4 354
                                         1032   
RASU8(ML620504F)Relocatable Assembler, Ver.1.61.2    assemble list. page:  30 
 Title : 
## Loc. Object              [CZSOMH]     Line   Source Statements

                                         1033   ;;                      data = 
                                                (char)uart_fifo_out(&uart_tx_fi
                                                fo);
                                         1034   CLINEA 0000H 0000H 0163H 0004H 
                                                002DH
00:0026 00'00               [-ZS---]     1035           mov     r0,     #BYTE1 
                                                OFFSET _uart_tx_fifo
00:0028 00'01               [-ZS---]     1036           mov     r1,     #BYTE2 
                                                OFFSET _uart_tx_fifo
00:002A 01-F0'00-00'        [------]     1037           bl      _uart_fifo_out
                                         1038   
                                         1039   ;;                      write_r
                                                eg8(UA1BUF,data);
                                         1040   CLINEA 0000H 0001H 0164H 0004H 
                                                001BH
00:002E 11-90 18-F7         [------]     1041           st      r0,     0f718h
                                         1042   
                                         1043   ;;                      uart_tx
                                                _flag = true;
                                         1044   CLINEA 0000H 0001H 0165H 0004H 
                                                0017H
00:0032 01 00               [-ZS---]     1045           mov     r0,     #01h
00:0034 11-90 00-00'        [------]     1046           st      r0,     NEAR _u
                                                art_tx_flag
                                         1047   
                                         1048   ;;                      uart_tx
                                                _sending = true;
                                         1049   CLINEA 0000H 0001H 0166H 0004H 
                                                001AH
00:0038 11-90 00-00'        [------]     1050           st      r0,     NEAR _u
                                                art_tx_sending
                                         1051   CBLOCKEND 95 4 359
                                         1052   
                                         1053   ;;              }
                                         1054   CLINEA 0000H 0000H 0167H 0003H 
                                                0003H
00:003C                                  1055   _$L29 :
                                         1056   CBLOCKEND 95 3 360
                                         1057   
                                         1058   ;;      enb_interrupts(DI_UART)
                                                ;
                                         1059   CLINEA 0000H 0001H 016AH 0002H 
                                                0019H
00:003C 02 E0               [-ZS---]     1060           mov     er0,    #2 
00:003E 01-F0'00-00'        [------]     1061           bl      _enb_interrupts
                                         1062   
                                         1063   ;;      return res;
                                         1064   CLINEA 0000H 0001H 016BH 0002H 
                                                000CH
00:0042 45-F0               [-ZS---]     1065           mov     er0,    er4
                                         1066   CBLOCKEND 95 2 364
                                         1067   
                                         1068   ;;}
                                         1069   CLINEA 0000H 0000H 016CH 0001H 
                                                0001H
00:0044 1E-F4               [------]     1070           pop     er4
RASU8(ML620504F)Relocatable Assembler, Ver.1.61.2    assemble list. page:  31 
 Title : 
## Loc. Object              [CZSOMH]     Line   Source Statements

00:0046 1E-F8               [------]     1071           pop     er8
00:0048 8E-F2               [------]     1072           pop     pc
                                         1073   CBLOCKEND 95 1 364
                                         1074   CFUNCTIONEND 95
                                         1075   
                                         1076   
  --------------------------             1077           rseg $$uartf_tx_write$d
                                                river_uart
                                         1078   CFUNCTION 96
                                         1079   
00:0000                                  1080   _uartf_tx_write :
                                         1081   CBLOCK 96 1 367
                                         1082   
                                         1083   ;;{
                                         1084   CLINEA 0000H 0001H 016FH 0001H 
                                                0001H
                                         1085   ;;*****************************
                                                ************
                                         1086   ;;      register/stack informat
                                                ion
                                         1087   ;;*****************************
                                                ************
                                         1088   ;;*****************************
                                                ************
                                         1089   
00:0000 CE-F8               [------]     1090           push    lr
00:0002 5E-F8               [------]     1091           push    er8
00:0004 5E-F4               [------]     1092           push    er4
00:0006 00-88               [-ZS---]     1093           mov     r8,     r0
                                         1094   CBLOCK 96 2 367
                                         1095   CRET 0004H
                                         1096   CARGUMENT 47H 0001H 001CH "data
                                                " 02H 00H 00H
                                         1097   CLOCAL 46H 0002H 0026H 0002H "r
                                                es" 02H 00H 01H
                                         1098   
                                         1099   ;;      dis_interrupts(DI_UARTF
                                                );
                                         1100   CLINEA 0000H 0001H 0173H 0002H 
                                                001AH
00:0008 04 E0               [-ZS---]     1101           mov     er0,    #4 
00:000A 01-F0'00-00'        [------]     1102           bl      _dis_interrupts
                                         1103   
                                         1104   ;;      res = uart_fifo_in(&uar
                                                tf_tx_fifo,data);
                                         1105   CLINEA 0000H 0000H 0174H 0002H 
                                                0029H
00:000E 80-82               [-ZS---]     1106           mov     r2,     r8
00:0010 00'00               [-ZS---]     1107           mov     r0,     #BYTE1 
                                                OFFSET _uartf_tx_fifo
00:0012 00'01               [-ZS---]     1108           mov     r1,     #BYTE2 
                                                OFFSET _uartf_tx_fifo
00:0014 01-F0'00-00'        [------]     1109           bl      _uart_fifo_in
00:0018 05-F4               [-ZS---]     1110           mov     er4,    er0    
                                                 ;; _lres$0
                                         1111   
RASU8(ML620504F)Relocatable Assembler, Ver.1.61.2    assemble list. page:  32 
 Title : 
## Loc. Object              [CZSOMH]     Line   Source Statements

                                         1112   ;;      if(res == 1)
                                         1113   CLINEA 0000H 0001H 0176H 0002H 
                                                000DH
00:001A 01 70               [CZSO-H]     1114           cmp     r0,     #01h
00:001C 00 51               [CZSO-H]     1115           cmpc    r1,     #00h
00:001E 11 C8               [------]     1116           bne     _$L34
                                         1117   CBLOCK 96 3 375
                                         1118   
                                         1119   ;;              if(uartf_tx_fla
                                                g == false)
                                         1120   CLINEA 0000H 0001H 0178H 0003H 
                                                001CH
00:0020 10-90 00-00'        [-ZS---]     1121           l       r0,     NEAR _u
                                                artf_tx_flag
00:0024 0E C8               [------]     1122           bne     _$L34
                                         1123   CBLOCK 96 4 377
                                         1124   
                                         1125   ;;                      data = 
                                                (char)uart_fifo_out(&uartf_tx_f
                                                ifo);
                                         1126   CLINEA 0000H 0000H 017AH 0004H 
                                                002EH
00:0026 00'00               [-ZS---]     1127           mov     r0,     #BYTE1 
                                                OFFSET _uartf_tx_fifo
00:0028 00'01               [-ZS---]     1128           mov     r1,     #BYTE2 
                                                OFFSET _uartf_tx_fifo
00:002A 01-F0'00-00'        [------]     1129           bl      _uart_fifo_out
                                         1130   
                                         1131   ;;                      write_r
                                                eg8(UAF0BUF,data);
                                         1132   CLINEA 0000H 0001H 017BH 0004H 
                                                001CH
00:002E 00 01               [-ZS---]     1133           mov     r1,     #00h
00:0030 13-90 C0-F7         [------]     1134           st      er0,    0f7c0h
                                         1135   
                                         1136   ;;                      set_bit
                                                (UF0IRQ);
                                         1137   CLINEA 0000H 0001H 017CH 0004H 
                                                0013H
00:0034 80-A0 CC-F7         [-Z----]     1138           sb      0f7cch.0
                                         1139   
                                         1140   ;;                      uartf_t
                                                x_flag = true;
                                         1141   CLINEA 0000H 0001H 017DH 0004H 
                                                0018H
00:0038 01 00               [-ZS---]     1142           mov     r0,     #01h
00:003A 11-90 00-00'        [------]     1143           st      r0,     NEAR _u
                                                artf_tx_flag
                                         1144   
                                         1145   ;;                      uartf_t
                                                x_sending = true;
                                         1146   CLINEA 0000H 0001H 017EH 0004H 
                                                001BH
00:003E 11-90 00-00'        [------]     1147           st      r0,     NEAR _u
                                                artf_tx_sending
                                         1148   CBLOCKEND 96 4 383
RASU8(ML620504F)Relocatable Assembler, Ver.1.61.2    assemble list. page:  33 
 Title : 
## Loc. Object              [CZSOMH]     Line   Source Statements

                                         1149   
                                         1150   ;;              }
                                         1151   CLINEA 0000H 0000H 017FH 0003H 
                                                0003H
00:0042                                  1152   _$L34 :
                                         1153   CBLOCKEND 96 3 384
                                         1154   
                                         1155   ;;      enb_interrupts(DI_UARTF
                                                );
                                         1156   CLINEA 0000H 0001H 0182H 0002H 
                                                001AH
00:0042 04 E0               [-ZS---]     1157           mov     er0,    #4 
00:0044 01-F0'00-00'        [------]     1158           bl      _enb_interrupts
                                         1159   
                                         1160   ;;      return res;
                                         1161   CLINEA 0000H 0001H 0183H 0002H 
                                                000CH
00:0048 45-F0               [-ZS---]     1162           mov     er0,    er4
                                         1163   CBLOCKEND 96 2 388
                                         1164   
                                         1165   ;;}
                                         1166   CLINEA 0000H 0000H 0184H 0001H 
                                                0001H
00:004A 1E-F4               [------]     1167           pop     er4
00:004C 1E-F8               [------]     1168           pop     er8
00:004E 8E-F2               [------]     1169           pop     pc
                                         1170   CBLOCKEND 96 1 388
                                         1171   CFUNCTIONEND 96
                                         1172   
                                         1173   
  --------------------------             1174           rseg $$uart_rx_read$dri
                                                ver_uart
                                         1175   CFUNCTION 97
                                         1176   
00:0000                                  1177   _uart_rx_read   :
                                         1178   CBLOCK 97 1 394
                                         1179   
                                         1180   ;;{
                                         1181   CLINEA 0000H 0001H 018AH 0001H 
                                                0001H
                                         1182   ;;*****************************
                                                ************
                                         1183   ;;      register/stack informat
                                                ion
                                         1184   ;;*****************************
                                                ************
                                         1185   ;;*****************************
                                                ************
                                         1186   
00:0000 CE-F8               [------]     1187           push    lr
00:0002 5E-F4               [------]     1188           push    er4
                                         1189   CBLOCK 97 2 394
                                         1190   CRET 0002H
                                         1191   CLOCAL 47H 0002H 0026H 0002H "r
                                                es" 02H 00H 01H
                                         1192   
RASU8(ML620504F)Relocatable Assembler, Ver.1.61.2    assemble list. page:  34 
 Title : 
## Loc. Object              [CZSOMH]     Line   Source Statements

                                         1193   ;;      dis_interrupts(DI_UART)
                                                ;
                                         1194   CLINEA 0000H 0001H 018DH 0002H 
                                                0019H
00:0004 02 E0               [-ZS---]     1195           mov     er0,    #2 
00:0006 01-F0'00-00'        [------]     1196           bl      _dis_interrupts
                                         1197   
                                         1198   ;;      res = uart_fifo_out(&ua
                                                rt_rx_fifo);             // get
                                                 data
                                         1199   CLINEA 0000H 0000H 018EH 0002H 
                                                0031H
00:000A 00'00               [-ZS---]     1200           mov     r0,     #BYTE1 
                                                OFFSET _uart_rx_fifo
00:000C 00'01               [-ZS---]     1201           mov     r1,     #BYTE2 
                                                OFFSET _uart_rx_fifo
00:000E 01-F0'00-00'        [------]     1202           bl      _uart_fifo_out
00:0012 05-F4               [-ZS---]     1203           mov     er4,    er0    
                                                 ;; _lres$0
                                         1204   
                                         1205   ;;      enb_interrupts(DI_UART)
                                                ;
                                         1206   CLINEA 0000H 0001H 0190H 0002H 
                                                0019H
00:0014 02 E0               [-ZS---]     1207           mov     er0,    #2 
00:0016 01-F0'00-00'        [------]     1208           bl      _enb_interrupts
                                         1209   
                                         1210   ;;      return res;
                                         1211   CLINEA 0000H 0001H 0192H 0002H 
                                                000CH
00:001A 45-F0               [-ZS---]     1212           mov     er0,    er4
                                         1213   CBLOCKEND 97 2 403
                                         1214   
                                         1215   ;;}
                                         1216   CLINEA 0000H 0000H 0193H 0001H 
                                                0001H
00:001C 1E-F4               [------]     1217           pop     er4
00:001E 8E-F2               [------]     1218           pop     pc
                                         1219   CBLOCKEND 97 1 403
                                         1220   CFUNCTIONEND 97
                                         1221   
                                         1222   
  --------------------------             1223           rseg $$uartf_rx_read$dr
                                                iver_uart
                                         1224   CFUNCTION 98
                                         1225   
00:0000                                  1226   _uartf_rx_read  :
                                         1227   CBLOCK 98 1 406
                                         1228   
                                         1229   ;;{
                                         1230   CLINEA 0000H 0001H 0196H 0001H 
                                                0001H
                                         1231   ;;*****************************
                                                ************
                                         1232   ;;      register/stack informat
                                                ion
RASU8(ML620504F)Relocatable Assembler, Ver.1.61.2    assemble list. page:  35 
 Title : 
## Loc. Object              [CZSOMH]     Line   Source Statements

                                         1233   ;;*****************************
                                                ************
                                         1234   ;;*****************************
                                                ************
                                         1235   
00:0000 CE-F8               [------]     1236           push    lr
00:0002 5E-F4               [------]     1237           push    er4
                                         1238   CBLOCK 98 2 406
                                         1239   CRET 0002H
                                         1240   CLOCAL 47H 0002H 0026H 0002H "r
                                                es" 02H 00H 01H
                                         1241   
                                         1242   ;;      dis_interrupts(DI_UARTF
                                                );
                                         1243   CLINEA 0000H 0001H 0199H 0002H 
                                                001AH
00:0004 04 E0               [-ZS---]     1244           mov     er0,    #4 
00:0006 01-F0'00-00'        [------]     1245           bl      _dis_interrupts
                                         1246   
                                         1247   ;;      res = uart_fifo_out(&ua
                                                rtf_rx_fifo);            // get
                                                 data
                                         1248   CLINEA 0000H 0000H 019AH 0002H 
                                                0032H
00:000A 00'00               [-ZS---]     1249           mov     r0,     #BYTE1 
                                                OFFSET _uartf_rx_fifo
00:000C 00'01               [-ZS---]     1250           mov     r1,     #BYTE2 
                                                OFFSET _uartf_rx_fifo
00:000E 01-F0'00-00'        [------]     1251           bl      _uart_fifo_out
00:0012 05-F4               [-ZS---]     1252           mov     er4,    er0    
                                                 ;; _lres$0
                                         1253   
                                         1254   ;;      enb_interrupts(DI_UARTF
                                                );
                                         1255   CLINEA 0000H 0001H 019CH 0002H 
                                                001AH
00:0014 04 E0               [-ZS---]     1256           mov     er0,    #4 
00:0016 01-F0'00-00'        [------]     1257           bl      _enb_interrupts
                                         1258   
                                         1259   ;;      return res;
                                         1260   CLINEA 0000H 0001H 019DH 0002H 
                                                000CH
00:001A 45-F0               [-ZS---]     1261           mov     er0,    er4
                                         1262   CBLOCKEND 98 2 414
                                         1263   
                                         1264   ;;}
                                         1265   CLINEA 0000H 0000H 019EH 0001H 
                                                0001H
00:001C 1E-F4               [------]     1266           pop     er4
00:001E 8E-F2               [------]     1267           pop     pc
                                         1268   CBLOCKEND 98 1 414
                                         1269   CFUNCTIONEND 98
                                         1270   
                                         1271   
  --------------------------             1272           rseg $$uart_flush$drive
                                                r_uart
RASU8(ML620504F)Relocatable Assembler, Ver.1.61.2    assemble list. page:  36 
 Title : 
## Loc. Object              [CZSOMH]     Line   Source Statements

                                         1273   CFUNCTION 99
                                         1274   
00:0000                                  1275   _uart_flush     :
                                         1276   CBLOCK 99 1 417
                                         1277   
                                         1278   ;;{
                                         1279   CLINEA 0000H 0001H 01A1H 0001H 
                                                0001H
                                         1280   ;;*****************************
                                                ************
                                         1281   ;;      register/stack informat
                                                ion
                                         1282   ;;*****************************
                                                ************
                                         1283   ;;*****************************
                                                ************
                                         1284   
                                         1285   CBLOCK 99 2 417
                                         1286   
                                         1287   ;;      uart_fifo_init(&uart_rx
                                                _fifo);
                                         1288   CLINEA 0000H 0001H 01A2H 0002H 
                                                001FH
00:0000 00'00               [-ZS---]     1289           mov     r0,     #BYTE1 
                                                OFFSET _uart_rx_fifo
00:0002 00'01               [-ZS---]     1290           mov     r1,     #BYTE2 
                                                OFFSET _uart_rx_fifo
00:0004 00-F0'00-00'        [------]     1291           b       _uart_fifo_init
                                         1292   CBLOCKEND 99 2 420
                                         1293   CLINEA 0000H 0000H 01A4H 0001H 
                                                0001H
                                         1294   CBLOCKEND 99 1 420
                                         1295   CFUNCTIONEND 99
                                         1296   
                                         1297   
  --------------------------             1298           rseg $$uartf_flush$driv
                                                er_uart
                                         1299   CFUNCTION 100
                                         1300   
00:0000                                  1301   _uartf_flush    :
                                         1302   CBLOCK 100 1 423
                                         1303   
                                         1304   ;;{
                                         1305   CLINEA 0000H 0001H 01A7H 0001H 
                                                0001H
                                         1306   ;;*****************************
                                                ************
                                         1307   ;;      register/stack informat
                                                ion
                                         1308   ;;*****************************
                                                ************
                                         1309   ;;*****************************
                                                ************
                                         1310   
                                         1311   CBLOCK 100 2 423
                                         1312   
RASU8(ML620504F)Relocatable Assembler, Ver.1.61.2    assemble list. page:  37 
 Title : 
## Loc. Object              [CZSOMH]     Line   Source Statements

                                         1313   ;;      uart_fifo_init(&uartf_r
                                                x_fifo);
                                         1314   CLINEA 0000H 0001H 01A8H 0002H 
                                                0020H
00:0000 00'00               [-ZS---]     1315           mov     r0,     #BYTE1 
                                                OFFSET _uartf_rx_fifo
00:0002 00'01               [-ZS---]     1316           mov     r1,     #BYTE2 
                                                OFFSET _uartf_rx_fifo
00:0004 00-F0'00-00'        [------]     1317           b       _uart_fifo_init
                                         1318   CBLOCKEND 100 2 426
                                         1319   CLINEA 0000H 0000H 01AAH 0001H 
                                                0001H
                                         1320   CBLOCKEND 100 1 426
                                         1321   CFUNCTIONEND 100
                                         1322   
                                         1323   
  --------------------------             1324           rseg $$uart_peek$driver
                                                _uart
                                         1325   CFUNCTION 101
                                         1326   
00:0000                                  1327   _uart_peek      :
                                         1328   CBLOCK 101 1 429
                                         1329   
                                         1330   ;;{
                                         1331   CLINEA 0000H 0001H 01ADH 0001H 
                                                0001H
                                         1332   ;;*****************************
                                                ************
                                         1333   ;;      register/stack informat
                                                ion
                                         1334   ;;*****************************
                                                ************
                                         1335   ;;*****************************
                                                ************
                                         1336   
                                         1337   CBLOCK 101 2 429
                                         1338   
                                         1339   ;;      return uart_fifo_out_pe
                                                ek(&uart_rx_fifo);
                                         1340   CLINEA 0000H 0001H 01AEH 0002H 
                                                002AH
00:0000 00'00               [-ZS---]     1341           mov     r0,     #BYTE1 
                                                OFFSET _uart_rx_fifo
00:0002 00'01               [-ZS---]     1342           mov     r1,     #BYTE2 
                                                OFFSET _uart_rx_fifo
00:0004 00-F0'00-00'        [------]     1343           b       _uart_fifo_out_
                                                peek
                                         1344   CBLOCKEND 101 2 431
                                         1345   CLINEA 0000H 0000H 01AFH 0001H 
                                                0001H
                                         1346   CBLOCKEND 101 1 431
                                         1347   CFUNCTIONEND 101
                                         1348   
                                         1349   
  --------------------------             1350           rseg $$uartf_peek$drive
                                                r_uart
RASU8(ML620504F)Relocatable Assembler, Ver.1.61.2    assemble list. page:  38 
 Title : 
## Loc. Object              [CZSOMH]     Line   Source Statements

                                         1351   CFUNCTION 102
                                         1352   
00:0000                                  1353   _uartf_peek     :
                                         1354   CBLOCK 102 1 434
                                         1355   
                                         1356   ;;{
                                         1357   CLINEA 0000H 0001H 01B2H 0001H 
                                                0001H
                                         1358   ;;*****************************
                                                ************
                                         1359   ;;      register/stack informat
                                                ion
                                         1360   ;;*****************************
                                                ************
                                         1361   ;;*****************************
                                                ************
                                         1362   
                                         1363   CBLOCK 102 2 434
                                         1364   
                                         1365   ;;      return uart_fifo_out_pe
                                                ek(&uartf_rx_fifo);
                                         1366   CLINEA 0000H 0001H 01B3H 0002H 
                                                002BH
00:0000 00'00               [-ZS---]     1367           mov     r0,     #BYTE1 
                                                OFFSET _uartf_rx_fifo
00:0002 00'01               [-ZS---]     1368           mov     r1,     #BYTE2 
                                                OFFSET _uartf_rx_fifo
00:0004 00-F0'00-00'        [------]     1369           b       _uart_fifo_out_
                                                peek
                                         1370   CBLOCKEND 102 2 436
                                         1371   CLINEA 0000H 0000H 01B4H 0001H 
                                                0001H
                                         1372   CBLOCKEND 102 1 436
                                         1373   CFUNCTIONEND 102
                                         1374   
                                         1375   
  --------------------------             1376           rseg $$uart_tx_isr$driv
                                                er_uart
                                         1377   CFUNCTION 115
                                         1378   
00:0000                                  1379   _uart_tx_isr    :
                                         1380   CBLOCK 115 1 440
                                         1381   
                                         1382   ;;{
                                         1383   CLINEA 0000H 0001H 01B8H 0001H 
                                                0001H
                                         1384   ;;*****************************
                                                ************
                                         1385   ;;      register/stack informat
                                                ion
                                         1386   ;;*****************************
                                                ************
                                         1387   ;;*****************************
                                                ************
                                         1388   
00:0000 CE-F8               [------]     1389           push    lr
RASU8(ML620504F)Relocatable Assembler, Ver.1.61.2    assemble list. page:  39 
 Title : 
## Loc. Object              [CZSOMH]     Line   Source Statements

                                         1390   CBLOCK 115 2 440
                                         1391   CRET 0000H
                                         1392   CLOCAL 47H 0002H 0024H 0002H "d
                                                ata" 02H 00H 01H
                                         1393   
                                         1394   ;;      if(uart_tx_flag == fals
                                                e)
                                         1395   CLINEA 0000H 0001H 01BAH 0002H 
                                                001AH
00:0002 10-90 00-00'        [-ZS---]     1396           l       r0,     NEAR _u
                                                art_tx_flag
00:0006 03 C8               [------]     1397           bne     _$L43
                                         1398   CBLOCK 115 3 443
                                         1399   
                                         1400   ;;              uart_tx_sending
                                                 = false;
                                         1401   CLINEA 0000H 0001H 01BCH 0003H 
                                                001AH
00:0008 00 00               [-ZS---]     1402           mov     r0,     #00h
00:000A 11-90 00-00'        [------]     1403           st      r0,     NEAR _u
                                                art_tx_sending
                                         1404   CBLOCKEND 115 3 445
                                         1405   
                                         1406   ;;      }
                                         1407   CLINEA 0000H 0000H 01BDH 0002H 
                                                0002H
00:000E                                  1408   _$L43 :
                                         1409   
                                         1410   ;;      data = uart_fifo_out(&u
                                                art_tx_fifo);
                                         1411   CLINEA 0000H 0000H 01BEH 0002H 
                                                0025H
00:000E 00'00               [-ZS---]     1412           mov     r0,     #BYTE1 
                                                OFFSET _uart_tx_fifo
00:0010 00'01               [-ZS---]     1413           mov     r1,     #BYTE2 
                                                OFFSET _uart_tx_fifo
00:0012 01-F0'00-00'        [------]     1414           bl      _uart_fifo_out
                                         1415   
                                         1416   ;;      if(data < 0)
                                         1417   CLINEA 0000H 0001H 01BFH 0002H 
                                                000DH
00:0016 05-F0               [-ZS---]     1418           mov     er0,    er0
00:0018 04 CC               [------]     1419           bps     _$L45
                                         1420   CBLOCK 115 4 448
                                         1421   
                                         1422   ;;              uart_tx_flag = 
                                                false;
                                         1423   CLINEA 0000H 0001H 01C1H 0003H 
                                                0017H
00:001A 00 00               [-ZS---]     1424           mov     r0,     #00h
00:001C 11-90 00-00'        [------]     1425           st      r0,     NEAR _u
                                                art_tx_flag
                                         1426   CBLOCKEND 115 4 451
                                         1427   CBLOCKEND 115 2 454
                                         1428   
                                         1429   ;;}
RASU8(ML620504F)Relocatable Assembler, Ver.1.61.2    assemble list. page:  40 
 Title : 
## Loc. Object              [CZSOMH]     Line   Source Statements

                                         1430   CLINEA 0000H 0001H 01C6H 0001H 
                                                0001H
00:0020 8E-F2               [------]     1431           pop     pc
                                         1432   
                                         1433   ;;      }
                                         1434   CLINEA 0000H 0000H 01C3H 0002H 
                                                0002H
00:0022                                  1435   _$L45 :
                                         1436   
                                         1437   ;;      write_reg8(UA1BUF, (cha
                                                r)data);
                                         1438   CLINEA 0000H 0001H 01C4H 0002H 
                                                0020H
00:0022 11-90 18-F7         [------]     1439           st      r0,     0f718h
                                         1440   
                                         1441   ;;      return;
                                         1442   CLINEA 0000H 0001H 01C5H 0002H 
                                                0008H
00:0026 8E-F2               [------]     1443           pop     pc
                                         1444   CBLOCKEND 115 1 454
                                         1445   CFUNCTIONEND 115
                                         1446   
                                         1447   
  --------------------------             1448           rseg $$uart_rx_isr$driv
                                                er_uart
                                         1449   CFUNCTION 107
                                         1450   
00:0000                                  1451   _uart_rx_isr    :
                                         1452   CBLOCK 107 1 458
                                         1453   
                                         1454   ;;{
                                         1455   CLINEA 0000H 0001H 01CAH 0001H 
                                                0001H
                                         1456   ;;*****************************
                                                ************
                                         1457   ;;      register/stack informat
                                                ion
                                         1458   ;;*****************************
                                                ************
                                         1459   ;;*****************************
                                                ************
                                         1460   
                                         1461   CBLOCK 107 2 458
                                         1462   CLOCAL 4BH 0001H 0000H 0002H "d
                                                ata" 02H 00H 00H
                                         1463   
                                         1464   ;;      uart_fifo_in(&uart_rx_f
                                                ifo, data);
                                         1465   CLINEA 0000H 0001H 01CDH 0002H 
                                                0023H
00:0000 10-92 10-F7         [-ZS---]     1466           l       r2,     0f710h
00:0004 00'00               [-ZS---]     1467           mov     r0,     #BYTE1 
                                                OFFSET _uart_rx_fifo
00:0006 00'01               [-ZS---]     1468           mov     r1,     #BYTE2 
                                                OFFSET _uart_rx_fifo
00:0008 00-F0'00-00'        [------]     1469           b       _uart_fifo_in
RASU8(ML620504F)Relocatable Assembler, Ver.1.61.2    assemble list. page:  41 
 Title : 
## Loc. Object              [CZSOMH]     Line   Source Statements

                                         1470   CBLOCKEND 107 2 463
                                         1471   CLINEA 0000H 0000H 01CFH 0001H 
                                                0001H
                                         1472   CBLOCKEND 107 1 463
                                         1473   CFUNCTIONEND 107
                                         1474   
                                         1475   
  --------------------------             1476           rseg $$uartf_isr$driver
                                                _uart
                                         1477   CFUNCTION 108
                                         1478   
00:0000                                  1479   _uartf_isr      :
                                         1480   CBLOCK 108 1 466
                                         1481   
                                         1482   ;;{
                                         1483   CLINEA 0000H 0001H 01D2H 0001H 
                                                0001H
                                         1484   ;;*****************************
                                                ************
                                         1485   ;;      register/stack informat
                                                ion
                                         1486   ;;*****************************
                                                ************
    = FFFFFFFEH                          1487           _status$2       set    
                                                 -2
                                         1488   ;;*****************************
                                                ************
                                         1489   
00:0000 CE-F8               [------]     1490           push    lr
00:0002 5E-FE               [------]     1491           push    fp
00:0004 1A-AE               [------]     1492           mov     fp,     sp
00:0006 FE E1               [------]     1493           add     sp,     #-02
                                         1494   CBLOCK 108 2 466
                                         1495   CRET 0004H
                                         1496   CLOCAL 47H 0002H 0025H 0002H "d
                                                ata" 02H 00H 01H
                                         1497   CLOCAL 42H 0002H 0002H 0002H "s
                                                tatus" 02H 00H 08H
                                         1498   
                                         1499   ;;      status = read_reg16(UAF
                                                0IIR);
                                         1500   CLINEA 0000H 0001H 01D5H 0002H 
                                                001EH
00:0008 12-90 C4-F7         [-ZS---]     1501           l       er0,    0f7c4h
00:000C FE B0               [------]     1502           st      er0,    _status
                                                $2[fp]
                                         1503   
                                         1504   ;;      switch(status&0x000E)
                                         1505   CLINEA 0000H 0001H 01D6H 0002H 
                                                0016H
00:000E 7E B0               [-ZS---]     1506           l       er0,    _status
                                                $2[fp]
00:0010 0E 20               [-ZS---]     1507           and     r0,     #0eh
00:0012 00 21               [-ZS---]     1508           and     r1,     #00h
                                         1509   CBLOCK 108 3 471
00:0014 00 71               [CZSO-H]     1510           cmp     r1,     #00h
RASU8(ML620504F)Relocatable Assembler, Ver.1.61.2    assemble list. page:  42 
 Title : 
## Loc. Object              [CZSOMH]     Line   Source Statements

00:0016 08 C8               [------]     1511           bne     _$L53
00:0018 02 70               [CZSO-H]     1512           cmp     r0,     #02h
00:001A 18 C9               [------]     1513           beq     _$L57
                                         1514   
                                         1515   ;;      switch(status&0x000E)
                                         1516   CLINEA 0000H 0000H 01D6H 0002H 
                                                0016H
00:001C 04 70               [CZSO-H]     1517           cmp     r0,     #04h
00:001E 0D C9               [------]     1518           beq     _$L55
                                         1519   
                                         1520   ;;      switch(status&0x000E)
                                         1521   CLINEA 0000H 0000H 01D6H 0002H 
                                                0016H
00:0020 06 70               [CZSO-H]     1522           cmp     r0,     #06h
00:0022 07 C9               [------]     1523           beq     _$L54
                                         1524   
                                         1525   ;;      switch(status&0x000E)
                                         1526   CLINEA 0000H 0000H 01D6H 0002H 
                                                0016H
00:0024 0C 70               [CZSO-H]     1527           cmp     r0,     #0ch
00:0026 09 C9               [------]     1528           beq     _$L55
                                         1529   
                                         1530   ;;      default:
                                         1531   CLINEA 0000H 0001H 01EFH 0002H 
                                                0009H
00:0028                                  1532   _$L53 :
                                         1533   CBLOCKEND 108 3 498
                                         1534   
                                         1535   ;;      }
                                         1536   CLINEA 0000H 0000H 01F2H 0002H 
                                                0002H
00:0028                                  1537   _$L52 :
                                         1538   
                                         1539   ;;      set_bit(UF0IRQ);
                                         1540   CLINEA 0000H 0001H 021AH 0002H 
                                                0011H
00:0028 80-A0 CC-F7         [-Z----]     1541           sb      0f7cch.0
                                         1542   CBLOCKEND 108 2 540
                                         1543   
                                         1544   ;;}
                                         1545   CLINEA 0000H 0000H 021CH 0001H 
                                                0001H
00:002C EA-A1               [------]     1546           mov     sp,     fp
00:002E 1E-FE               [------]     1547           pop     fp
00:0030 8E-F2               [------]     1548           pop     pc
                                         1549   
                                         1550   ;;      case (3<<1):           
                                                                               
                                                          // ERROR
                                         1551   CLINEA 0000H 0001H 01D8H 0002H 
                                                001CH
00:0032                                  1552   _$L54 :
                                         1553   
                                         1554   ;;              status = read_r
                                                eg16(UAF0LSR);
                                         1555   CLINEA 0000H 0001H 01D9H 0003H 
RASU8(ML620504F)Relocatable Assembler, Ver.1.61.2    assemble list. page:  43 
 Title : 
## Loc. Object              [CZSOMH]     Line   Source Statements

                                                001FH
00:0032 12-90 C8-F7         [-ZS---]     1556           l       er0,    0f7c8h
00:0036 FE B0               [------]     1557           st      er0,    _status
                                                $2[fp]
                                         1558   
                                         1559   ;;              break;
                                         1560   CLINEA 0000H 0001H 01DAH 0003H 
                                                0008H
00:0038 F7 CE               [------]     1561           bal     _$L52
                                         1562   
                                         1563   ;;      case (2<<1):           
                                                                               
                                                          // READ
                                         1564   CLINEA 0000H 0001H 01DBH 0002H 
                                                001BH
00:003A                                  1565   _$L55 :
                                         1566   
                                         1567   ;;              data = read_reg
                                                8(UAF0BUF);
                                         1568   CLINEA 0000H 0001H 01DDH 0003H 
                                                001CH
00:003A 12-90 C0-F7         [-ZS---]     1569           l       er0,    0f7c0h
00:003E 00 21               [-ZS---]     1570           and     r1,     #00h
00:0040 05-F2               [-ZS---]     1571           mov     er2,    er0    
                                                 ;; _ldata$0
                                         1572   
                                         1573   ;;              uart_fifo_in(&u
                                                artf_rx_fifo, (unsigned char)da
                                                ta);
                                         1574   CLINEA 0000H 0001H 01DEH 0003H 
                                                0034H
00:0042 00'00               [-ZS---]     1575           mov     r0,     #BYTE1 
                                                OFFSET _uartf_rx_fifo
00:0044 00'01               [-ZS---]     1576           mov     r1,     #BYTE2 
                                                OFFSET _uartf_rx_fifo
00:0046 01-F0'00-00'        [------]     1577           bl      _uart_fifo_in
                                         1578   
                                         1579   ;;              break;
                                         1580   CLINEA 0000H 0001H 01DFH 0003H 
                                                0008H
00:004A EE CE               [------]     1581           bal     _$L52
                                         1582   
                                         1583   ;;      case (1<<1):           
                                                                               
                                                          // SEND
                                         1584   CLINEA 0000H 0001H 01E0H 0002H 
                                                001BH
00:004C                                  1585   _$L57 :
                                         1586   
                                         1587   ;;              data = uart_fif
                                                o_out(&uartf_tx_fifo);
                                         1588   CLINEA 0000H 0000H 01E1H 0003H 
                                                0027H
00:004C 00'00               [-ZS---]     1589           mov     r0,     #BYTE1 
                                                OFFSET _uartf_tx_fifo
00:004E 00'01               [-ZS---]     1590           mov     r1,     #BYTE2 
RASU8(ML620504F)Relocatable Assembler, Ver.1.61.2    assemble list. page:  44 
 Title : 
## Loc. Object              [CZSOMH]     Line   Source Statements

                                                OFFSET _uartf_tx_fifo
00:0050 01-F0'00-00'        [------]     1591           bl      _uart_fifo_out
00:0054 05-F2               [-ZS---]     1592           mov     er2,    er0    
                                                 ;; _ldata$0
                                         1593   
                                         1594   ;;              if(uartf_tx_fla
                                                g == false)
                                         1595   CLINEA 0000H 0001H 01E2H 0003H 
                                                001CH
00:0056 10-90 00-00'        [-ZS---]     1596           l       r0,     NEAR _u
                                                artf_tx_flag
00:005A 03 C8               [------]     1597           bne     _$L58
                                         1598   CBLOCK 108 4 483
                                         1599   
                                         1600   ;;                      uart_tx
                                                _sending = false;
                                         1601   CLINEA 0000H 0001H 01E4H 0004H 
                                                001BH
00:005C 00 00               [-ZS---]     1602           mov     r0,     #00h
00:005E 11-90 00-00'        [------]     1603           st      r0,     NEAR _u
                                                art_tx_sending
                                         1604   CBLOCKEND 108 4 485
                                         1605   
                                         1606   ;;              }
                                         1607   CLINEA 0000H 0000H 01E5H 0003H 
                                                0003H
00:0062                                  1608   _$L58 :
                                         1609   
                                         1610   ;;              if(data < 0)
                                         1611   CLINEA 0000H 0001H 01E6H 0003H 
                                                000EH
00:0062 25-F0               [-ZS---]     1612           mov     er0,    er2
00:0064 04 CC               [------]     1613           bps     _$L60
                                         1614   CBLOCK 108 5 487
                                         1615   
                                         1616   ;;                      uartf_t
                                                x_flag = false;
                                         1617   CLINEA 0000H 0001H 01E8H 0004H 
                                                0019H
00:0066 00 00               [-ZS---]     1618           mov     r0,     #00h
00:0068 11-90 00-00'        [------]     1619           st      r0,     NEAR _u
                                                artf_tx_flag
                                         1620   CBLOCKEND 108 5 489
                                         1621   
                                         1622   ;;              else
                                         1623   CLINEA 0000H 0001H 01EAH 0003H 
                                                0006H
00:006C 04 CE               [------]     1624           bal     _$L62
00:006E                                  1625   _$L60 :
                                         1626   CBLOCK 108 6 491
                                         1627   
                                         1628   ;;                      write_r
                                                eg8(UAF0BUF, (char)data);
                                         1629   CLINEA 0000H 0001H 01ECH 0004H 
                                                0023H
00:006E 20-80               [-ZS---]     1630           mov     r0,     r2
RASU8(ML620504F)Relocatable Assembler, Ver.1.61.2    assemble list. page:  45 
 Title : 
## Loc. Object              [CZSOMH]     Line   Source Statements

00:0070 00 01               [-ZS---]     1631           mov     r1,     #00h
00:0072 13-90 C0-F7         [------]     1632           st      er0,    0f7c0h
                                         1633   CBLOCKEND 108 6 493
                                         1634   
                                         1635   ;;              }
                                         1636   CLINEA 0000H 0000H 01EDH 0003H 
                                                0003H
00:0076                                  1637   _$L62 :
                                         1638   
                                         1639   ;;              break;
                                         1640   CLINEA 0000H 0001H 01EEH 0003H 
                                                0008H
00:0076 D8 CE               [------]     1641           bal     _$L53
                                         1642   CBLOCKEND 108 1 540
                                         1643   CFUNCTIONEND 108
                                         1644   
                                         1645   
  --------------------------             1646           rseg $$uart_fifo_in$dri
                                                ver_uart
                                         1647   CFUNCTION 104
                                         1648   
00:0000                                  1649   _uart_fifo_in   :
                                         1650   CBLOCK 104 1 547
                                         1651   
                                         1652   ;;{
                                         1653   CLINEA 0000H 0001H 0223H 0001H 
                                                0001H
                                         1654   ;;*****************************
                                                ************
                                         1655   ;;      register/stack informat
                                                ion
                                         1656   ;;*****************************
                                                ************
                                         1657   ;;*****************************
                                                ************
                                         1658   
00:0000 6E-F8               [------]     1659           push    xr8
00:0002 05-F8               [-ZS---]     1660           mov     er8,    er0
00:0004 20-8A               [-ZS---]     1661           mov     r10,    r2
                                         1662   CBLOCK 104 2 547
                                         1663   CARGUMENT 47H 0002H 0028H "fifo
                                                _p" 06H 03H 00H 00H 05H 01H 00H
                                         1664   CARGUMENT 46H 0001H 001EH "data
                                                " 02H 00H 00H
                                         1665   
                                         1666   ;;      if ( fifo_p->length >= 
                                                fifo_p->max_length) return 0;  
                                                  // fifo is full
                                         1667   CLINEA 0000H 0001H 0224H 0002H 
                                                0045H
00:0006 08-90 06-00         [-ZS---]     1668           l       r0,     06h[er0
                                                ]
00:000A 80-91               [-ZS---]     1669           l       r1,     [er8]
00:000C 17-80               [CZSO-H]     1670           cmp     r0,     r1
00:000E 03 C1               [------]     1671           blt     _$L64
00:0010 00 E0               [-ZS---]     1672           mov     er0,    #0 
RASU8(ML620504F)Relocatable Assembler, Ver.1.61.2    assemble list. page:  46 
 Title : 
## Loc. Object              [CZSOMH]     Line   Source Statements

                                         1673   CBLOCKEND 104 2 557
                                         1674   
                                         1675   ;;}
                                         1676   CLINEA 0000H 0001H 022DH 0001H 
                                                0001H
00:0012                                  1677   _$L63 :
00:0012 2E-F8               [------]     1678           pop     xr8
00:0014 1F-FE               [------]     1679           rt
                                         1680   
                                         1681   ;;      if ( fifo_p->length >= 
                                                fifo_p->max_length) return 0;  
                                                  // fifo is full
                                         1682   CLINEA 0000H 0000H 0224H 0002H 
                                                0045H
00:0016                                  1683   _$L64 :
                                         1684   
                                         1685   ;;      fifo_p->buf[fifo_p->wr_
                                                p] = data;                     
                                                                          // in
                                                put data to fifo
                                         1686   CLINEA 0000H 0001H 0225H 0002H 
                                                003DH
00:0016 88-90 04-00         [-ZS---]     1687           l       r0,     04h[er8
                                                ]
00:001A 00 01               [-ZS---]     1688           mov     r1,     #00h
00:001C 88-A2 02-00         [-ZS---]     1689           l       er2,    02h[er8
                                                ]
00:0020 26-F0               [CZSO-H]     1690           add     er0,    er2
00:0022 01-9A               [------]     1691           st      r10,    [er0]
                                         1692   
                                         1693   ;;      fifo_p->length++;      
                                                                               
                                                                               
                                                           // increment written
                                                 length
                                         1694   CLINEA 0000H 0000H 0226H 0002H 
                                                0037H
00:0024 8B-F0 06-00         [------]     1695           lea     06h[er8]
00:0028 2F-FE               [-ZSO-H]     1696           inc     [ea]
                                         1697   
                                         1698   ;;      fifo_p->wr_p++;        
                                                                               
                                                                               
                                                           // increment written
                                                 pointer.
                                         1699   CLINEA 0000H 0000H 0227H 0002H 
                                                0038H
00:002A 8B-F0 04-00         [------]     1700           lea     04h[er8]
00:002E 2F-FE               [-ZSO-H]     1701           inc     [ea]
00:0030 88-90 04-00         [-ZS---]     1702           l       r0,     04h[er8
                                                ]
                                         1703   
                                         1704   ;;      if( fifo_p->wr_p >= fif
                                                o_p->max_length )              
                                                                  // if writtte
                                                n pointer reach maximum length,
RASU8(ML620504F)Relocatable Assembler, Ver.1.61.2    assemble list. page:  47 
 Title : 
## Loc. Object              [CZSOMH]     Line   Source Statements

                                                 it is reset.
                                         1705   CLINEA 0000H 0001H 0228H 0002H 
                                                0066H
00:0034 80-91               [-ZS---]     1706           l       r1,     [er8]
00:0036 17-80               [CZSO-H]     1707           cmp     r0,     r1
00:0038 03 C1               [------]     1708           blt     _$L66
                                         1709   CBLOCK 104 3 553
                                         1710   
                                         1711   ;;              fifo_p->wr_p = 
                                                0;
                                         1712   CLINEA 0000H 0001H 022AH 0003H 
                                                0013H
00:003A 00 00               [-ZS---]     1713           mov     r0,     #00h
00:003C 89-90 04-00         [------]     1714           st      r0,     04h[er8
                                                ]
                                         1715   CBLOCKEND 104 3 555
                                         1716   
                                         1717   ;;      }
                                         1718   CLINEA 0000H 0000H 022BH 0002H 
                                                0002H
00:0040                                  1719   _$L66 :
                                         1720   
                                         1721   ;;      return 1;
                                         1722   CLINEA 0000H 0001H 022CH 0002H 
                                                000AH
00:0040 01 E0               [-ZS---]     1723           mov     er0,    #1 
00:0042 E7 CE               [------]     1724           bal     _$L63
                                         1725   CBLOCKEND 104 1 557
                                         1726   CFUNCTIONEND 104
                                         1727   
                                         1728   
  --------------------------             1729           rseg $$uart_fifo_out$dr
                                                iver_uart
                                         1730   CFUNCTION 105
                                         1731   
00:0000                                  1732   _uart_fifo_out  :
                                         1733   CBLOCK 105 1 561
                                         1734   
                                         1735   ;;{
                                         1736   CLINEA 0000H 0001H 0231H 0001H 
                                                0001H
                                         1737   ;;*****************************
                                                ************
                                         1738   ;;      register/stack informat
                                                ion
                                         1739   ;;*****************************
                                                ************
                                         1740   ;;*****************************
                                                ************
                                         1741   
00:0000 5E-F8               [------]     1742           push    er8
00:0002 05-F8               [-ZS---]     1743           mov     er8,    er0
                                         1744   CBLOCK 105 2 561
                                         1745   CARGUMENT 47H 0002H 0028H "fifo
                                                _p" 06H 03H 00H 00H 05H 01H 00H
                                         1746   CLOCAL 46H 0001H 0016H 0002H "t
RASU8(ML620504F)Relocatable Assembler, Ver.1.61.2    assemble list. page:  48 
 Title : 
## Loc. Object              [CZSOMH]     Line   Source Statements

                                                mp" 02H 00H 00H
                                         1747   
                                         1748   ;;      UCHAR tmp = fifo_p->rd_
                                                p;                             
                                                  // stack read pointer.
                                         1749   CLINEA 0000H 0001H 0232H 0002H 
                                                0034H
00:0004 08-90 05-00         [-ZS---]     1750           l       r0,     05h[er0
                                                ]
00:0008 00-82               [-ZS---]     1751           mov     r2,     r0     
                                                 ;; _ltmp$0
                                         1752   
                                         1753   ;;      if ( fifo_p->length == 
                                                0) return -1;    // if no data,
                                                 return -1
                                         1754   CLINEA 0000H 0001H 0233H 0002H 
                                                003EH
00:000A 88-90 06-00         [-ZS---]     1755           l       r0,     06h[er8
                                                ]
00:000E 03 C8               [------]     1756           bne     _$L69
00:0010 7F E0               [-ZS---]     1757           mov     er0,    #-1
                                         1758   CBLOCKEND 105 2 571
                                         1759   
                                         1760   ;;}
                                         1761   CLINEA 0000H 0001H 023BH 0001H 
                                                0001H
00:0012                                  1762   _$L68 :
00:0012 1E-F8               [------]     1763           pop     er8
00:0014 1F-FE               [------]     1764           rt
                                         1765   
                                         1766   ;;      if ( fifo_p->length == 
                                                0) return -1;    // if no data,
                                                 return -1
                                         1767   CLINEA 0000H 0000H 0233H 0002H 
                                                003EH
00:0016                                  1768   _$L69 :
                                         1769   
                                         1770   ;;      fifo_p->length--;      
                                                                               
                                                          // decrement written 
                                                length
                                         1771   CLINEA 0000H 0000H 0234H 0002H 
                                                0033H
00:0016 FF 10               [CZSO-H]     1772           add     r0,     #0ffh
00:0018 89-90 06-00         [------]     1773           st      r0,     06h[er8
                                                ]
                                         1774   
                                         1775   ;;      fifo_p->rd_p++;        
                                                                               
                                                          // increment read poi
                                                nter
                                         1776   CLINEA 0000H 0000H 0235H 0002H 
                                                0030H
00:001C 8B-F0 05-00         [------]     1777           lea     05h[er8]
00:0020 2F-FE               [-ZSO-H]     1778           inc     [ea]
00:0022 88-90 05-00         [-ZS---]     1779           l       r0,     05h[er8
RASU8(ML620504F)Relocatable Assembler, Ver.1.61.2    assemble list. page:  49 
 Title : 
## Loc. Object              [CZSOMH]     Line   Source Statements

                                                ]
                                         1780   
                                         1781   ;;      if( fifo_p->rd_p >= fif
                                                o_p->max_length )        // if 
                                                read pointer reach to maximum, 
                                                it is reset.
                                         1782   CLINEA 0000H 0001H 0236H 0002H 
                                                005BH
00:0026 80-91               [-ZS---]     1783           l       r1,     [er8]
00:0028 17-80               [CZSO-H]     1784           cmp     r0,     r1
00:002A 03 C1               [------]     1785           blt     _$L71
                                         1786   CBLOCK 105 3 567
                                         1787   
                                         1788   ;;              fifo_p->rd_p = 
                                                0;
                                         1789   CLINEA 0000H 0001H 0238H 0003H 
                                                0013H
00:002C 00 00               [-ZS---]     1790           mov     r0,     #00h
00:002E 89-90 05-00         [------]     1791           st      r0,     05h[er8
                                                ]
                                         1792   CBLOCKEND 105 3 569
                                         1793   
                                         1794   ;;      }
                                         1795   CLINEA 0000H 0000H 0239H 0002H 
                                                0002H
00:0032                                  1796   _$L71 :
                                         1797   
                                         1798   ;;      return fifo_p->buf[tmp]
                                                ;
                                         1799   CLINEA 0000H 0001H 023AH 0002H 
                                                0019H
00:0032 20-80               [-ZS---]     1800           mov     r0,     r2
00:0034 00 01               [-ZS---]     1801           mov     r1,     #00h
00:0036 88-A2 02-00         [-ZS---]     1802           l       er2,    02h[er8
                                                ]
00:003A 26-F0               [CZSO-H]     1803           add     er0,    er2
00:003C 00-90               [-ZS---]     1804           l       r0,     [er0]
00:003E 00 01               [-ZS---]     1805           mov     r1,     #00h
00:0040 E8 CE               [------]     1806           bal     _$L68
                                         1807   CBLOCKEND 105 1 571
                                         1808   CFUNCTIONEND 105
                                         1809   
                                         1810   
  --------------------------             1811           rseg $$uart_fifo_out_pe
                                                ek$driver_uart
                                         1812   CFUNCTION 106
                                         1813   
00:0000                                  1814   _uart_fifo_out_peek     :
                                         1815   CBLOCK 106 1 574
                                         1816   
                                         1817   ;;{
                                         1818   CLINEA 0000H 0001H 023EH 0001H 
                                                0001H
                                         1819   ;;*****************************
                                                ************
                                         1820   ;;      register/stack informat
RASU8(ML620504F)Relocatable Assembler, Ver.1.61.2    assemble list. page:  50 
 Title : 
## Loc. Object              [CZSOMH]     Line   Source Statements

                                                ion
                                         1821   ;;*****************************
                                                ************
                                         1822   ;;*****************************
                                                ************
                                         1823   
00:0000 5E-F8               [------]     1824           push    er8
00:0002 05-F8               [-ZS---]     1825           mov     er8,    er0
                                         1826   CBLOCK 106 2 574
                                         1827   CARGUMENT 47H 0002H 0028H "fifo
                                                _p" 06H 03H 00H 00H 05H 01H 00H
                                         1828   
                                         1829   ;;      if ( fifo_p->length == 
                                                0) return -1;    // if no data,
                                                 return -1
                                         1830   CLINEA 0000H 0001H 023FH 0002H 
                                                003EH
00:0004 08-90 06-00         [-ZS---]     1831           l       r0,     06h[er0
                                                ]
00:0008 03 C8               [------]     1832           bne     _$L74
00:000A 7F E0               [-ZS---]     1833           mov     er0,    #-1
                                         1834   CBLOCKEND 106 2 577
                                         1835   
                                         1836   ;;}
                                         1837   CLINEA 0000H 0001H 0241H 0001H 
                                                0001H
00:000C                                  1838   _$L73 :
00:000C 1E-F8               [------]     1839           pop     er8
00:000E 1F-FE               [------]     1840           rt
                                         1841   
                                         1842   ;;      if ( fifo_p->length == 
                                                0) return -1;    // if no data,
                                                 return -1
                                         1843   CLINEA 0000H 0000H 023FH 0002H 
                                                003EH
00:0010                                  1844   _$L74 :
                                         1845   
                                         1846   ;;      return fifo_p->buf[fifo
                                                _p->rd_p];
                                         1847   CLINEA 0000H 0001H 0240H 0002H 
                                                0022H
00:0010 88-90 05-00         [-ZS---]     1848           l       r0,     05h[er8
                                                ]
00:0014 00 01               [-ZS---]     1849           mov     r1,     #00h
00:0016 88-A2 02-00         [-ZS---]     1850           l       er2,    02h[er8
                                                ]
00:001A 26-F0               [CZSO-H]     1851           add     er0,    er2
00:001C 00-90               [-ZS---]     1852           l       r0,     [er0]
00:001E 00 01               [-ZS---]     1853           mov     r1,     #00h
00:0020 F5 CE               [------]     1854           bal     _$L73
                                         1855   CBLOCKEND 106 1 577
                                         1856   CFUNCTIONEND 106
                                         1857   
                                         1858   
  --------------------------             1859           rseg $$uart_fifo_init$d
                                                river_uart
RASU8(ML620504F)Relocatable Assembler, Ver.1.61.2    assemble list. page:  51 
 Title : 
## Loc. Object              [CZSOMH]     Line   Source Statements

                                         1860   CFUNCTION 103
                                         1861   
00:0000                                  1862   _uart_fifo_init :
                                         1863   CBLOCK 103 1 582
                                         1864   
                                         1865   ;;{
                                         1866   CLINEA 0000H 0001H 0246H 0001H 
                                                0001H
                                         1867   ;;*****************************
                                                ************
                                         1868   ;;      register/stack informat
                                                ion
                                         1869   ;;*****************************
                                                ************
                                         1870   ;;*****************************
                                                ************
                                         1871   
00:0000 05-F2               [-ZS---]     1872           mov     er2,    er0
                                         1873   CBLOCK 103 2 582
                                         1874   CARGUMENT 47H 0002H 0025H "fifo
                                                _p" 06H 03H 00H 00H 05H 01H 00H
                                         1875   
                                         1876   ;;      fifo_p->wr_p = 0;
                                         1877   CLINEA 0000H 0001H 0247H 0002H 
                                                0012H
00:0002 00 00               [-ZS---]     1878           mov     r0,     #00h
00:0004 29-90 04-00         [------]     1879           st      r0,     04h[er2
                                                ]
                                         1880   
                                         1881   ;;      fifo_p->rd_p = 0;
                                         1882   CLINEA 0000H 0001H 0248H 0002H 
                                                0012H
00:0008 29-90 05-00         [------]     1883           st      r0,     05h[er2
                                                ]
                                         1884   
                                         1885   ;;      fifo_p->length = 0;
                                         1886   CLINEA 0000H 0001H 0249H 0002H 
                                                0014H
00:000C 29-90 06-00         [------]     1887           st      r0,     06h[er2
                                                ]
                                         1888   CBLOCKEND 103 2 587
                                         1889   
                                         1890   ;;}
                                         1891   CLINEA 0000H 0000H 024BH 0001H 
                                                0001H
00:0010 1F-FE               [------]     1892           rt
                                         1893   CBLOCKEND 103 1 587
                                         1894   CFUNCTIONEND 103
                                         1895   
                                         1896   
  --------------------------             1897           rseg $$uart_check_irq$d
                                                river_uart
                                         1898   CFUNCTION 109
                                         1899   
00:0000                                  1900   _uart_check_irq :
                                         1901   CBLOCK 109 1 591
RASU8(ML620504F)Relocatable Assembler, Ver.1.61.2    assemble list. page:  52 
 Title : 
## Loc. Object              [CZSOMH]     Line   Source Statements

                                         1902   
                                         1903   ;;void uart_check_irq() {
                                         1904   CLINEA 0000H 0001H 024FH 0001H 
                                                0017H
                                         1905   ;;*****************************
                                                ************
                                         1906   ;;      register/stack informat
                                                ion
                                         1907   ;;*****************************
                                                ************
                                         1908   ;;*****************************
                                                ************
                                         1909   
00:0000 CE-F8               [------]     1910           push    lr
                                         1911   CBLOCK 109 2 591
                                         1912   CRET 0000H
                                         1913   
                                         1914   ;;      if (irq_uaf0_checkIRQ()
                                                ) {
                                         1915   CLINEA 0000H 0001H 0250H 0002H 
                                                001BH
00:0002 E1-A0 1A-F0         [-Z----]     1916           tb      0f01ah.6
00:0006 09 C9               [------]     1917           beq     _$L78
                                         1918   CBLOCK 109 3 592
                                         1919   
                                         1920   ;;              irq_uaf0_dis();
                                         1921   CLINEA 0000H 0001H 0251H 0003H 
                                                0011H
00:0008 E2-A0 12-F0         [-Z----]     1922           rb      0f012h.6
                                         1923   
                                         1924   ;;              irq_uaf0_clearI
                                                RQ();
                                         1925   CLINEA 0000H 0001H 0252H 0003H 
                                                0016H
00:000C E2-A0 1A-F0         [-Z----]     1926           rb      0f01ah.6
                                         1927   
                                         1928   ;;              uartf_isr();
                                         1929   CLINEA 0000H 0001H 0253H 0003H 
                                                000EH
00:0010 01-F0'00-00'        [------]     1930           bl      _uartf_isr
                                         1931   
                                         1932   ;;              irq_uaf0_ena();
                                         1933   CLINEA 0000H 0001H 0254H 0003H 
                                                0011H
00:0014 E0-A0 12-F0         [-Z----]     1934           sb      0f012h.6
                                         1935   
                                         1936   ;;      } else if (irq_ua0_chec
                                                kIRQ()) {
                                         1937   CLINEA 0000H 0000H 0255H 0002H 
                                                0021H
00:0018 0B CE               [------]     1938           bal     _$L81
00:001A                                  1939   _$L78 :
00:001A C1-A0 1A-F0         [-Z----]     1940           tb      0f01ah.4
00:001E 08 C9               [------]     1941           beq     _$L81
                                         1942   CBLOCK 109 4 597
                                         1943   
RASU8(ML620504F)Relocatable Assembler, Ver.1.61.2    assemble list. page:  53 
 Title : 
## Loc. Object              [CZSOMH]     Line   Source Statements

                                         1944   ;;              irq_ua0_dis();
                                         1945   CLINEA 0000H 0001H 0256H 0003H 
                                                0010H
00:0020 C2-A0 12-F0         [-Z----]     1946           rb      0f012h.4
                                         1947   
                                         1948   ;;              irq_ua0_clearIR
                                                Q();
                                         1949   CLINEA 0000H 0001H 0257H 0003H 
                                                0015H
00:0024 C2-A0 1A-F0         [-Z----]     1950           rb      0f01ah.4
                                         1951   
                                         1952   ;;              uart_rx_isr();
                                         1953   CLINEA 0000H 0001H 0258H 0003H 
                                                0010H
00:0028 01-F0'00-00'        [------]     1954           bl      _uart_rx_isr
                                         1955   
                                         1956   ;;              irq_ua0_ena();
                                         1957   CLINEA 0000H 0001H 0259H 0003H 
                                                0010H
00:002C C0-A0 12-F0         [-Z----]     1958           sb      0f012h.4
                                         1959   CBLOCKEND 109 4 602
                                         1960   
                                         1961   ;;      }
                                         1962   CLINEA 0000H 0000H 025AH 0002H 
                                                0002H
00:0030                                  1963   _$L81 :
                                         1964   CBLOCKEND 109 3 603
                                         1965   CBLOCKEND 109 2 603
                                         1966   
                                         1967   ;;}
                                         1968   CLINEA 0000H 0001H 025BH 0001H 
                                                0001H
00:0030 8E-F2               [------]     1969           pop     pc
                                         1970   CBLOCKEND 109 1 603
                                         1971   CFUNCTIONEND 109
                                         1972   
                                         1973           public _uartf_rx_read
                                         1974           public _uart_gpio_adr
                                         1975           public _uart_check_irq
                                         1976           public _uart_fifo_init
                                         1977           public _uart_gpio_init
                                         1978           public _uart_rx_read
                                         1979           public _uartf_begin
                                         1980           public _uartf_tx_write
                                         1981           public _uart_gpio_tx_bi
                                                tmask
                                         1982           public _uart_gpio_end
                                         1983           public _uart_peek
                                         1984           public _uart_tx_availab
                                                le
                                         1985           public _uart_rx_availab
                                                le
                                         1986           public _uart_flush
                                         1987           public _uart_begin
                                         1988           public _uart_end
                                         1989           public _uartf_tx_sendin
RASU8(ML620504F)Relocatable Assembler, Ver.1.61.2    assemble list. page:  54 
 Title : 
## Loc. Object              [CZSOMH]     Line   Source Statements

                                                g
                                         1990           public _uart_rx_isr
                                         1991           public _uart_fifo_out_p
                                                eek
                                         1992           public _uart_gpio_rx_bi
                                                tmask
                                         1993           public _uartf_flush
                                         1994           public _uartf_rx_availa
                                                ble
                                         1995           public _uartf_tx_availa
                                                ble
                                         1996           public _uart_tx_sending
                                         1997           public _uartf_isr
                                         1998           public _uartf_end
                                         1999           public _uart_fifo_out
                                         2000           public _uartf_peek
                                         2001           public _uart_tx_write
                                         2002           public _uart_fifo_in
                                         2003           extrn code near : _dis_
                                                interrupts
                                         2004           extrn code near : _enb_
                                                interrupts
                                         2005           extrn code near : _irq_
                                                sethandler
                                         2006           extrn code near : _main
                                         2007   
  --------------------------             2008           rseg $$NINITTAB
??:0000 00                               2009           db      00h
??:0001 00                               2010           db      00h
??:0002 80                               2011           db      080h
??:0003 00                               2012           align
??:0004 00-00'                           2013           dw      _uart_tx_buf
??:0006 00                               2014           db      00h
??:0007 00                               2015           db      00h
??:0008 00-00                            2016           dw      00h
??:000A 80                               2017           db      080h
??:000B 00                               2018           align
??:000C 00-00'                           2019           dw      _uart_rx_buf
??:000E 00                               2020           db      00h
??:000F 00                               2021           db      00h
??:0010 00-00                            2022           dw      00h
??:0012 80                               2023           db      080h
??:0013 00                               2024           align
??:0014 00-00'                           2025           dw      _uartf_tx_buf
??:0016 00                               2026           db      00h
??:0017 00                               2027           db      00h
??:0018 00-00                            2028           dw      00h
??:001A 80                               2029           db      080h
??:001B 00                               2030           align
??:001C 00-00'                           2031           dw      _uartf_rx_buf
??:001E 00                               2032           db      00h
??:001F 00                               2033           db      00h
??:0020 00-00                            2034           dw      00h
??:0022 10-F2                            2035           dw      0f210h
??:0024 28-F2                            2036           dw      0f228h
??:0026 38-F2                            2037           dw      0f238h
RASU8(ML620504F)Relocatable Assembler, Ver.1.61.2    assemble list. page:  55 
 Title : 
## Loc. Object              [CZSOMH]     Line   Source Statements

??:0028 30-F2                            2038           dw      0f230h
??:002A 20-F2                            2039           dw      0f220h
??:002C 28-F2                            2040           dw      0f228h
                                         2041   
  --------------------------             2042           rseg $$TABuart_gpio_rx_
                                                bitmask$driver_uart
00:0000                                  2043   _uart_gpio_rx_bitmask :
00:0000 01                               2044           db      01h
00:0001 01                               2045           db      01h
00:0002 01                               2046           db      01h
00:0003 10                               2047           db      010h
00:0004 01                               2048           db      01h
00:0005 10                               2049           db      010h
                                         2050   
  --------------------------             2051           rseg $$TABuart_gpio_tx_
                                                bitmask$driver_uart
00:0000                                  2052   _uart_gpio_tx_bitmask :
00:0000 02                               2053           db      02h
00:0001 02                               2054           db      02h
00:0002 02                               2055           db      02h
00:0003 20                               2056           db      020h
00:0004 02                               2057           db      02h
00:0005 20                               2058           db      020h
                                         2059   
  --------------------------             2060           rseg $$NINITVAR
00:0000                                  2061   _uart_tx_sending :
00:0000                                  2062           ds      01h
00:0001                                  2063   _uartf_tx_sending :
00:0001                                  2064           ds      01h
00:0002                                  2065   _uart_tx_fifo :
00:0002                                  2066           ds      08h
00:000A                                  2067   _uart_rx_fifo :
00:000A                                  2068           ds      08h
00:0012                                  2069   _uartf_tx_fifo :
00:0012                                  2070           ds      08h
00:001A                                  2071   _uartf_rx_fifo :
00:001A                                  2072           ds      08h
00:0022                                  2073   _uart_gpio_adr :
00:0022                                  2074           ds      0ch
                                         2075   
  --------------------------             2076           rseg $$NVARdriver_uart
00:0000                                  2077   _uart_rx_buf :
00:0000                                  2078           ds      080h
00:0080                                  2079   _uart_tx_buf :
00:0080                                  2080           ds      080h
00:0100                                  2081   _uart_tx_flag :
00:0100                                  2082           ds      01h
00:0101                                  2083   _uartf_tx_flag :
00:0101                                  2084           ds      01h
00:0102                                  2085   _uartf_rx_buf :
00:0102                                  2086           ds      080h
00:0182                                  2087   _uartf_tx_buf :
00:0182                                  2088           ds      080h
                                         2089           extrn code : __lmulu8sw
                                         2090           extrn code : __uldivu8s
                                                w
RASU8(ML620504F)Relocatable Assembler, Ver.1.61.2    assemble list. page:  56 
 Title : 
## Loc. Object              [CZSOMH]     Line   Source Statements

                                         2091   
                                         2092           end
RASU8(ML620504F)Relocatable Assembler, Ver.1.61.2    C-Ref list.    page:  57

symbol                                lines ( #:definition line)
------------------------------------- -----------------------------------------
$$NINITTAB .......................... 9# 2008
$$NINITVAR .......................... 8# 2060
$$NVARdriver_uart ................... 7# 2076
$$TABuart_gpio_rx_bitmask$driver_uart 10# 2042
$$TABuart_gpio_tx_bitmask$driver_uart 11# 2051
$$uart_begin$driver_uart ............ 12# 406
$$uart_check_irq$driver_uart ........ 13# 1897
$$uart_end$driver_uart .............. 14# 779
$$uart_fifo_in$driver_uart .......... 15# 1646
$$uart_fifo_init$driver_uart ........ 16# 1859
$$uart_fifo_out$driver_uart ......... 17# 1729
$$uart_fifo_out_peek$driver_uart .... 18# 1811
$$uart_flush$driver_uart ............ 19# 1272
$$uart_gpio_end$driver_uart ......... 20# 257
$$uart_gpio_init$driver_uart ........ 21# 133
$$uart_peek$driver_uart ............. 22# 1324
$$uart_rx_available$driver_uart ..... 23# 865
$$uart_rx_isr$driver_uart ........... 24# 1448
$$uart_rx_read$driver_uart .......... 25# 1174
$$uart_tx_available$driver_uart ..... 26# 921
$$uart_tx_isr$driver_uart ........... 27# 1376
$$uart_tx_write$driver_uart ......... 28# 985
$$uartf_begin$driver_uart ........... 29# 582
$$uartf_end$driver_uart ............. 30# 830
$$uartf_flush$driver_uart ........... 31# 1298
$$uartf_isr$driver_uart ............. 32# 1476
$$uartf_peek$driver_uart ............ 33# 1350
$$uartf_rx_available$driver_uart .... 34# 893
$$uartf_rx_read$driver_uart ......... 35# 1223
$$uartf_tx_available$driver_uart .... 36# 953
$$uartf_tx_write$driver_uart ........ 37# 1077
INTERRUPT ...........................
_$L0 ................................ 159 248#
_$L10 ............................... 524 537#
_$L12 ............................... 536 565#
_$L14 ............................... 718 756#
_$L16 ............................... 719# 764
_$L18 ............................... 726 747#
_$L29 ............................... 1024 1030 1055#
_$L3 ................................ 287 395#
_$L34 ............................... 1116 1122 1152#
_$L43 ............................... 1397 1408#
_$L45 ............................... 1419 1435#
_$L52 ............................... 1537# 1561 1581
_$L53 ............................... 1511 1532# 1641
_$L54 ............................... 1523 1552#
_$L55 ............................... 1518 1528 1565#
_$L57 ............................... 1513 1585#
_$L58 ............................... 1597 1608#
_$L60 ............................... 1613 1625#
_$L62 ............................... 1624 1637#
_$L63 ............................... 1677# 1724
_$L64 ............................... 1671 1683#
_$L66 ............................... 1708 1719#
_$L68 ............................... 1762# 1806
_$L69 ............................... 1756 1768#
RASU8(ML620504F)Relocatable Assembler, Ver.1.61.2    C-Ref list.    page:  58

symbol                                lines ( #:definition line)
------------------------------------- -----------------------------------------
_$L7 ................................ 487 500#
_$L71 ............................... 1785 1796#
_$L73 ............................... 1838# 1854
_$L74 ............................... 1832 1844#
_$L78 ............................... 1917 1939#
_$L81 ............................... 1938 1941 1963#
_$L9 ................................ 499 519#
_$M1 ................................ 158 160#
_$M3 ................................ 286 288#
__lmulu8sw .......................... 618 2089#
__uldivu8sw ......................... 449 626 2090#
_bit$2 .............................. 268# 302 307 315 323 331 339 350 354 362 370 378 386
_dis_interrupts ..................... 1010 1102 1196 1245 2003#
_dummy$0 ............................ 593# 707 712
_enb_interrupts ..................... 1061 1158 1208 1257 2004#
_irq_sethandler ..................... 494 508 531 545 677 2005#
_main ............................... 2006#
_rxcallback$4 ....................... 417# 486
_status$2 ........................... 1487# 1502 1506 1557
_txcallback$6 ....................... 418# 523
_uart_begin ......................... 409# 1987
_uart_check_irq ..................... 1900# 1975
_uart_end ........................... 782# 1988
_uart_fifo_in ....................... 1017 1109 1469 1577 1649# 2002
_uart_fifo_init ..................... 514 551 683 689 1291 1317 1862# 1976
_uart_fifo_out ...................... 1037 1129 1202 1251 1414 1591 1732# 1999
_uart_fifo_out_peek ................. 1343 1369 1814# 1991
_uart_flush ......................... 1275# 1986
_uart_gpio_adr ...................... 168 296 306 1974 2073#
_uart_gpio_end ...................... 260# 1982
_uart_gpio_init ..................... 136# 1977
_uart_gpio_rx_bitmask ............... 173 301 1992 2043#
_uart_gpio_tx_bitmask ............... 211 349 1981 2052#
_uart_peek .......................... 1327# 1983
_uart_rx_available .................. 868# 1985
_uart_rx_buf ........................ 2019 2077#
_uart_rx_fifo ....................... 512 513 882 1200 1201 1289 1290 1341 1342 1467 1468 2067#
_uart_rx_isr ........................ 505 506 1451# 1954 1990
_uart_rx_read ....................... 1177# 1978
_uart_tx_available .................. 924# 1984
_uart_tx_buf ........................ 2013 2079#
_uart_tx_fifo ....................... 549 550 938 940 1015 1016 1035 1036 1412 1413 2065#
_uart_tx_flag ....................... 556 1029 1046 1396 1425 2081#
_uart_tx_isr ........................ 542 543 1379#
_uart_tx_sending .................... 560 1050 1403 1603 1996 2061#
_uart_tx_write ...................... 988# 2001
_uartf_begin ........................ 585# 1979
_uartf_end .......................... 833# 1998
_uartf_flush ........................ 1301# 1993
_uartf_isr .......................... 674 675 1479# 1930 1997
_uartf_peek ......................... 1353# 2000
_uartf_rx_available ................. 896# 1994
_uartf_rx_buf ....................... 2031 2085#
_uartf_rx_fifo ...................... 687 688 910 1249 1250 1315 1316 1367 1368 1575 1576 2071#
_uartf_rx_read ...................... 1226# 1973
_uartf_tx_available ................. 956# 1995
RASU8(ML620504F)Relocatable Assembler, Ver.1.61.2    C-Ref list.    page:  59

symbol                                lines ( #:definition line)
------------------------------------- -----------------------------------------
_uartf_tx_buf ....................... 2025 2087#
_uartf_tx_fifo ...................... 681 682 970 972 1107 1108 1127 1128 1589 1590 2069#
_uartf_tx_flag ...................... 694 1121 1143 1596 1619 2083#
_uartf_tx_sending ................... 1147 1989 2063#
_uartf_tx_write ..................... 1080# 1980
RASU8(ML620504F)Relocatable Assembler, Ver.1.61.2    symbol list.   page:  60

----- symbol information -----

symbol                                type usgtyp physeg     value    ID
------------------------------------- ---- ------ ------ ----------- ----
$$NINITTAB .......................... seg  TABLE  ANY           0H      3
$$NINITVAR .......................... seg  DATA   #00           0H      2
$$NVARdriver_uart ................... seg  DATA   #00           0H      1
$$TABuart_gpio_rx_bitmask$driver_uart seg  TABLE  #00           0H      4
$$TABuart_gpio_tx_bitmask$driver_uart seg  TABLE  #00           0H      5
$$uart_begin$driver_uart ............ seg  CODE   #00           0H      6
$$uart_check_irq$driver_uart ........ seg  CODE   #00           0H      7
$$uart_end$driver_uart .............. seg  CODE   #00           0H      8
$$uart_fifo_in$driver_uart .......... seg  CODE   #00           0H      9
$$uart_fifo_init$driver_uart ........ seg  CODE   #00           0H      A
$$uart_fifo_out$driver_uart ......... seg  CODE   #00           0H      B
$$uart_fifo_out_peek$driver_uart .... seg  CODE   #00           0H      C
$$uart_flush$driver_uart ............ seg  CODE   #00           0H      D
$$uart_gpio_end$driver_uart ......... seg  CODE   #00           0H      E
$$uart_gpio_init$driver_uart ........ seg  CODE   #00           0H      F
$$uart_peek$driver_uart ............. seg  CODE   #00           0H     10
$$uart_rx_available$driver_uart ..... seg  CODE   #00           0H     11
$$uart_rx_isr$driver_uart ........... seg  CODE   #00           0H     12
$$uart_rx_read$driver_uart .......... seg  CODE   #00           0H     13
$$uart_tx_available$driver_uart ..... seg  CODE   #00           0H     14
$$uart_tx_isr$driver_uart ........... seg  CODE   #00           0H     15
$$uart_tx_write$driver_uart ......... seg  CODE   #00           0H     16
$$uartf_begin$driver_uart ........... seg  CODE   #00           0H     17
$$uartf_end$driver_uart ............. seg  CODE   #00           0H     18
$$uartf_flush$driver_uart ........... seg  CODE   #00           0H     19
$$uartf_isr$driver_uart ............. seg  CODE   #00           0H     1A
$$uartf_peek$driver_uart ............ seg  CODE   #00           0H     1B
$$uartf_rx_available$driver_uart .... seg  CODE   #00           0H     1C
$$uartf_rx_read$driver_uart ......... seg  CODE   #00           0H     1D
$$uartf_tx_available$driver_uart .... seg  CODE   #00           0H     1E
$$uartf_tx_write$driver_uart ........ seg  CODE   #00           0H     1F
INTERRUPT ........................... ***  
_$L0 ................................ loc  CODE   #00          96H      F
_$L10 ............................... loc  CODE   #00          78H      6
_$L12 ............................... loc  CODE   #00          94H      6
_$L14 ............................... loc  CODE   #00          B6H     17
_$L16 ............................... loc  CODE   #00          9AH     17
_$L18 ............................... loc  CODE   #00          B2H     17
_$L29 ............................... loc  CODE   #00          3CH     16
_$L3 ................................ loc  CODE   #00          C0H      E
_$L34 ............................... loc  CODE   #00          42H     1F
_$L43 ............................... loc  CODE   #00           EH     15
_$L45 ............................... loc  CODE   #00          22H     15
_$L52 ............................... loc  CODE   #00          28H     1A
_$L53 ............................... loc  CODE   #00          28H     1A
_$L54 ............................... loc  CODE   #00          32H     1A
_$L55 ............................... loc  CODE   #00          3AH     1A
_$L57 ............................... loc  CODE   #00          4CH     1A
_$L58 ............................... loc  CODE   #00          62H     1A
_$L60 ............................... loc  CODE   #00          6EH     1A
_$L62 ............................... loc  CODE   #00          76H     1A
_$L63 ............................... loc  CODE   #00          12H      9
_$L64 ............................... loc  CODE   #00          16H      9
_$L66 ............................... loc  CODE   #00          40H      9
RASU8(ML620504F)Relocatable Assembler, Ver.1.61.2    symbol list.   page:  61

symbol                                type usgtyp physeg     value    ID
------------------------------------- ---- ------ ------ ----------- ----
_$L68 ............................... loc  CODE   #00          12H      B
_$L69 ............................... loc  CODE   #00          16H      B
_$L7 ................................ loc  CODE   #00          58H      6
_$L71 ............................... loc  CODE   #00          32H      B
_$L73 ............................... loc  CODE   #00           CH      C
_$L74 ............................... loc  CODE   #00          10H      C
_$L78 ............................... loc  CODE   #00          1AH      7
_$L81 ............................... loc  CODE   #00          30H      7
_$L9 ................................ loc  CODE   #00          6AH      6
_$M1 ................................ loc  CODE   #00          10H      F
_$M3 ................................ loc  CODE   #00          16H      E
__lmulu8sw .......................... ext  CODE   #00           0H      5
__uldivu8sw ......................... ext  CODE   #00           0H      6
_bit$2 .............................. loc  NUMBER ---    FFFFFFFFH      0
_dis_interrupts ..................... ext  CODE   #00           0H      1
_dummy$0 ............................ loc  NUMBER ---    FFFFFFFEH      0
_enb_interrupts ..................... ext  CODE   #00           0H      2
_irq_sethandler ..................... ext  CODE   #00           0H      3
_main ............................... ext  CODE   #00           0H      4
_rxcallback$4 ....................... loc  NUMBER ---           4H      0
_status$2 ........................... loc  NUMBER ---    FFFFFFFEH      0
_txcallback$6 ....................... loc  NUMBER ---           6H      0
_uart_begin ......................... pub  CODE   #00           0H      6
_uart_check_irq ..................... pub  CODE   #00           0H      7
_uart_end ........................... pub  CODE   #00           0H      8
_uart_fifo_in ....................... pub  CODE   #00           0H      9
_uart_fifo_init ..................... pub  CODE   #00           0H      A
_uart_fifo_out ...................... pub  CODE   #00           0H      B
_uart_fifo_out_peek ................. pub  CODE   #00           0H      C
_uart_flush ......................... pub  CODE   #00           0H      D
_uart_gpio_adr ...................... pub  DATA   #00          22H      2
_uart_gpio_end ...................... pub  CODE   #00           0H      E
_uart_gpio_init ..................... pub  CODE   #00           0H      F
_uart_gpio_rx_bitmask ............... pub  TABLE  #00           0H      4
_uart_gpio_tx_bitmask ............... pub  TABLE  #00           0H      5
_uart_peek .......................... pub  CODE   #00           0H     10
_uart_rx_available .................. pub  CODE   #00           0H     11
_uart_rx_buf ........................ loc  DATA   #00           0H      1
_uart_rx_fifo ....................... loc  DATA   #00           AH      2
_uart_rx_isr ........................ pub  CODE   #00           0H     12
_uart_rx_read ....................... pub  CODE   #00           0H     13
_uart_tx_available .................. pub  CODE   #00           0H     14
_uart_tx_buf ........................ loc  DATA   #00          80H      1
_uart_tx_fifo ....................... loc  DATA   #00           2H      2
_uart_tx_flag ....................... loc  DATA   #00         100H      1
_uart_tx_isr ........................ loc  CODE   #00           0H     15
_uart_tx_sending .................... pub  DATA   #00           0H      2
_uart_tx_write ...................... pub  CODE   #00           0H     16
_uartf_begin ........................ pub  CODE   #00           0H     17
_uartf_end .......................... pub  CODE   #00           0H     18
_uartf_flush ........................ pub  CODE   #00           0H     19
_uartf_isr .......................... pub  CODE   #00           0H     1A
_uartf_peek ......................... pub  CODE   #00           0H     1B
_uartf_rx_available ................. pub  CODE   #00           0H     1C
_uartf_rx_buf ....................... loc  DATA   #00         102H      1
_uartf_rx_fifo ...................... loc  DATA   #00          1AH      2
RASU8(ML620504F)Relocatable Assembler, Ver.1.61.2    symbol list.   page:  62

symbol                                type usgtyp physeg     value    ID
------------------------------------- ---- ------ ------ ----------- ----
_uartf_rx_read ...................... pub  CODE   #00           0H     1D
_uartf_tx_available ................. pub  CODE   #00           0H     1E
_uartf_tx_buf ....................... loc  DATA   #00         182H      1
_uartf_tx_fifo ...................... loc  DATA   #00          12H      2
_uartf_tx_flag ...................... loc  DATA   #00         101H      1
_uartf_tx_sending ................... pub  DATA   #00           1H      2
_uartf_tx_write ..................... pub  CODE   #00           0H     1F

----- segment information -----

S-ID symbol                                segtyp physeg  size  bound reltype
---- ------------------------------------- ------ ------ ------ ----- -------
   1 $$NVARdriver_uart ................... DATA   #00      202H WORD  
   2 $$NINITVAR .......................... DATA   #00       2EH WORD  
   3 $$NINITTAB .......................... TABLE  ANY       2EH WORD  
   4 $$TABuart_gpio_rx_bitmask$driver_uart TABLE  #00        6H WORD  
   5 $$TABuart_gpio_tx_bitmask$driver_uart TABLE  #00        6H WORD  
   6 $$uart_begin$driver_uart ............ CODE   #00       A0H WORD  
   7 $$uart_check_irq$driver_uart ........ CODE   #00       32H WORD  
   8 $$uart_end$driver_uart .............. CODE   #00       1EH WORD  
   9 $$uart_fifo_in$driver_uart .......... CODE   #00       44H WORD  
   A $$uart_fifo_init$driver_uart ........ CODE   #00       12H WORD  
   B $$uart_fifo_out$driver_uart ......... CODE   #00       42H WORD  
   C $$uart_fifo_out_peek$driver_uart .... CODE   #00       22H WORD  
   D $$uart_flush$driver_uart ............ CODE   #00        8H WORD  
   E $$uart_gpio_end$driver_uart ......... CODE   #00       CCH WORD  
   F $$uart_gpio_init$driver_uart ........ CODE   #00       9EH WORD  
  10 $$uart_peek$driver_uart ............. CODE   #00        8H WORD  
  11 $$uart_rx_available$driver_uart ..... CODE   #00        8H WORD  
  12 $$uart_rx_isr$driver_uart ........... CODE   #00        CH WORD  
  13 $$uart_rx_read$driver_uart .......... CODE   #00       20H WORD  
  14 $$uart_tx_available$driver_uart ..... CODE   #00       12H WORD  
  15 $$uart_tx_isr$driver_uart ........... CODE   #00       28H WORD  
  16 $$uart_tx_write$driver_uart ......... CODE   #00       4AH WORD  
  17 $$uartf_begin$driver_uart ........... CODE   #00       CCH WORD  
  18 $$uartf_end$driver_uart ............. CODE   #00        EH WORD  
  19 $$uartf_flush$driver_uart ........... CODE   #00        8H WORD  
  1A $$uartf_isr$driver_uart ............. CODE   #00       78H WORD  
  1B $$uartf_peek$driver_uart ............ CODE   #00        8H WORD  
  1C $$uartf_rx_available$driver_uart .... CODE   #00        8H WORD  
  1D $$uartf_rx_read$driver_uart ......... CODE   #00       20H WORD  
  1E $$uartf_tx_available$driver_uart .... CODE   #00       12H WORD  
  1F $$uartf_tx_write$driver_uart ........ CODE   #00       50H WORD  



  Target       : ML620504F (nX-U8/100)
  Memory Model : SMALL
  Data   Model : NEAR
  ROM WINDOW   : (not specified)
  Internal RAM : D800H to EFFFH

  Errors   : 0
  Warnings : 0  (/Wrpeast)
  Lines    : 2092
