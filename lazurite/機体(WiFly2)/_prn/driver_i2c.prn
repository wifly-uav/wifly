RASU8(ML620504F)Relocatable Assembler, Ver.1.61.2    assemble list. page:   1 
 Source File: obj\driver_i2c.asm
 Object File: obj\driver_i2c.obj
 Date  : 2022/03/02 Wed.[17:51]
 Title : 
## Loc. Object              [CZSOMH]     Line   Source Statements

                                            1   ;; Compile Options : /TML620504
                                                F /MS /near /IC:\LAZURI~1\LIBRA
                                                R~1\BM1383 /IC:\LAZURI~1\LIBRAR
                                                ~1\BM1422 /IC:\LAZURI~1\LIBRAR~
                                                1\HARDWA~1 /IC:\LAZURI~1\LIBRAR
                                                ~1\HARDWA~2 /IC:\LAZURI~1\LIBRA
                                                R~1\KXG03_~1 /IC:\LAZURI~1\LIBR
                                                AR~1\VL53L0X /IC:\LAZURI~1\LIBR
                                                AR~1\W
                                            2   ;; Version Number  : Ver.3.53.1
                                            3   ;; File Name       : driver_i2c
                                                .c
                                            4   
                                            5           type (ML620504F) 
                                            6           model small, near
                                            7           $$NVARdriver_i2c segmen
                                                t data 2h #0h
                                            8           $$NTABdriver_i2c segmen
                                                t table 2h #0h
                                            9           $$i2c0_isr$driver_i2c s
                                                egment code 2h #0h
                                           10           $$i2c1_isr$driver_i2c s
                                                egment code 2h #0h
                                           11           $$i2c_begin$driver_i2c 
                                                segment code 2h #0h
                                           12           $$i2c_check_read_last_d
                                                ata$driver_i2c segment code 2h 
                                                #0h
                                           13           $$i2c_close$driver_i2c 
                                                segment code 2h #0h
                                           14           $$i2c_force_stop$driver
                                                _i2c segment code 2h #0h
                                           15           $$i2c_get_err_status$dr
                                                iver_i2c segment code 2h #0h
                                           16           $$i2c_get_status$driver
                                                _i2c segment code 2h #0h
                                           17           $$i2c_init$driver_i2c s
                                                egment code 2h #0h
                                           18           $$i2c_isr$driver_i2c se
                                                gment code 2h #0h
                                           19           $$i2c_read_amount$drive
                                                r_i2c segment code 2h #0h
                                           20           $$i2c_send_stopbit$driv
                                                er_i2c segment code 2h #0h
                                           21           $$i2c_set_address$drive
                                                r_i2c segment code 2h #0h
                                           22           $$i2c_set_rx_buf$driver
                                                _i2c segment code 2h #0h
                                           23           $$i2c_set_tx_buf$driver
                                                _i2c segment code 2h #0h
                                           24           $$i2c_start$driver_i2c 
                                                segment code 2h #0h
                                           25           $$i2c_update_err_code$d
RASU8(ML620504F)Relocatable Assembler, Ver.1.61.2    assemble list. page:   2 
 Title : 
## Loc. Object              [CZSOMH]     Line   Source Statements

                                                river_i2c segment code 2h #0h
                                           26           $$i2c_write_amount$driv
                                                er_i2c segment code 2h #0h
                                           27           $$NTABi2c_isr$driver_i2
                                                c segment table 2h #0h
                                           28   CVERSION 3.53.1
                                           29   CGLOBAL 01H 03H 0000H "i2c_set_
                                                tx_buf" 08H 02H 82H 00H 82H 06H
                                                 00H 00H 07H
                                           30   CGLOBAL 01H 03H 0000H "i2c_set_
                                                rx_buf" 08H 02H 81H 00H 82H 06H
                                                 00H 00H 07H
                                           31   CGLOBAL 01H 03H 0000H "i2c_begi
                                                n" 08H 02H 80H 00H 80H 02H 00H 
                                                00H 07H
                                           32   CGLOBAL 01H 02H 0000H "i2c_get_
                                                err_status" 08H 02H 8AH 00H 80H
                                                 00H 00H 00H 00H
                                           33   CGLOBAL 01H 03H 0000H "i2c_send
                                                _stopbit" 08H 02H 84H 00H 80H 0
                                                0H 00H 00H 07H
                                           34   CGLOBAL 01H 03H 0000H "i2c_get_
                                                status" 08H 02H 86H 00H 80H 00H
                                                 00H 00H 00H
                                           35   CGLOBAL 01H 03H 0000H "i2c_set_
                                                address" 08H 02H 83H 00H 80H 00
                                                H 00H 00H 07H
                                           36   CGLOBAL 01H 02H 0000H "i2c_chec
                                                k_read_last_data" 08H 02H 8FH 0
                                                0H 80H 00H 00H 00H 00H
                                           37   CGLOBAL 01H 03H 0000H "i2c_isr"
                                                 08H 02H 87H 00H 81H 0cH 00H 00
                                                H 07H
                                           38   CGLOBAL 01H 02H 0000H "i2c_upda
                                                te_err_code" 08H 02H 90H 00H 80
                                                H 04H 00H 00H 00H
                                           39   CGLOBAL 01H 03H 0000H "i2c_forc
                                                e_stop" 08H 02H 8BH 00H 81H 04H
                                                 00H 00H 07H
                                           40   CGLOBAL 01H 03H 0000H "i2c0_isr
                                                " 08H 02H 8EH 00H 80H 00H 00H 0
                                                0H 07H
                                           41   CGLOBAL 01H 03H 0000H "i2c_star
                                                t" 08H 02H 85H 00H 80H 08H 00H 
                                                00H 07H
                                           42   CGLOBAL 01H 03H 0000H "i2c_clos
                                                e" 08H 02H 0A1H 00H 80H 00H 00H
                                                 00H 07H
                                           43   CGLOBAL 01H 03H 0000H "i2c_init
                                                " 08H 02H 7FH 00H 81H 04H 00H 0
                                                0H 07H
                                           44   CGLOBAL 01H 02H 0000H "i2c_read
                                                _amount" 08H 02H 88H 00H 80H 00
                                                H 00H 00H 01H
                                           45   CGLOBAL 01H 03H 0000H "i2c1_isr
                                                " 08H 02H 8DH 00H 80H 00H 00H 0
RASU8(ML620504F)Relocatable Assembler, Ver.1.61.2    assemble list. page:   3 
 Title : 
## Loc. Object              [CZSOMH]     Line   Source Statements

                                                0H 07H
                                           46   CGLOBAL 01H 02H 0000H "i2c_writ
                                                e_amount" 08H 02H 89H 00H 80H 0
                                                0H 00H 00H 01H
                                           47   CSTRUCTTAG 0000H 0000H 0003H 00
                                                0AH 00000012H "_Notag"
                                           48   CSTRUCTMEM 42H 00000001H 000000
                                                00H "flag" 02H 00H 00H
                                           49   CSTRUCTMEM 42H 00000002H 000000
                                                02H "rx_buffer" 04H 03H 00H 00H
                                                 00H
                                           50   CSTRUCTMEM 42H 00000002H 000000
                                                04H "rx_index" 02H 00H 01H
                                           51   CSTRUCTMEM 42H 00000002H 000000
                                                06H "rx_length" 02H 00H 01H
                                           52   CSTRUCTMEM 42H 00000002H 000000
                                                08H "tx_buffer" 04H 03H 00H 00H
                                                 00H
                                           53   CSTRUCTMEM 42H 00000002H 000000
                                                0AH "tx_index" 02H 00H 01H
                                           54   CSTRUCTMEM 42H 00000002H 000000
                                                0CH "tx_length" 02H 00H 01H
                                           55   CSTRUCTMEM 43H 00000001H 000000
                                                0EH "status" 02H 00H 00H
                                           56   CSTRUCTMEM 42H 00000001H 000000
                                                0FH "bStop" 02H 00H 00H
                                           57   CSTRUCTMEM 42H 00000001H 000000
                                                10H "err_code" 02H 00H 00H
                                           58   CSTRUCTTAG 0000H 0000H 0002H 00
                                                08H 00000001H "_Notag"
                                           59   CSTRUCTMEM 52H 00000001H 000000
                                                00H "b0" 02H 00H 00H
                                           60   CSTRUCTMEM 52H 00000001H 000000
                                                01H "b1" 02H 00H 00H
                                           61   CSTRUCTMEM 52H 00000001H 000000
                                                02H "b2" 02H 00H 00H
                                           62   CSTRUCTMEM 52H 00000001H 000000
                                                03H "b3" 02H 00H 00H
                                           63   CSTRUCTMEM 52H 00000001H 000000
                                                04H "b4" 02H 00H 00H
                                           64   CSTRUCTMEM 52H 00000001H 000000
                                                05H "b5" 02H 00H 00H
                                           65   CSTRUCTMEM 52H 00000001H 000000
                                                06H "b6" 02H 00H 00H
                                           66   CSTRUCTMEM 52H 00000001H 000000
                                                07H "b7" 02H 00H 00H
                                           67   CSTRUCTTAG 0000H 0000H 0001H 00
                                                02H 00000008H "_Notag"
                                           68   CSTRUCTMEM 43H 00000004H 000000
                                                00H "quot" 02H 00H 02H
                                           69   CSTRUCTMEM 43H 00000004H 000000
                                                04H "rem" 02H 00H 02H
                                           70   CSTRUCTTAG 0000H 0000H 0000H 00
                                                02H 00000004H "_Notag"
                                           71   CSTRUCTMEM 43H 00000002H 000000
                                                00H "quot" 02H 00H 01H
RASU8(ML620504F)Relocatable Assembler, Ver.1.61.2    assemble list. page:   4 
 Title : 
## Loc. Object              [CZSOMH]     Line   Source Statements

                                           72   CSTRUCTMEM 43H 00000002H 000000
                                                02H "rem" 02H 00H 01H
                                           73   CTYPEDEF 0000H 0000H 43H "INT8"
                                                 02H 00H 00H
                                           74   CTYPEDEF 0000H 0000H 43H "_Ptrd
                                                ifft" 02H 00H 01H
                                           75   CTYPEDEF 0000H 0000H 42H "bool"
                                                 02H 00H 00H
                                           76   CTYPEDEF 0000H 0000H 42H "byte"
                                                 02H 00H 00H
                                           77   CTYPEDEF 0000H 0000H 43H "INT32
                                                " 02H 00H 02H
                                           78   CTYPEDEF 0000H 0000H 43H "INT16
                                                " 02H 00H 01H
                                           79   CTYPEDEF 0000H 0000H 42H "_Size
                                                t" 02H 00H 01H
                                           80   CTYPEDEF 0000H 0000H 42H "BOOLE
                                                AN" 02H 00H 00H
                                           81   CTYPEDEF 0000H 0000H 42H "UCHAR
                                                " 02H 00H 00H
                                           82   CTYPEDEF 0000H 0000H 43H "ptrdi
                                                ff_t" 02H 00H 01H
                                           83   CTYPEDEF 0000H 0000H 42H "size_
                                                t" 02H 00H 01H
                                           84   CTYPEDEF 0000H 0000H 42H "uint8
                                                _t" 02H 00H 00H
                                           85   CTYPEDEF 0000H 0000H 43H "int8_
                                                t" 02H 00H 00H
                                           86   CTYPEDEF 0000H 0000H 43H "int16
                                                _t" 02H 00H 08H
                                           87   CTYPEDEF 0000H 0000H 43H "int32
                                                _t" 02H 00H 02H
                                           88   CTYPEDEF 0000H 0000H 42H "UINT8
                                                " 02H 00H 00H
                                           89   CTYPEDEF 0000H 0000H 03H "_Cmpf
                                                un_nf" 08H 02H 01H 00H 00H 00H 
                                                00H 00H 01H
                                           90   CTYPEDEF 0000H 0000H 03H "_Cmpf
                                                un_nn" 08H 02H 00H 00H 00H 00H 
                                                00H 00H 01H
                                           91   CTYPEDEF 0000H 0000H 43H "CHAR"
                                                 02H 00H 00H
                                           92   CTYPEDEF 0000H 0000H 03H "_Cmpf
                                                un_ff" 08H 02H 03H 00H 00H 00H 
                                                00H 00H 01H
                                           93   CTYPEDEF 0000H 0000H 03H "_Cmpf
                                                un_fn" 08H 02H 02H 00H 00H 00H 
                                                00H 00H 01H
                                           94   CTYPEDEF 0000H 0000H 42H "UINT1
                                                6" 02H 00H 01H
                                           95   CTYPEDEF 0000H 0000H 42H "UINT3
                                                2" 02H 00H 02H
                                           96   CTYPEDEF 0000H 0000H 42H "boole
                                                an" 02H 00H 00H
                                           97   CTYPEDEF 0000H 0000H 42H "word"
                                                 02H 00H 01H
RASU8(ML620504F)Relocatable Assembler, Ver.1.61.2    assemble list. page:   5 
 Title : 
## Loc. Object              [CZSOMH]     Line   Source Statements

                                           98   CTYPEDEF 0000H 0000H 42H "BOOL"
                                                 02H 00H 00H
                                           99   CTYPEDEF 0000H 0000H 43H "_I2C_
                                                PARAM" 04H 00H 05H 03H 00H
                                          100   CTYPEDEF 0000H 0000H 43H "div_t
                                                " 04H 00H 05H 00H 00H
                                          101   CTYPEDEF 0000H 0000H 43H "ldiv_
                                                t" 04H 00H 05H 01H 00H
                                          102   CTYPEDEF 0000H 0000H 42H "uint3
                                                2_t" 02H 00H 02H
                                          103   CTYPEDEF 0000H 0000H 43H "_BYTE
                                                _FIELD" 04H 00H 05H 02H 00H
                                          104   CTYPEDEF 0000H 0000H 42H "uint1
                                                6_t" 02H 00H 08H
                                          105   CSGLOBAL 43H 0024H "I2C" 07H 01
                                                H 02H 00H 00H 05H 03H 00H
                                          106   CFILE 0001H 000000DAH "C:\\Lazu
                                                riteIDE\\bin\\U8Dev\\Inc\\stdli
                                                b.h"
                                          107   CFILE 0002H 0000007AH "C:\\Lazu
                                                riteIDE\\bin\\U8Dev\\Inc\\yvals
                                                .h"
                                          108   CFILE 0003H 0000001EH "C:\\Lazu
                                                riteIDE\\bin\\U8Dev\\Inc\\stdde
                                                f.h"
                                          109   CFILE 0004H 0000007BH "C:\\LAZU
                                                RI~1\\hardware\\LAZURI~2\\commo
                                                n.h"
                                          110   CFILE 0005H 00000F42H "C:\\Lazu
                                                riteIDE\\bin\\U8Dev\\Inc\\ml620
                                                504F.h"
                                          111   CFILE 0006H 000000C9H "C:\\Lazu
                                                riteIDE\\bin\\U8Dev\\Inc\\strin
                                                g.h"
                                          112   CFILE 0007H 00000022H "C:\\LAZU
                                                RI~1\\hardware\\LAZURI~2\\ML620
                                                Q~1\\MCU_SM~1\\mcu.h"
                                          113   CFILE 0008H 00000045H "C:\\LAZU
                                                RI~1\\hardware\\LAZURI~2\\ML620
                                                Q~1\\common\\rdwr_reg.h"
                                          114   CFILE 0009H 00000218H "C:\\LAZU
                                                RI~1\\hardware\\LAZURI~2\\lazur
                                                ite\\binary.h"
                                          115   CFILE 000AH 0000006FH "C:\\LAZU
                                                RI~1\\hardware\\lazurite_subghz
                                                \\ml620q504\\driver_irq.h"
                                          116   CFILE 000BH 00000331H "C:\\LAZU
                                                RI~1\\hardware\\LAZURI~2\\ML620
                                                Q~1\\irq\\irq.h"
                                          117   CFILE 000CH 00000057H "C:\\LAZU
                                                RI~1\\hardware\\lazurite_subghz
                                                \\ml620q504\\driver_i2c.h"
                                          118   CFILE 0000H 000001B1H "C:\\LAZU
                                                RI~1\\hardware\\lazurite_subghz
                                                \\ml620q504\\driver_i2c.c"
                                          119   
RASU8(ML620504F)Relocatable Assembler, Ver.1.61.2    assemble list. page:   6 
 Title : 
## Loc. Object              [CZSOMH]     Line   Source Statements

  --------------------------              120           rseg $$i2c_init$driver_
                                                i2c
                                          121   CFUNCTION 127
                                          122   
00:0000                                   123   _i2c_init       :
                                          124   CBLOCK 127 1 73
                                          125   
                                          126   ;;{
                                          127   CLINEA 0000H 0001H 0049H 0001H 
                                                0001H
                                          128   ;;*****************************
                                                ************
                                          129   ;;      register/stack informat
                                                ion
                                          130   ;;*****************************
                                                ************
                                          131   ;;*****************************
                                                ************
                                          132   
00:0000 CE-F8               [------]      133           push    lr
00:0002 5E-F8               [------]      134           push    er8
00:0004 00-88               [-ZS---]      135           mov     r8,     r0
                                          136   CBLOCK 127 2 73
                                          137   CRET 0002H
                                          138   CARGUMENT 46H 0001H 001CH "ch" 
                                                02H 00H 00H
                                          139   
                                          140   ;;      if(ch>=2) return;
                                          141   CLINEA 0000H 0001H 004AH 0002H 
                                                0012H
00:0006 02 70               [CZSO-H]      142           cmp     r0,     #02h
00:0008 02 C1               [------]      143           blt     _$L1
                                          144   CBLOCKEND 127 2 101
                                          145   
                                          146   ;;}
                                          147   CLINEA 0000H 0001H 0065H 0001H 
                                                0001H
00:000A                                   148   _$L0 :
00:000A 1E-F8               [------]      149           pop     er8
00:000C 8E-F2               [------]      150           pop     pc
                                          151   
                                          152   ;;      if(ch>=2) return;
                                          153   CLINEA 0000H 0000H 004AH 0002H 
                                                0012H
00:000E                                   154   _$L1 :
                                          155   
                                          156   ;;      I2C[ch].status = I2C_MO
                                                DE_IDLE;
                                          157   CLINEA 0000H 0001H 004DH 0002H 
                                                0020H
00:000E 00 01               [-ZS---]      158           mov     r1,     #00h
00:0010 05-F2               [-ZS---]      159           mov     er2,    er0
00:0012 3B-93               [C-----]      160           sllc    r3,     #03h
00:0014 3A-92               [C-----]      161           sll     r2,     #03h
00:0016 06-F2               [CZSO-H]      162           add     er2,    er0
00:0018 26-F2               [CZSO-H]      163           add     er2,    er2
RASU8(ML620504F)Relocatable Assembler, Ver.1.61.2    assemble list. page:   7 
 Title : 
## Loc. Object              [CZSOMH]     Line   Source Statements

00:001A 25-F0               [-ZS---]      164           mov     er0,    er2
00:001C 01 02               [-ZS---]      165           mov     r2,     #01h
00:001E 09-92 00-00'        [------]      166           st      r2,     NEAR _I
                                                2C+0eh[er0]
                                          167   
                                          168   ;;      I2C[ch].flag = false;
                                          169   CLINEA 0000H 0001H 004EH 0002H 
                                                0016H
00:0022 80-80               [-ZS---]      170           mov     r0,     r8
00:0024 00 01               [-ZS---]      171           mov     r1,     #00h
00:0026 05-F2               [-ZS---]      172           mov     er2,    er0
00:0028 3B-93               [C-----]      173           sllc    r3,     #03h
00:002A 3A-92               [C-----]      174           sll     r2,     #03h
00:002C 06-F2               [CZSO-H]      175           add     er2,    er0
00:002E 26-F2               [CZSO-H]      176           add     er2,    er2
00:0030 25-F0               [-ZS---]      177           mov     er0,    er2
00:0032 00 02               [-ZS---]      178           mov     r2,     #00h
00:0034 09-92 00-00'        [------]      179           st      r2,     NEAR _I
                                                2C[er0]
                                          180   
                                          181   ;;      I2C[ch].err_code = 0;
                                          182   CLINEA 0000H 0001H 004FH 0002H 
                                                0016H
00:0038 80-80               [-ZS---]      183           mov     r0,     r8
00:003A 00 01               [-ZS---]      184           mov     r1,     #00h
00:003C 05-F2               [-ZS---]      185           mov     er2,    er0
00:003E 3B-93               [C-----]      186           sllc    r3,     #03h
00:0040 3A-92               [C-----]      187           sll     r2,     #03h
00:0042 06-F2               [CZSO-H]      188           add     er2,    er0
00:0044 26-F2               [CZSO-H]      189           add     er2,    er2
00:0046 25-F0               [-ZS---]      190           mov     er0,    er2
00:0048 00 02               [-ZS---]      191           mov     r2,     #00h
00:004A 09-92 00-00'        [------]      192           st      r2,     NEAR _I
                                                2C+010h[er0]
                                          193   
                                          194   ;;      if(ch == 0)
                                          195   CLINEA 0000H 0001H 0052H 0002H 
                                                000CH
00:004E 00 78               [CZSO-H]      196           cmp     r8,     #00h
00:0050 22 C8               [------]      197           bne     _$L3
                                          198   CBLOCK 127 3 83
                                          199   
                                          200   ;;              clear_bit(DI2C0
                                                );
                                          201   CLINEA 0000H 0001H 0054H 0003H 
                                                0013H
00:0052 E2-A0 6A-F0         [-Z----]      202           rb      0f06ah.6
                                          203   
                                          204   ;;              P40D=1;P40MD1 =
                                                 0; P40MD0 = 1; P40C1 = 1; P40C
                                                0 = 0;    // port setting
                                          205   CLINEA 0000H 0001H 0055H 0003H 
                                                0046H
00:0056 80-A0 30-F2         [-Z----]      206           sb      0f230h.0
00:005A 82-A0 35-F2         [-Z----]      207           rb      0f235h.0
00:005E 80-A0 34-F2         [-Z----]      208           sb      0f234h.0
RASU8(ML620504F)Relocatable Assembler, Ver.1.61.2    assemble list. page:   8 
 Title : 
## Loc. Object              [CZSOMH]     Line   Source Statements

00:0062 80-A0 33-F2         [-Z----]      209           sb      0f233h.0
00:0066 82-A0 32-F2         [-Z----]      210           rb      0f232h.0
                                          211   
                                          212   ;;              P41D=1;P41MD1 =
                                                 0; P41MD0 = 1; P41C1 = 1; P41C
                                                0 = 0;    // port setting
                                          213   CLINEA 0000H 0001H 0056H 0003H 
                                                0046H
00:006A 90-A0 30-F2         [-Z----]      214           sb      0f230h.1
00:006E 92-A0 35-F2         [-Z----]      215           rb      0f235h.1
00:0072 90-A0 34-F2         [-Z----]      216           sb      0f234h.1
00:0076 90-A0 33-F2         [-Z----]      217           sb      0f233h.1
00:007A 92-A0 32-F2         [-Z----]      218           rb      0f232h.1
                                          219   
                                          220   ;;              I2C0MOD = 0x020
                                                3;                             
                                                                               
                                                           // OSCLK=16M, 400kbp
                                                s, I2C start
                                          221   CLINEA 0000H 0001H 0057H 0003H 
                                                003CH
00:007E 03 00               [-ZS---]      222           mov     r0,     #03h
00:0080 02 01               [-ZS---]      223           mov     r1,     #02h
00:0082 13-90 48-F7         [------]      224           st      er0,    0f748h
                                          225   
                                          226   ;;              irq_sethandler(
                                                IRQ_NO_I2C0INT,i2c0_isr);      
                                                          // set interrupt hand
                                                ler
                                          227   CLINEA 0000H 0001H 0058H 0003H 
                                                0044H
00:0086 00'02               [-ZS---]      228           mov     r2,     #BYTE1 
                                                OFFSET _i2c0_isr
00:0088 00'03               [-ZS---]      229           mov     r3,     #BYTE2 
                                                OFFSET _i2c0_isr
00:008A 0B 00               [-ZS---]      230           mov     r0,     #0bh
00:008C 01-F0'00-00'        [------]      231           bl      _irq_sethandler
                                          232   
                                          233   ;;              EI2C0 = 1;
                                          234   CLINEA 0000H 0001H 0059H 0003H 
                                                000CH
00:0090 A0-A0 12-F0         [-Z----]      235           sb      0f012h.2
                                          236   
                                          237   ;;      else if(ch == 1)
                                          238   CLINEA 0000H 0001H 005BH 0002H 
                                                0011H
00:0094 25 CE               [------]      239           bal     _$L6
00:0096                                   240   _$L3 :
00:0096 01 78               [CZSO-H]      241           cmp     r8,     #01h
00:0098 02 C9               [------]      242           beq     _$M1
00:009A 00-F0'00-00'        [------]      243           b       _$L0
00:009E                                   244   _$M1 :
                                          245   CBLOCK 127 4 92
                                          246   
                                          247   ;;              clear_bit(DI2C1
                                                );
RASU8(ML620504F)Relocatable Assembler, Ver.1.61.2    assemble list. page:   9 
 Title : 
## Loc. Object              [CZSOMH]     Line   Source Statements

                                          248   CLINEA 0000H 0001H 005DH 0003H 
                                                0013H
00:009E F2-A0 6A-F0         [-Z----]      249           rb      0f06ah.7
                                          250   
                                          251   ;;              P35D=1,P35MD1 =
                                                 0;      P35MD0 = 1;P35C1 = 1; 
                                                P35C0 = 0;        // port setti
                                                ng
                                          252   CLINEA 0000H 0001H 005EH 0003H 
                                                0045H
00:00A2 D0-A0 28-F2         [-Z----]      253           sb      0f228h.5
00:00A6 D2-A0 2D-F2         [-Z----]      254           rb      0f22dh.5
00:00AA D0-A0 2C-F2         [-Z----]      255           sb      0f22ch.5
00:00AE D0-A0 2B-F2         [-Z----]      256           sb      0f22bh.5
00:00B2 D2-A0 2A-F2         [-Z----]      257           rb      0f22ah.5
                                          258   
                                          259   ;;              P34D=1,P34MD1 =
                                                 0;      P34MD0 = 1;P34C1 = 1; 
                                                P34C0 = 0;        // port setti
                                                ng
                                          260   CLINEA 0000H 0001H 005FH 0003H 
                                                0045H
00:00B6 C0-A0 28-F2         [-Z----]      261           sb      0f228h.4
00:00BA C2-A0 2D-F2         [-Z----]      262           rb      0f22dh.4
00:00BE C0-A0 2C-F2         [-Z----]      263           sb      0f22ch.4
00:00C2 C0-A0 2B-F2         [-Z----]      264           sb      0f22bh.4
00:00C6 C2-A0 2A-F2         [-Z----]      265           rb      0f22ah.4
                                          266   
                                          267   ;;              I2C1MOD = 0x020
                                                3;                             
                                                                               
                                                           // OSCLK=16M, 400kbp
                                                s, I2C start
                                          268   CLINEA 0000H 0001H 0060H 0003H 
                                                003CH
00:00CA 03 00               [-ZS---]      269           mov     r0,     #03h
00:00CC 02 01               [-ZS---]      270           mov     r1,     #02h
00:00CE 13-90 58-F7         [------]      271           st      er0,    0f758h
                                          272   
                                          273   ;;              irq_sethandler(
                                                IRQ_NO_I2C1INT,i2c1_isr);      
                                                          // set interrupt hand
                                                ler
                                          274   CLINEA 0000H 0001H 0061H 0003H 
                                                0044H
00:00D2 00'02               [-ZS---]      275           mov     r2,     #BYTE1 
                                                OFFSET _i2c1_isr
00:00D4 00'03               [-ZS---]      276           mov     r3,     #BYTE2 
                                                OFFSET _i2c1_isr
00:00D6 0C 00               [-ZS---]      277           mov     r0,     #0ch
00:00D8 01-F0'00-00'        [------]      278           bl      _irq_sethandler
                                          279   
                                          280   ;;              EI2C1 = 1;
                                          281   CLINEA 0000H 0001H 0062H 0003H 
                                                000CH
00:00DC B0-A0 12-F0         [-Z----]      282           sb      0f012h.3
RASU8(ML620504F)Relocatable Assembler, Ver.1.61.2    assemble list. page:  10 
 Title : 
## Loc. Object              [CZSOMH]     Line   Source Statements

                                          283   CBLOCKEND 127 4 99
                                          284   
                                          285   ;;      }
                                          286   CLINEA 0000H 0000H 0063H 0002H 
                                                0002H
00:00E0                                   287   _$L6 :
                                          288   
                                          289   ;;      return;
                                          290   CLINEA 0000H 0001H 0064H 0002H 
                                                0008H
00:00E0 00-F0'00-00'        [------]      291           b       _$L0
                                          292   CBLOCKEND 127 3 101
                                          293   CBLOCKEND 127 1 101
                                          294   CFUNCTIONEND 127
                                          295   
                                          296   
  --------------------------              297           rseg $$i2c_begin$driver
                                                _i2c
                                          298   CFUNCTION 128
                                          299   
00:0000                                   300   _i2c_begin      :
                                          301   CBLOCK 128 1 105
                                          302   
                                          303   ;;{
                                          304   CLINEA 0000H 0001H 0069H 0001H 
                                                0001H
                                          305   ;;*****************************
                                                ************
                                          306   ;;      register/stack informat
                                                ion
                                          307   ;;*****************************
                                                ************
                                          308   ;;*****************************
                                                ************
                                          309   
00:0000 5E-F8               [------]      310           push    er8
00:0002 00-88               [-ZS---]      311           mov     r8,     r0
                                          312   CBLOCK 128 2 105
                                          313   CARGUMENT 46H 0001H 001CH "ch" 
                                                02H 00H 00H
                                          314   
                                          315   ;;      if(ch>=2) return;
                                          316   CLINEA 0000H 0001H 006BH 0002H 
                                                0012H
00:0004 02 70               [CZSO-H]      317           cmp     r0,     #02h
00:0006 02 C1               [------]      318           blt     _$L9
                                          319   CBLOCKEND 128 2 116
                                          320   
                                          321   ;;}
                                          322   CLINEA 0000H 0001H 0074H 0001H 
                                                0001H
00:0008                                   323   _$L8 :
00:0008 1E-F8               [------]      324           pop     er8
00:000A 1F-FE               [------]      325           rt
                                          326   
                                          327   ;;      if(ch>=2) return;
RASU8(ML620504F)Relocatable Assembler, Ver.1.61.2    assemble list. page:  11 
 Title : 
## Loc. Object              [CZSOMH]     Line   Source Statements

                                          328   CLINEA 0000H 0000H 006BH 0002H 
                                                0012H
00:000C                                   329   _$L9 :
                                          330   
                                          331   ;;      I2C[ch].tx_index = 0;
                                          332   CLINEA 0000H 0001H 006EH 0002H 
                                                0016H
00:000C 00 01               [-ZS---]      333           mov     r1,     #00h
00:000E 05-F2               [-ZS---]      334           mov     er2,    er0
00:0010 3B-93               [C-----]      335           sllc    r3,     #03h
00:0012 3A-92               [C-----]      336           sll     r2,     #03h
00:0014 06-F2               [CZSO-H]      337           add     er2,    er0
00:0016 26-F2               [CZSO-H]      338           add     er2,    er2
00:0018 25-F0               [-ZS---]      339           mov     er0,    er2
00:001A 00 E2               [-ZS---]      340           mov     er2,    #0 
00:001C 09-A2 00-00'        [------]      341           st      er2,    NEAR _I
                                                2C+0ah[er0]
                                          342   
                                          343   ;;      I2C[ch].tx_length = 0;
                                          344   CLINEA 0000H 0001H 006FH 0002H 
                                                0017H
00:0020 80-80               [-ZS---]      345           mov     r0,     r8
00:0022 00 01               [-ZS---]      346           mov     r1,     #00h
00:0024 05-F2               [-ZS---]      347           mov     er2,    er0
00:0026 3B-93               [C-----]      348           sllc    r3,     #03h
00:0028 3A-92               [C-----]      349           sll     r2,     #03h
00:002A 06-F2               [CZSO-H]      350           add     er2,    er0
00:002C 26-F2               [CZSO-H]      351           add     er2,    er2
00:002E 25-F0               [-ZS---]      352           mov     er0,    er2
00:0030 00 E2               [-ZS---]      353           mov     er2,    #0 
00:0032 09-A2 00-00'        [------]      354           st      er2,    NEAR _I
                                                2C+0ch[er0]
                                          355   
                                          356   ;;      I2C[ch].rx_index = 0;
                                          357   CLINEA 0000H 0001H 0070H 0002H 
                                                0016H
00:0036 80-80               [-ZS---]      358           mov     r0,     r8
00:0038 00 01               [-ZS---]      359           mov     r1,     #00h
00:003A 05-F2               [-ZS---]      360           mov     er2,    er0
00:003C 3B-93               [C-----]      361           sllc    r3,     #03h
00:003E 3A-92               [C-----]      362           sll     r2,     #03h
00:0040 06-F2               [CZSO-H]      363           add     er2,    er0
00:0042 26-F2               [CZSO-H]      364           add     er2,    er2
00:0044 25-F0               [-ZS---]      365           mov     er0,    er2
00:0046 00 E2               [-ZS---]      366           mov     er2,    #0 
00:0048 09-A2 00-00'        [------]      367           st      er2,    NEAR _I
                                                2C+04h[er0]
                                          368   
                                          369   ;;      I2C[ch].rx_length = 0;
                                          370   CLINEA 0000H 0001H 0071H 0002H 
                                                0017H
00:004C 80-80               [-ZS---]      371           mov     r0,     r8
00:004E 00 01               [-ZS---]      372           mov     r1,     #00h
00:0050 05-F2               [-ZS---]      373           mov     er2,    er0
00:0052 3B-93               [C-----]      374           sllc    r3,     #03h
00:0054 3A-92               [C-----]      375           sll     r2,     #03h
RASU8(ML620504F)Relocatable Assembler, Ver.1.61.2    assemble list. page:  12 
 Title : 
## Loc. Object              [CZSOMH]     Line   Source Statements

00:0056 06-F2               [CZSO-H]      376           add     er2,    er0
00:0058 26-F2               [CZSO-H]      377           add     er2,    er2
00:005A 25-F0               [-ZS---]      378           mov     er0,    er2
00:005C 00 E2               [-ZS---]      379           mov     er2,    #0 
00:005E 09-A2 00-00'        [------]      380           st      er2,    NEAR _I
                                                2C+06h[er0]
                                          381   
                                          382   ;;      I2C[ch].status = I2C_MO
                                                DE_READY;
                                          383   CLINEA 0000H 0001H 0072H 0002H 
                                                0021H
00:0062 80-80               [-ZS---]      384           mov     r0,     r8
00:0064 00 01               [-ZS---]      385           mov     r1,     #00h
00:0066 05-F2               [-ZS---]      386           mov     er2,    er0
00:0068 3B-93               [C-----]      387           sllc    r3,     #03h
00:006A 3A-92               [C-----]      388           sll     r2,     #03h
00:006C 06-F2               [CZSO-H]      389           add     er2,    er0
00:006E 26-F2               [CZSO-H]      390           add     er2,    er2
00:0070 25-F0               [-ZS---]      391           mov     er0,    er2
00:0072 02 02               [-ZS---]      392           mov     r2,     #02h
00:0074 09-92 00-00'        [------]      393           st      r2,     NEAR _I
                                                2C+0eh[er0]
                                          394   
                                          395   ;;      return;
                                          396   CLINEA 0000H 0001H 0073H 0002H 
                                                0008H
00:0078 C7 CE               [------]      397           bal     _$L8
                                          398   CBLOCKEND 128 1 116
                                          399   CFUNCTIONEND 128
                                          400   
                                          401   
  --------------------------              402           rseg $$i2c_set_rx_buf$d
                                                river_i2c
                                          403   CFUNCTION 129
                                          404   
00:0000                                   405   _i2c_set_rx_buf :
                                          406   CBLOCK 129 1 119
                                          407   
                                          408   ;;{
                                          409   CLINEA 0000H 0001H 0077H 0001H 
                                                0001H
                                          410   ;;*****************************
                                                ************
                                          411   ;;      register/stack informat
                                                ion
                                          412   ;;*****************************
                                                ************
    = 00000002H                           413           _length$4       set    
                                                 2
                                          414   ;;*****************************
                                                ************
                                          415   
00:0000 5E-FE               [------]      416           push    fp
00:0002 1A-AE               [------]      417           mov     fp,     sp
00:0004 6E-F8               [------]      418           push    xr8
00:0006 00-88               [-ZS---]      419           mov     r8,     r0
RASU8(ML620504F)Relocatable Assembler, Ver.1.61.2    assemble list. page:  13 
 Title : 
## Loc. Object              [CZSOMH]     Line   Source Statements

00:0008 25-FA               [-ZS---]      420           mov     er10,   er2
                                          421   CBLOCK 129 2 119
                                          422   CARGUMENT 46H 0001H 001CH "ch" 
                                                02H 00H 00H
                                          423   CARGUMENT 46H 0002H 0029H "rxbu
                                                fp" 04H 03H 00H 00H 00H
                                          424   CARGUMENT 42H 0002H 0002H "leng
                                                th" 02H 00H 01H
                                          425   
                                          426   ;;      I2C[ch].rx_buffer = rxb
                                                ufp;
                                          427   CLINEA 0000H 0001H 0078H 0002H 
                                                001CH
00:000A 00 01               [-ZS---]      428           mov     r1,     #00h
00:000C 05-F2               [-ZS---]      429           mov     er2,    er0
00:000E 3B-93               [C-----]      430           sllc    r3,     #03h
00:0010 3A-92               [C-----]      431           sll     r2,     #03h
00:0012 06-F2               [CZSO-H]      432           add     er2,    er0
00:0014 26-F2               [CZSO-H]      433           add     er2,    er2
00:0016 29-AA 00-00'        [------]      434           st      er10,   NEAR _I
                                                2C+02h[er2]
                                          435   
                                          436   ;;      I2C[ch].rx_length = len
                                                gth;
                                          437   CLINEA 0000H 0001H 0079H 0002H 
                                                001CH
00:001A 05-F2               [-ZS---]      438           mov     er2,    er0
00:001C 3B-93               [C-----]      439           sllc    r3,     #03h
00:001E 3A-92               [C-----]      440           sll     r2,     #03h
00:0020 06-F2               [CZSO-H]      441           add     er2,    er0
00:0022 26-F2               [CZSO-H]      442           add     er2,    er2
00:0024 25-F0               [-ZS---]      443           mov     er0,    er2
00:0026 42 B2               [-ZS---]      444           l       er2,    _length
                                                $4[fp]
00:0028 09-A2 00-00'        [------]      445           st      er2,    NEAR _I
                                                2C+06h[er0]
                                          446   
                                          447   ;;      I2C[ch].rx_index = 0;
                                          448   CLINEA 0000H 0001H 007AH 0002H 
                                                0016H
00:002C 80-80               [-ZS---]      449           mov     r0,     r8
00:002E 00 01               [-ZS---]      450           mov     r1,     #00h
00:0030 05-F2               [-ZS---]      451           mov     er2,    er0
00:0032 3B-93               [C-----]      452           sllc    r3,     #03h
00:0034 3A-92               [C-----]      453           sll     r2,     #03h
00:0036 06-F2               [CZSO-H]      454           add     er2,    er0
00:0038 26-F2               [CZSO-H]      455           add     er2,    er2
00:003A 25-F0               [-ZS---]      456           mov     er0,    er2
00:003C 00 E2               [-ZS---]      457           mov     er2,    #0 
00:003E 09-A2 00-00'        [------]      458           st      er2,    NEAR _I
                                                2C+04h[er0]
                                          459   CBLOCKEND 129 2 124
                                          460   
                                          461   ;;}
                                          462   CLINEA 0000H 0000H 007CH 0001H 
                                                0001H
RASU8(ML620504F)Relocatable Assembler, Ver.1.61.2    assemble list. page:  14 
 Title : 
## Loc. Object              [CZSOMH]     Line   Source Statements

00:0042 2E-F8               [------]      463           pop     xr8
00:0044 EA-A1               [------]      464           mov     sp,     fp
00:0046 1E-FE               [------]      465           pop     fp
00:0048 1F-FE               [------]      466           rt
                                          467   CBLOCKEND 129 1 124
                                          468   CFUNCTIONEND 129
                                          469   
                                          470   
  --------------------------              471           rseg $$i2c_set_tx_buf$d
                                                river_i2c
                                          472   CFUNCTION 130
                                          473   
00:0000                                   474   _i2c_set_tx_buf :
                                          475   CBLOCK 130 1 127
                                          476   
                                          477   ;;{
                                          478   CLINEA 0000H 0001H 007FH 0001H 
                                                0001H
                                          479   ;;*****************************
                                                ************
                                          480   ;;      register/stack informat
                                                ion
                                          481   ;;*****************************
                                                ************
    = 00000002H                           482           _length$4       set    
                                                 2
                                          483   ;;*****************************
                                                ************
                                          484   
00:0000 5E-FE               [------]      485           push    fp
00:0002 1A-AE               [------]      486           mov     fp,     sp
00:0004 6E-F8               [------]      487           push    xr8
00:0006 00-88               [-ZS---]      488           mov     r8,     r0
00:0008 25-FA               [-ZS---]      489           mov     er10,   er2
                                          490   CBLOCK 130 2 127
                                          491   CARGUMENT 46H 0001H 001CH "ch" 
                                                02H 00H 00H
                                          492   CARGUMENT 46H 0002H 0029H "txbu
                                                fp" 04H 03H 00H 00H 00H
                                          493   CARGUMENT 42H 0002H 0002H "leng
                                                th" 02H 00H 01H
                                          494   
                                          495   ;;      I2C[ch].tx_buffer = txb
                                                ufp;
                                          496   CLINEA 0000H 0001H 0080H 0002H 
                                                001CH
00:000A 00 01               [-ZS---]      497           mov     r1,     #00h
00:000C 05-F2               [-ZS---]      498           mov     er2,    er0
00:000E 3B-93               [C-----]      499           sllc    r3,     #03h
00:0010 3A-92               [C-----]      500           sll     r2,     #03h
00:0012 06-F2               [CZSO-H]      501           add     er2,    er0
00:0014 26-F2               [CZSO-H]      502           add     er2,    er2
00:0016 29-AA 00-00'        [------]      503           st      er10,   NEAR _I
                                                2C+08h[er2]
                                          504   
                                          505   ;;      I2C[ch].tx_length = len
RASU8(ML620504F)Relocatable Assembler, Ver.1.61.2    assemble list. page:  15 
 Title : 
## Loc. Object              [CZSOMH]     Line   Source Statements

                                                gth;
                                          506   CLINEA 0000H 0001H 0081H 0002H 
                                                001CH
00:001A 05-F2               [-ZS---]      507           mov     er2,    er0
00:001C 3B-93               [C-----]      508           sllc    r3,     #03h
00:001E 3A-92               [C-----]      509           sll     r2,     #03h
00:0020 06-F2               [CZSO-H]      510           add     er2,    er0
00:0022 26-F2               [CZSO-H]      511           add     er2,    er2
00:0024 25-F0               [-ZS---]      512           mov     er0,    er2
00:0026 42 B2               [-ZS---]      513           l       er2,    _length
                                                $4[fp]
00:0028 09-A2 00-00'        [------]      514           st      er2,    NEAR _I
                                                2C+0ch[er0]
                                          515   
                                          516   ;;      I2C[ch].tx_index = 0;
                                          517   CLINEA 0000H 0001H 0082H 0002H 
                                                0016H
00:002C 80-80               [-ZS---]      518           mov     r0,     r8
00:002E 00 01               [-ZS---]      519           mov     r1,     #00h
00:0030 05-F2               [-ZS---]      520           mov     er2,    er0
00:0032 3B-93               [C-----]      521           sllc    r3,     #03h
00:0034 3A-92               [C-----]      522           sll     r2,     #03h
00:0036 06-F2               [CZSO-H]      523           add     er2,    er0
00:0038 26-F2               [CZSO-H]      524           add     er2,    er2
00:003A 25-F0               [-ZS---]      525           mov     er0,    er2
00:003C 00 E2               [-ZS---]      526           mov     er2,    #0 
00:003E 09-A2 00-00'        [------]      527           st      er2,    NEAR _I
                                                2C+0ah[er0]
                                          528   CBLOCKEND 130 2 132
                                          529   
                                          530   ;;}
                                          531   CLINEA 0000H 0000H 0084H 0001H 
                                                0001H
00:0042 2E-F8               [------]      532           pop     xr8
00:0044 EA-A1               [------]      533           mov     sp,     fp
00:0046 1E-FE               [------]      534           pop     fp
00:0048 1F-FE               [------]      535           rt
                                          536   CBLOCKEND 130 1 132
                                          537   CFUNCTIONEND 130
                                          538   
                                          539   
  --------------------------              540           rseg $$i2c_set_address$
                                                driver_i2c
                                          541   CFUNCTION 131
                                          542   
00:0000                                   543   _i2c_set_address        :
                                          544   CBLOCK 131 1 135
                                          545   
                                          546   ;;{
                                          547   CLINEA 0000H 0001H 0087H 0001H 
                                                0001H
                                          548   ;;*****************************
                                                ************
                                          549   ;;      register/stack informat
                                                ion
                                          550   ;;*****************************
RASU8(ML620504F)Relocatable Assembler, Ver.1.61.2    assemble list. page:  16 
 Title : 
## Loc. Object              [CZSOMH]     Line   Source Statements

                                                ************
                                          551   ;;*****************************
                                                ************
                                          552   
00:0000 10-83               [-ZS---]      553           mov     r3,     r1
                                          554   CBLOCK 131 2 135
                                          555   CARGUMENT 46H 0001H 0014H "ch" 
                                                02H 00H 00H
                                          556   CARGUMENT 46H 0001H 0017H "addr
                                                ess" 02H 00H 00H
                                          557   
                                          558   ;;      if(ch == 0)
                                          559   CLINEA 0000H 0001H 0088H 0002H 
                                                000CH
00:0002 00 70               [CZSO-H]      560           cmp     r0,     #00h
00:0004 05 C8               [------]      561           bne     _$L14
                                          562   CBLOCK 131 3 137
                                          563   
                                          564   ;;              write_reg8(I2C0
                                                SA,(address << 1));            
                                                  // set address to upper 7bit,
                                                 LSB is RD/RW bit
                                          565   CLINEA 0000H 0001H 008AH 0003H 
                                                0054H
00:0006 10-80               [-ZS---]      566           mov     r0,     r1
00:0008 1A-90               [C-----]      567           sll     r0,     #01h
00:000A 11-90 42-F7         [------]      568           st      r0,     0f742h
                                          569   
                                          570   ;;      else if(ch == 1)
                                          571   CLINEA 0000H 0001H 008CH 0002H 
                                                0011H
00:000E 1F-FE               [------]      572           rt
00:0010                                   573   _$L14 :
00:0010 01 70               [CZSO-H]      574           cmp     r0,     #01h
00:0012 04 C8               [------]      575           bne     _$L17
                                          576   CBLOCK 131 4 141
                                          577   
                                          578   ;;              write_reg8(I2C1
                                                SA,(address << 1));            
                                                  // set address to upper 7bit,
                                                 LSB is RD/RW bit
                                          579   CLINEA 0000H 0001H 008EH 0003H 
                                                0054H
00:0014 30-80               [-ZS---]      580           mov     r0,     r3
00:0016 1A-90               [C-----]      581           sll     r0,     #01h
00:0018 11-90 52-F7         [------]      582           st      r0,     0f752h
                                          583   CBLOCKEND 131 4 143
                                          584   
                                          585   ;;      }
                                          586   CLINEA 0000H 0000H 008FH 0002H 
                                                0002H
00:001C                                   587   _$L17 :
                                          588   CBLOCKEND 131 3 145
                                          589   CBLOCKEND 131 2 145
                                          590   
                                          591   ;;}
RASU8(ML620504F)Relocatable Assembler, Ver.1.61.2    assemble list. page:  17 
 Title : 
## Loc. Object              [CZSOMH]     Line   Source Statements

                                          592   CLINEA 0000H 0000H 0091H 0001H 
                                                0001H
00:001C 1F-FE               [------]      593           rt
                                          594   CBLOCKEND 131 1 145
                                          595   CFUNCTIONEND 131
                                          596   
                                          597   
  --------------------------              598           rseg $$i2c_get_status$d
                                                river_i2c
                                          599   CFUNCTION 134
                                          600   
00:0000                                   601   _i2c_get_status :
                                          602   CBLOCK 134 1 148
                                          603   
                                          604   ;;{
                                          605   CLINEA 0000H 0001H 0094H 0001H 
                                                0001H
                                          606   ;;*****************************
                                                ************
                                          607   ;;      register/stack informat
                                                ion
                                          608   ;;*****************************
                                                ************
                                          609   ;;*****************************
                                                ************
                                          610   
                                          611   CBLOCK 134 2 148
                                          612   CARGUMENT 46H 0001H 0014H "ch" 
                                                02H 00H 00H
                                          613   
                                          614   ;;      return I2C[ch].status;
                                          615   CLINEA 0000H 0001H 0095H 0002H 
                                                0017H
00:0000 00 01               [-ZS---]      616           mov     r1,     #00h
00:0002 05-F2               [-ZS---]      617           mov     er2,    er0
00:0004 3B-93               [C-----]      618           sllc    r3,     #03h
00:0006 3A-92               [C-----]      619           sll     r2,     #03h
00:0008 06-F2               [CZSO-H]      620           add     er2,    er0
00:000A 26-F2               [CZSO-H]      621           add     er2,    er2
00:000C 28-90 00-00'        [-ZS---]      622           l       r0,     NEAR _I
                                                2C+0eh[er2]
                                          623   CBLOCKEND 134 2 150
                                          624   
                                          625   ;;}
                                          626   CLINEA 0000H 0000H 0096H 0001H 
                                                0001H
00:0010 1F-FE               [------]      627           rt
                                          628   CBLOCKEND 134 1 150
                                          629   CFUNCTIONEND 134
                                          630   
                                          631   
  --------------------------              632           rseg $$i2c_send_stopbit
                                                $driver_i2c
                                          633   CFUNCTION 132
                                          634   
00:0000                                   635   _i2c_send_stopbit       :
RASU8(ML620504F)Relocatable Assembler, Ver.1.61.2    assemble list. page:  18 
 Title : 
## Loc. Object              [CZSOMH]     Line   Source Statements

                                          636   CBLOCK 132 1 153
                                          637   
                                          638   ;;{
                                          639   CLINEA 0000H 0001H 0099H 0001H 
                                                0001H
                                          640   ;;*****************************
                                                ************
                                          641   ;;      register/stack informat
                                                ion
                                          642   ;;*****************************
                                                ************
                                          643   ;;*****************************
                                                ************
                                          644   
                                          645   CBLOCK 132 2 153
                                          646   CARGUMENT 46H 0001H 0014H "ch" 
                                                02H 00H 00H
                                          647   
                                          648   ;;      if(ch == 0)
                                          649   CLINEA 0000H 0001H 009AH 0002H 
                                                000CH
00:0000 00 70               [CZSO-H]      650           cmp     r0,     #00h
00:0002 04 C8               [------]      651           bne     _$L21
                                          652   CBLOCK 132 3 155
                                          653   
                                          654   ;;              write_reg8(I2C0
                                                CON0, 0x02);
                                          655   CLINEA 0000H 0001H 009CH 0003H 
                                                001DH
00:0004 02 00               [-ZS---]      656           mov     r0,     #02h
00:0006 11-90 46-F7         [------]      657           st      r0,     0f746h
                                          658   
                                          659   ;;      else if(ch == 1)
                                          660   CLINEA 0000H 0001H 009EH 0002H 
                                                0011H
00:000A 1F-FE               [------]      661           rt
00:000C                                   662   _$L21 :
00:000C 01 70               [CZSO-H]      663           cmp     r0,     #01h
00:000E 03 C8               [------]      664           bne     _$L24
                                          665   CBLOCK 132 4 159
                                          666   
                                          667   ;;              write_reg8(I2C1
                                                CON0, 0x02);
                                          668   CLINEA 0000H 0001H 00A0H 0003H 
                                                001DH
00:0010 02 00               [-ZS---]      669           mov     r0,     #02h
00:0012 11-90 56-F7         [------]      670           st      r0,     0f756h
                                          671   CBLOCKEND 132 4 161
                                          672   
                                          673   ;;      }
                                          674   CLINEA 0000H 0000H 00A1H 0002H 
                                                0002H
00:0016                                   675   _$L24 :
                                          676   CBLOCKEND 132 3 163
                                          677   CBLOCKEND 132 2 163
                                          678   
RASU8(ML620504F)Relocatable Assembler, Ver.1.61.2    assemble list. page:  19 
 Title : 
## Loc. Object              [CZSOMH]     Line   Source Statements

                                          679   ;;}
                                          680   CLINEA 0000H 0000H 00A3H 0001H 
                                                0001H
00:0016 1F-FE               [------]      681           rt
                                          682   CBLOCKEND 132 1 163
                                          683   CFUNCTIONEND 132
                                          684   
                                          685   
  --------------------------              686           rseg $$i2c_start$driver
                                                _i2c
                                          687   CFUNCTION 133
                                          688   
00:0000                                   689   _i2c_start      :
                                          690   CBLOCK 133 1 166
                                          691   
                                          692   ;;{
                                          693   CLINEA 0000H 0001H 00A6H 0001H 
                                                0001H
                                          694   ;;*****************************
                                                ************
                                          695   ;;      register/stack informat
                                                ion
                                          696   ;;*****************************
                                                ************
                                          697   ;;*****************************
                                                ************
                                          698   
00:0000 6E-F8               [------]      699           push    xr8
00:0002 5E-FC               [------]      700           push    bp
00:0004 5E-F4               [------]      701           push    er4
00:0006 05-F8               [-ZS---]      702           mov     er8,    er0
00:0008 20-8A               [-ZS---]      703           mov     r10,    r2
                                          704   CBLOCK 133 2 166
                                          705   CARGUMENT 46H 0001H 001CH "ch" 
                                                02H 00H 00H
                                          706   CARGUMENT 46H 0001H 001DH "writ
                                                e" 02H 00H 00H
                                          707   CARGUMENT 46H 0001H 001EH "cont
                                                " 02H 00H 00H
                                          708   CLOCAL 46H 0002H 002AH 0002H "r
                                                eg_SA" 04H 03H 00H 00H 00H
                                          709   CLOCAL 46H 0002H 0026H 0002H "r
                                                eg_CON" 04H 03H 00H 00H 00H
                                          710   CLOCAL 46H 0001H 0014H 0002H "s
                                                tart_code" 02H 00H 00H
                                          711   
                                          712   ;;      if(ch>=2) return;
                                          713   CLINEA 0000H 0001H 00ABH 0002H 
                                                0012H
00:000A 02 70               [CZSO-H]      714           cmp     r0,     #02h
00:000C 04 C1               [------]      715           blt     _$L27
                                          716   CBLOCKEND 133 2 217
                                          717   
                                          718   ;;}
                                          719   CLINEA 0000H 0001H 00D9H 0001H 
                                                0001H
RASU8(ML620504F)Relocatable Assembler, Ver.1.61.2    assemble list. page:  20 
 Title : 
## Loc. Object              [CZSOMH]     Line   Source Statements

00:000E                                   720   _$L26 :
00:000E 1E-F4               [------]      721           pop     er4
00:0010 1E-FC               [------]      722           pop     bp
00:0012 2E-F8               [------]      723           pop     xr8
00:0014 1F-FE               [------]      724           rt
                                          725   
                                          726   ;;      if(ch>=2) return;
                                          727   CLINEA 0000H 0000H 00ABH 0002H 
                                                0012H
00:0016                                   728   _$L27 :
                                          729   
                                          730   ;;      I2C[ch].flag = false;
                                          731   CLINEA 0000H 0001H 00ACH 0002H 
                                                0016H
00:0016 00 01               [-ZS---]      732           mov     r1,     #00h
00:0018 05-F2               [-ZS---]      733           mov     er2,    er0
00:001A 3B-93               [C-----]      734           sllc    r3,     #03h
00:001C 3A-92               [C-----]      735           sll     r2,     #03h
00:001E 06-F2               [CZSO-H]      736           add     er2,    er0
00:0020 26-F2               [CZSO-H]      737           add     er2,    er2
00:0022 25-F0               [-ZS---]      738           mov     er0,    er2
00:0024 00 02               [-ZS---]      739           mov     r2,     #00h
00:0026 09-92 00-00'        [------]      740           st      r2,     NEAR _I
                                                2C[er0]
                                          741   
                                          742   ;;      I2C[ch].err_code = 0;
                                          743   CLINEA 0000H 0001H 00ADH 0002H 
                                                0016H
00:002A 80-80               [-ZS---]      744           mov     r0,     r8
00:002C 00 01               [-ZS---]      745           mov     r1,     #00h
00:002E 05-F2               [-ZS---]      746           mov     er2,    er0
00:0030 3B-93               [C-----]      747           sllc    r3,     #03h
00:0032 3A-92               [C-----]      748           sll     r2,     #03h
00:0034 06-F2               [CZSO-H]      749           add     er2,    er0
00:0036 26-F2               [CZSO-H]      750           add     er2,    er2
00:0038 25-F0               [-ZS---]      751           mov     er0,    er2
00:003A 00 02               [-ZS---]      752           mov     r2,     #00h
00:003C 09-92 00-00'        [------]      753           st      r2,     NEAR _I
                                                2C+010h[er0]
                                          754   
                                          755   ;;      switch(ch)
                                          756   CLINEA 0000H 0001H 00B0H 0002H 
                                                000BH
                                          757   CBLOCK 133 3 177
00:0040 00 78               [CZSO-H]      758           cmp     r8,     #00h
00:0042 33 C9               [------]      759           beq     _$L34
                                          760   
                                          761   ;;      switch(ch)
                                          762   CLINEA 0000H 0000H 00B0H 0002H 
                                                000BH
00:0044 01 78               [CZSO-H]      763           cmp     r8,     #01h
00:0046 35 C9               [------]      764           beq     _$L35
                                          765   
                                          766   ;;              return;
                                          767   CLINEA 0000H 0001H 00BBH 0003H 
                                                0009H
RASU8(ML620504F)Relocatable Assembler, Ver.1.61.2    assemble list. page:  21 
 Title : 
## Loc. Object              [CZSOMH]     Line   Source Statements

00:0048 E2 CE               [------]      768           bal     _$L26
                                          769   CBLOCKEND 133 3 188
                                          770   
                                          771   ;;      }
                                          772   CLINEA 0000H 0000H 00BCH 0002H 
                                                0002H
00:004A                                   773   _$L32 :
00:004A F7 05               [-ZS---]      774           mov     r5,     #0f7h
                                          775   
                                          776   ;;      if(write == TRUE)
                                          777   CLINEA 0000H 0001H 00BEH 0002H 
                                                0012H
00:004C 01 79               [CZSO-H]      778           cmp     r9,     #01h
00:004E 0D C8               [------]      779           bne     _$L36
                                          780   CBLOCK 133 4 191
                                          781   
                                          782   ;;              *reg_SA &= 0xFE
                                                ;                              
                                                          // set LSB of I2C add
                                                ress  to 0
                                          783   CLINEA 0000H 0001H 00C0H 0003H 
                                                0036H
00:0050 C0-90               [-ZS---]      784           l       r0,     [bp]
00:0052 FE 20               [-ZS---]      785           and     r0,     #0feh
00:0054 C1-90               [------]      786           st      r0,     [bp]
                                          787   
                                          788   ;;              I2C[ch].status 
                                                = I2C_MODE_TX;           // set
                                                 status to write
                                          789   CLINEA 0000H 0001H 00C1H 0003H 
                                                0037H
00:0056 80-80               [-ZS---]      790           mov     r0,     r8
00:0058 00 01               [-ZS---]      791           mov     r1,     #00h
00:005A 05-F2               [-ZS---]      792           mov     er2,    er0
00:005C 3B-93               [C-----]      793           sllc    r3,     #03h
00:005E 3A-92               [C-----]      794           sll     r2,     #03h
00:0060 06-F2               [CZSO-H]      795           add     er2,    er0
00:0062 26-F2               [CZSO-H]      796           add     er2,    er2
00:0064 25-F0               [-ZS---]      797           mov     er0,    er2
00:0066 06 02               [-ZS---]      798           mov     r2,     #06h
                                          799   CBLOCKEND 133 4 194
                                          800   
                                          801   ;;      else // read sequence
                                          802   CLINEA 0000H 0001H 00C3H 0002H 
                                                0016H
00:0068 0C CE               [------]      803           bal     _$L38
00:006A                                   804   _$L36 :
                                          805   CBLOCK 133 5 196
                                          806   
                                          807   ;;              *reg_SA |= 0x01
                                                ;                              
                                                          // set LSB of I2C add
                                                ress to 1
                                          808   CLINEA 0000H 0001H 00C5H 0003H 
                                                0035H
00:006A C0-90               [-ZS---]      809           l       r0,     [bp]
RASU8(ML620504F)Relocatable Assembler, Ver.1.61.2    assemble list. page:  22 
 Title : 
## Loc. Object              [CZSOMH]     Line   Source Statements

00:006C 01 30               [-ZS---]      810           or      r0,     #01h
00:006E C1-90               [------]      811           st      r0,     [bp]
                                          812   
                                          813   ;;              I2C[ch].status 
                                                = I2C_MODE_RX_ADR;       // set
                                                 status to read
                                          814   CLINEA 0000H 0001H 00C6H 0003H 
                                                0039H
00:0070 80-80               [-ZS---]      815           mov     r0,     r8
00:0072 00 01               [-ZS---]      816           mov     r1,     #00h
00:0074 05-F2               [-ZS---]      817           mov     er2,    er0
00:0076 3B-93               [C-----]      818           sllc    r3,     #03h
00:0078 3A-92               [C-----]      819           sll     r2,     #03h
00:007A 06-F2               [CZSO-H]      820           add     er2,    er0
00:007C 26-F2               [CZSO-H]      821           add     er2,    er2
00:007E 25-F0               [-ZS---]      822           mov     er0,    er2
00:0080 07 02               [-ZS---]      823           mov     r2,     #07h
                                          824   CBLOCKEND 133 5 199
                                          825   
                                          826   ;;      }
                                          827   CLINEA 0000H 0000H 00C7H 0002H 
                                                0002H
00:0082                                   828   _$L38 :
00:0082 09-92 00-00'        [------]      829           st      r2,     NEAR _I
                                                2C+0eh[er0]
                                          830   
                                          831   ;;      I2C[ch].bStop = cont;
                                          832   CLINEA 0000H 0001H 00CAH 0002H 
                                                0016H
00:0086 80-80               [-ZS---]      833           mov     r0,     r8
00:0088 00 01               [-ZS---]      834           mov     r1,     #00h
00:008A 05-F2               [-ZS---]      835           mov     er2,    er0
00:008C 3B-93               [C-----]      836           sllc    r3,     #03h
00:008E 3A-92               [C-----]      837           sll     r2,     #03h
00:0090 06-F2               [CZSO-H]      838           add     er2,    er0
00:0092 26-F2               [CZSO-H]      839           add     er2,    er2
00:0094 29-9A 00-00'        [------]      840           st      r10,    NEAR _I
                                                2C+0fh[er2]
                                          841   
                                          842   ;;      if((*reg_CON&0x01) == 0
                                                )                              
                                                  // check start or restart
                                          843   CLINEA 0000H 0001H 00CDH 0002H 
                                                0036H
00:0098 40-90               [-ZS---]      844           l       r0,     [er4]
00:009A 01-A0               [-Z----]      845           tb      r0.0
00:009C 02 C8               [------]      846           bne     _$L39
                                          847   CBLOCK 133 6 206
                                          848   
                                          849   ;;              start_code |= 0
                                                x01;
                                          850   CLINEA 0000H 0001H 00CFH 0003H 
                                                0015H
00:009E 01 00               [-ZS---]      851           mov     r0,     #01h
                                          852   CBLOCKEND 133 6 208
                                          853   
RASU8(ML620504F)Relocatable Assembler, Ver.1.61.2    assemble list. page:  23 
 Title : 
## Loc. Object              [CZSOMH]     Line   Source Statements

                                          854   ;;      else
                                          855   CLINEA 0000H 0001H 00D1H 0002H 
                                                0005H
00:00A0 01 CE               [------]      856           bal     _$L41
00:00A2                                   857   _$L39 :
                                          858   CBLOCK 133 7 210
                                          859   
                                          860   ;;              start_code |= 0
                                                x05;                           
                                                          // restart
                                          861   CLINEA 0000H 0001H 00D3H 0003H 
                                                0024H
00:00A2 05 00               [-ZS---]      862           mov     r0,     #05h
                                          863   CBLOCKEND 133 7 212
                                          864   
                                          865   ;;      }
                                          866   CLINEA 0000H 0000H 00D4H 0002H 
                                                0002H
00:00A4                                   867   _$L41 :
                                          868   
                                          869   ;;      *reg_CON = start_code; 
                                                                               
                                                  // start
                                          870   CLINEA 0000H 0001H 00D6H 0002H 
                                                0024H
00:00A4 41-90               [------]      871           st      r0,     [er4]
                                          872   
                                          873   ;;      return;
                                          874   CLINEA 0000H 0001H 00D8H 0002H 
                                                0008H
00:00A6 00-F0'00-00'        [------]      875           b       _$L26
                                          876   
                                          877   ;;      case 0:                
                                                 // I2C0
                                          878   CLINEA 0000H 0001H 00B2H 0002H 
                                                0012H
00:00AA                                   879   _$L34 :
                                          880   
                                          881   ;;              reg_SA = &I2C0S
                                                A;
                                          882   CLINEA 0000H 0001H 00B3H 0003H 
                                                0013H
00:00AA 42 0C               [-ZS---]      883           mov     r12,    #042h
00:00AC F7 0D               [-ZS---]      884           mov     r13,    #0f7h
                                          885   
                                          886   ;;              reg_CON = &I2C0
                                                CON0;
                                          887   CLINEA 0000H 0001H 00B4H 0003H 
                                                0016H
00:00AE 46 04               [-ZS---]      888           mov     r4,     #046h
                                          889   
                                          890   ;;              break;
                                          891   CLINEA 0000H 0001H 00B5H 0003H 
                                                0008H
00:00B0 CC CE               [------]      892           bal     _$L32
                                          893   
RASU8(ML620504F)Relocatable Assembler, Ver.1.61.2    assemble list. page:  24 
 Title : 
## Loc. Object              [CZSOMH]     Line   Source Statements

                                          894   ;;      case 1:                
                                                 // I2C1
                                          895   CLINEA 0000H 0001H 00B6H 0002H 
                                                0012H
00:00B2                                   896   _$L35 :
                                          897   
                                          898   ;;              reg_SA = &I2C1S
                                                A;
                                          899   CLINEA 0000H 0001H 00B7H 0003H 
                                                0013H
00:00B2 52 0C               [-ZS---]      900           mov     r12,    #052h
00:00B4 F7 0D               [-ZS---]      901           mov     r13,    #0f7h
                                          902   
                                          903   ;;              reg_CON = &I2C1
                                                CON0;
                                          904   CLINEA 0000H 0001H 00B8H 0003H 
                                                0016H
00:00B6 56 04               [-ZS---]      905           mov     r4,     #056h
                                          906   
                                          907   ;;              break;
                                          908   CLINEA 0000H 0001H 00B9H 0003H 
                                                0008H
00:00B8 C8 CE               [------]      909           bal     _$L32
                                          910   CBLOCKEND 133 1 217
                                          911   CFUNCTIONEND 133
                                          912   
                                          913   
  --------------------------              914           rseg $$i2c0_isr$driver_
                                                i2c
                                          915   CFUNCTION 142
                                          916   
00:0000                                   917   _i2c0_isr       :
                                          918   CBLOCK 142 1 221
                                          919   
                                          920   ;;{
                                          921   CLINEA 0000H 0001H 00DDH 0001H 
                                                0001H
                                          922   ;;*****************************
                                                ************
                                          923   ;;      register/stack informat
                                                ion
                                          924   ;;*****************************
                                                ************
                                          925   ;;*****************************
                                                ************
                                          926   
                                          927   CBLOCK 142 2 221
                                          928   
                                          929   ;;      I2C[0].flag = true;
                                          930   CLINEA 0000H 0001H 00DEH 0002H 
                                                0014H
00:0000 01 00               [-ZS---]      931           mov     r0,     #01h
00:0002 11-90 00-00'        [------]      932           st      r0,     NEAR _I
                                                2C
                                          933   CBLOCKEND 142 2 223
                                          934   
RASU8(ML620504F)Relocatable Assembler, Ver.1.61.2    assemble list. page:  25 
 Title : 
## Loc. Object              [CZSOMH]     Line   Source Statements

                                          935   ;;}
                                          936   CLINEA 0000H 0001H 00DFH 0001H 
                                                0001H
00:0006 1F-FE               [------]      937           rt
                                          938   CBLOCKEND 142 1 223
                                          939   CFUNCTIONEND 142
                                          940   
                                          941   
  --------------------------              942           rseg $$i2c1_isr$driver_
                                                i2c
                                          943   CFUNCTION 141
                                          944   
00:0000                                   945   _i2c1_isr       :
                                          946   CBLOCK 141 1 227
                                          947   
                                          948   ;;{
                                          949   CLINEA 0000H 0001H 00E3H 0001H 
                                                0001H
                                          950   ;;*****************************
                                                ************
                                          951   ;;      register/stack informat
                                                ion
                                          952   ;;*****************************
                                                ************
                                          953   ;;*****************************
                                                ************
                                          954   
                                          955   CBLOCK 141 2 227
                                          956   
                                          957   ;;      I2C[1].flag = true;
                                          958   CLINEA 0000H 0001H 00E4H 0002H 
                                                0014H
00:0000 01 00               [-ZS---]      959           mov     r0,     #01h
00:0002 11-90 00-00'        [------]      960           st      r0,     NEAR _I
                                                2C+012h
                                          961   CBLOCKEND 141 2 229
                                          962   
                                          963   ;;}
                                          964   CLINEA 0000H 0001H 00E5H 0001H 
                                                0001H
00:0006 1F-FE               [------]      965           rt
                                          966   CBLOCKEND 141 1 229
                                          967   CFUNCTIONEND 141
                                          968   
                                          969   
  --------------------------              970           rseg $$i2c_isr$driver_i
                                                2c
                                          971   CFUNCTION 135
                                          972   
00:0000                                   973   _i2c_isr        :
                                          974   CBLOCK 135 1 234
                                          975   
                                          976   ;;{
                                          977   CLINEA 0000H 0001H 00EAH 0001H 
                                                0001H
                                          978   ;;*****************************
RASU8(ML620504F)Relocatable Assembler, Ver.1.61.2    assemble list. page:  26 
 Title : 
## Loc. Object              [CZSOMH]     Line   Source Statements

                                                ************
                                          979   ;;      register/stack informat
                                                ion
                                          980   ;;*****************************
                                                ************
                                          981   ;;*****************************
                                                ************
                                          982   
00:0000 CE-F8               [------]      983           push    lr
00:0002 6E-F8               [------]      984           push    xr8
00:0004 6E-F4               [------]      985           push    xr4
00:0006 5E-FC               [------]      986           push    bp
00:0008 00-88               [-ZS---]      987           mov     r8,     r0
                                          988   CBLOCK 135 2 234
                                          989   CRET 000AH
                                          990   CARGUMENT 46H 0001H 001CH "ch" 
                                                02H 00H 00H
                                          991   CLOCAL 46H 0002H 0027H 0002H "r
                                                eg_CON" 04H 03H 00H 00H 00H
                                          992   CLOCAL 46H 0002H 0029H 0002H "r
                                                eg_TD" 04H 03H 00H 00H 00H
                                          993   CLOCAL 46H 0002H 002AH 0002H "r
                                                eg_RD" 04H 03H 00H 00H 00H
                                          994   CLOCAL 46H 0001H 0018H 0002H "s
                                                tartcode" 02H 00H 00H
                                          995   CLOCAL 4AH 0001H 0000H 0002H "i
                                                2c_result" 02H 00H 00H
                                          996   
                                          997   ;;      UCHAR startcode = 0;
                                          998   CLINEA 0000H 0001H 00EEH 0002H 
                                                0015H
00:000A 00 04               [-ZS---]      999           mov     r4,     #00h   
                                                 ;; _lstartcode$6
                                         1000   
                                         1001   ;;      if(     I2C[ch].flag ==
                                                 false) return;
                                         1002   CLINEA 0000H 0001H 00F1H 0002H 
                                                0023H
00:000C 00 01               [-ZS---]     1003           mov     r1,     #00h
00:000E 05-F2               [-ZS---]     1004           mov     er2,    er0
00:0010 3B-93               [C-----]     1005           sllc    r3,     #03h
00:0012 3A-92               [C-----]     1006           sll     r2,     #03h
00:0014 06-F2               [CZSO-H]     1007           add     er2,    er0
00:0016 26-F2               [CZSO-H]     1008           add     er2,    er2
00:0018 28-90 00-00'        [-ZS---]     1009           l       r0,     NEAR _I
                                                2C[er2]
00:001C 04 C8               [------]     1010           bne     _$L45
                                         1011   CBLOCKEND 135 2 348
                                         1012   
                                         1013   ;;}
                                         1014   CLINEA 0000H 0001H 015CH 0001H 
                                                0001H
00:001E                                  1015   _$L44 :
00:001E 1E-FC               [------]     1016           pop     bp
00:0020 2E-F4               [------]     1017           pop     xr4
00:0022 2E-F8               [------]     1018           pop     xr8
RASU8(ML620504F)Relocatable Assembler, Ver.1.61.2    assemble list. page:  27 
 Title : 
## Loc. Object              [CZSOMH]     Line   Source Statements

00:0024 8E-F2               [------]     1019           pop     pc
                                         1020   
                                         1021   ;;      if(     I2C[ch].flag ==
                                                 false) return;
                                         1022   CLINEA 0000H 0000H 00F1H 0002H 
                                                0023H
00:0026                                  1023   _$L45 :
                                         1024   
                                         1025   ;;      I2C[ch].flag = false;
                                         1026   CLINEA 0000H 0001H 00F3H 0002H 
                                                0016H
00:0026 80-80               [-ZS---]     1027           mov     r0,     r8
00:0028 00 01               [-ZS---]     1028           mov     r1,     #00h
00:002A 05-F2               [-ZS---]     1029           mov     er2,    er0
00:002C 3B-93               [C-----]     1030           sllc    r3,     #03h
00:002E 3A-92               [C-----]     1031           sll     r2,     #03h
00:0030 06-F2               [CZSO-H]     1032           add     er2,    er0
00:0032 26-F2               [CZSO-H]     1033           add     er2,    er2
00:0034 25-F0               [-ZS---]     1034           mov     er0,    er2
00:0036 00 02               [-ZS---]     1035           mov     r2,     #00h
00:0038 09-92 00-00'        [------]     1036           st      r2,     NEAR _I
                                                2C[er0]
                                         1037   
                                         1038   ;;      switch(ch)
                                         1039   CLINEA 0000H 0001H 00F5H 0002H 
                                                000BH
                                         1040   CBLOCK 135 3 246
00:003C 00 78               [CZSO-H]     1041           cmp     r8,     #00h
00:003E 22 C9               [------]     1042           beq     _$L52
                                         1043   
                                         1044   ;;      switch(ch)
                                         1045   CLINEA 0000H 0000H 00F5H 0002H 
                                                000BH
00:0040 01 78               [CZSO-H]     1046           cmp     r8,     #01h
00:0042 26 C9               [------]     1047           beq     _$L53
                                         1048   
                                         1049   ;;              return;
                                         1050   CLINEA 0000H 0001H 0102H 0003H 
                                                0009H
00:0044 EC CE               [------]     1051           bal     _$L44
                                         1052   CBLOCKEND 135 3 259
                                         1053   
                                         1054   ;;      }
                                         1055   CLINEA 0000H 0000H 0103H 0002H 
                                                0002H
00:0046                                  1056   _$L50 :
00:0046 F7 0D               [-ZS---]     1057           mov     r13,    #0f7h
                                         1058   
                                         1059   ;;      switch(I2C[ch].status)
                                         1060   CLINEA 0000H 0001H 0106H 0002H 
                                                0017H
00:0048 80-80               [-ZS---]     1061           mov     r0,     r8
00:004A 00 01               [-ZS---]     1062           mov     r1,     #00h
00:004C 05-F2               [-ZS---]     1063           mov     er2,    er0
00:004E 3B-93               [C-----]     1064           sllc    r3,     #03h
00:0050 3A-92               [C-----]     1065           sll     r2,     #03h
RASU8(ML620504F)Relocatable Assembler, Ver.1.61.2    assemble list. page:  28 
 Title : 
## Loc. Object              [CZSOMH]     Line   Source Statements

00:0052 06-F2               [CZSO-H]     1066           add     er2,    er0
00:0054 26-F2               [CZSO-H]     1067           add     er2,    er2
00:0056 28-90 00-00'        [-ZS---]     1068           l       r0,     NEAR _I
                                                2C+0eh[er2]
00:005A 0F-81               [-ZS---]     1069           extbw   er0
                                         1070   CBLOCK 135 4 263
00:005C 09 70               [CZSO-H]     1071           cmp     r0,     #09h
00:005E 00 51               [CZSO-H]     1072           cmpc    r1,     #00h
00:0060 02 C3               [------]     1073           ble     _$M13
00:0062 00-F0'00-00'        [------]     1074           b       _$L58
00:0066                                  1075   _$M13 :
00:0066 02 70               [CZSO-H]     1076           cmp     r0,     #02h
00:0068 00 51               [CZSO-H]     1077           cmpc    r1,     #00h
00:006A 02 C0               [------]     1078           bge     _$M14
00:006C 00-F0'00-00'        [------]     1079           b       _$L58
00:0070                                  1080   _$M14 :
00:0070 FE E0               [CZSO-H]     1081           add     er0,    #-2
00:0072 1B-91               [C-----]     1082           sllc    r1,     #01h
00:0074 1A-90               [C-----]     1083           sll     r0,     #01h
00:0076 08-A0 00-00'        [-ZS---]     1084           l       er0,    NEAR _$
                                                M12[er0]
00:007A 02-F0               [------]     1085           b       er0
                                         1086   
                                         1087   ;;      }
00:007C                                  1088   _$L57 :
                                         1089   
                                         1090   ;;      if(startcode != 0) *reg
                                                _CON = startcode;
                                         1091   CLINEA 0000H 0001H 0159H 0002H 
                                                0029H
00:007C 00 74               [CZSO-H]     1092           cmp     r4,     #00h
00:007E CF C9               [------]     1093           beq     _$L44
00:0080 61-94               [------]     1094           st      r4,     [er6]
                                         1095   
                                         1096   ;;      return;
                                         1097   CLINEA 0000H 0001H 015BH 0002H 
                                                0008H
00:0082 CD CE               [------]     1098           bal     _$L44
                                         1099   
                                         1100   ;;      case 0:
                                         1101   CLINEA 0000H 0001H 00F7H 0002H 
                                                0008H
00:0084                                  1102   _$L52 :
                                         1103   
                                         1104   ;;              reg_CON = &I2C0
                                                CON0;
                                         1105   CLINEA 0000H 0001H 00F8H 0003H 
                                                0016H
00:0084 46 06               [-ZS---]     1106           mov     r6,     #046h
00:0086 F7 07               [-ZS---]     1107           mov     r7,     #0f7h
                                         1108   
                                         1109   ;;              reg_TD  = &I2C0
                                                TD;
                                         1110   CLINEA 0000H 0001H 00F9H 0003H 
                                                0014H
00:0088 44 0A               [-ZS---]     1111           mov     r10,    #044h
RASU8(ML620504F)Relocatable Assembler, Ver.1.61.2    assemble list. page:  29 
 Title : 
## Loc. Object              [CZSOMH]     Line   Source Statements

00:008A F7 0B               [-ZS---]     1112           mov     r11,    #0f7h
                                         1113   
                                         1114   ;;              reg_RD  = &I2C0
                                                RD;
                                         1115   CLINEA 0000H 0001H 00FAH 0003H 
                                                0014H
00:008C 40 0C               [-ZS---]     1116           mov     r12,    #040h
                                         1117   
                                         1118   ;;              break;
                                         1119   CLINEA 0000H 0001H 00FBH 0003H 
                                                0008H
00:008E DB CE               [------]     1120           bal     _$L50
                                         1121   
                                         1122   ;;      case 1:
                                         1123   CLINEA 0000H 0001H 00FCH 0002H 
                                                0008H
00:0090                                  1124   _$L53 :
                                         1125   
                                         1126   ;;              reg_CON = &I2C1
                                                CON0;
                                         1127   CLINEA 0000H 0001H 00FDH 0003H 
                                                0016H
00:0090 56 06               [-ZS---]     1128           mov     r6,     #056h
00:0092 F7 07               [-ZS---]     1129           mov     r7,     #0f7h
                                         1130   
                                         1131   ;;              reg_TD  = &I2C1
                                                TD;
                                         1132   CLINEA 0000H 0001H 00FEH 0003H 
                                                0014H
00:0094 54 0A               [-ZS---]     1133           mov     r10,    #054h
00:0096 F7 0B               [-ZS---]     1134           mov     r11,    #0f7h
                                         1135   
                                         1136   ;;              reg_RD  = &I2C1
                                                RD;
                                         1137   CLINEA 0000H 0001H 00FFH 0003H 
                                                0014H
00:0098 50 0C               [-ZS---]     1138           mov     r12,    #050h
                                         1139   
                                         1140   ;;              break;
                                         1141   CLINEA 0000H 0001H 0100H 0003H 
                                                0008H
00:009A D5 CE               [------]     1142           bal     _$L50
                                         1143   
                                         1144   ;;      case I2C_MODE_TX:      
                                                                               
                                                                               
                                                                   // transfer 
                                                following data
                                         1145   CLINEA 0000H 0001H 0109H 0002H 
                                                0037H
00:009C                                  1146   _$S59 :
                                         1147   
                                         1148   ;;              I2C[ch].err_cod
                                                e = i2c_update_err_code(ch,I2C[
                                                ch].tx_index);
                                         1149   CLINEA 0000H 0000H 010AH 0003H 
RASU8(ML620504F)Relocatable Assembler, Ver.1.61.2    assemble list. page:  30 
 Title : 
## Loc. Object              [CZSOMH]     Line   Source Statements

                                                003EH
00:009C 80-80               [-ZS---]     1150           mov     r0,     r8
00:009E 00 01               [-ZS---]     1151           mov     r1,     #00h
00:00A0 05-F2               [-ZS---]     1152           mov     er2,    er0
00:00A2 3B-93               [C-----]     1153           sllc    r3,     #03h
00:00A4 3A-92               [C-----]     1154           sll     r2,     #03h
00:00A6 06-F2               [CZSO-H]     1155           add     er2,    er0
00:00A8 26-F2               [CZSO-H]     1156           add     er2,    er2
00:00AA 28-A2 00-00'        [-ZS---]     1157           l       er2,    NEAR _I
                                                2C+0ah[er2]
00:00AE 01-F0'00-00'        [------]     1158           bl      _i2c_update_err
                                                _code
00:00B2 00-85               [-ZS---]     1159           mov     r5,     r0
00:00B4 80-80               [-ZS---]     1160           mov     r0,     r8
00:00B6 00 01               [-ZS---]     1161           mov     r1,     #00h
00:00B8 05-F2               [-ZS---]     1162           mov     er2,    er0
00:00BA 3B-93               [C-----]     1163           sllc    r3,     #03h
00:00BC 3A-92               [C-----]     1164           sll     r2,     #03h
00:00BE 06-F2               [CZSO-H]     1165           add     er2,    er0
00:00C0 26-F2               [CZSO-H]     1166           add     er2,    er2
00:00C2 29-95 00-00'        [------]     1167           st      r5,     NEAR _I
                                                2C+010h[er2]
                                         1168   
                                         1169   ;;              if((I2C[ch].tx_
                                                index < I2C[ch].tx_length)&&(I2
                                                C[ch].err_code == I2C_RESULT_OK
                                                ))
                                         1170   CLINEA 0000H 0001H 010BH 0003H 
                                                0051H
00:00C6 05-F2               [-ZS---]     1171           mov     er2,    er0
00:00C8 3B-93               [C-----]     1172           sllc    r3,     #03h
00:00CA 3A-92               [C-----]     1173           sll     r2,     #03h
00:00CC 06-F2               [CZSO-H]     1174           add     er2,    er0
00:00CE 26-F2               [CZSO-H]     1175           add     er2,    er2
00:00D0 25-F0               [-ZS---]     1176           mov     er0,    er2
00:00D2 28-A2 00-00'        [-ZS---]     1177           l       er2,    NEAR _I
                                                2C+0ah[er2]
00:00D6 08-A0 00-00'        [-ZS---]     1178           l       er0,    NEAR _I
                                                2C+0ch[er0]
00:00DA 07-F2               [CZSO-H]     1179           cmp     er2,    er0
00:00DC 26 C0               [------]     1180           bge     _$L60
00:00DE 80-80               [-ZS---]     1181           mov     r0,     r8
00:00E0 00 01               [-ZS---]     1182           mov     r1,     #00h
00:00E2 05-F2               [-ZS---]     1183           mov     er2,    er0
00:00E4 3B-93               [C-----]     1184           sllc    r3,     #03h
00:00E6 3A-92               [C-----]     1185           sll     r2,     #03h
00:00E8 06-F2               [CZSO-H]     1186           add     er2,    er0
00:00EA 26-F2               [CZSO-H]     1187           add     er2,    er2
00:00EC 28-90 00-00'        [-ZS---]     1188           l       r0,     NEAR _I
                                                2C+010h[er2]
00:00F0 1C C8               [------]     1189           bne     _$L60
                                         1190   CBLOCK 135 5 268
                                         1191   
                                         1192   ;;                      *reg_TD
                                                 = I2C[ch].tx_buffer[I2C[ch].tx
                                                _index];          // set next d
RASU8(ML620504F)Relocatable Assembler, Ver.1.61.2    assemble list. page:  31 
 Title : 
## Loc. Object              [CZSOMH]     Line   Source Statements

                                                ata to tx register
                                         1193   CLINEA 0000H 0001H 010DH 0004H 
                                                0052H
00:00F2 80-80               [-ZS---]     1194           mov     r0,     r8
00:00F4 05-F2               [-ZS---]     1195           mov     er2,    er0
00:00F6 3B-93               [C-----]     1196           sllc    r3,     #03h
00:00F8 3A-92               [C-----]     1197           sll     r2,     #03h
00:00FA 06-F2               [CZSO-H]     1198           add     er2,    er0
00:00FC 26-F2               [CZSO-H]     1199           add     er2,    er2
00:00FE 28-A0 00-00'        [-ZS---]     1200           l       er0,    NEAR _I
                                                2C+08h[er2]
00:0102 28-A2 00-00'        [-ZS---]     1201           l       er2,    NEAR _I
                                                2C+0ah[er2]
00:0106 26-F0               [CZSO-H]     1202           add     er0,    er2
00:0108 00-90               [-ZS---]     1203           l       r0,     [er0]
00:010A A1-90               [------]     1204           st      r0,     [er10]
                                         1205   
                                         1206   ;;                      I2C[ch]
                                                .tx_index++;
                                         1207   CLINEA 0000H 0000H 010EH 0004H 
                                                0016H
00:010C 80-80               [-ZS---]     1208           mov     r0,     r8
00:010E 00 01               [-ZS---]     1209           mov     r1,     #00h
00:0110 05-F2               [-ZS---]     1210           mov     er2,    er0
00:0112 3B-93               [C-----]     1211           sllc    r3,     #03h
00:0114 3A-92               [C-----]     1212           sll     r2,     #03h
00:0116 06-F2               [CZSO-H]     1213           add     er2,    er0
00:0118 26-F2               [CZSO-H]     1214           add     er2,    er2
00:011A 25-F0               [-ZS---]     1215           mov     er0,    er2
00:011C 28-A2 00-00'        [-ZS---]     1216           l       er2,    NEAR _I
                                                2C+0ah[er2]
00:0120 81 E2               [CZSO-H]     1217           add     er2,    #1 
00:0122 09-A2 00-00'        [------]     1218           st      er2,    NEAR _I
                                                2C+0ah[er0]
                                         1219   
                                         1220   ;;                      startco
                                                de = 0x01;                     
                                                                               
                                                                   // start tra
                                                nsmitting
                                         1221   CLINEA 0000H 0001H 010FH 0004H 
                                                0032H
00:0126 01 04               [-ZS---]     1222           mov     r4,     #01h   
                                                 ;; _lstartcode$6
                                         1223   
                                         1224   ;;              else           
                                                                               
                                                                               
                                                                           // t
                                                x_buffer full
                                         1225   CLINEA 0000H 0001H 0111H 0003H 
                                                0024H
00:0128 25 CE               [------]     1226           bal     _$L70
00:012A                                  1227   _$L60 :
                                         1228   CBLOCK 135 6 274
                                         1229   
RASU8(ML620504F)Relocatable Assembler, Ver.1.61.2    assemble list. page:  32 
 Title : 
## Loc. Object              [CZSOMH]     Line   Source Statements

                                         1230   ;;                      if(I2C[
                                                ch].bStop == true)
                                         1231   CLINEA 0000H 0001H 0113H 0004H 
                                                001CH
00:012A 80-80               [-ZS---]     1232           mov     r0,     r8
00:012C 00 01               [-ZS---]     1233           mov     r1,     #00h
00:012E 05-F2               [-ZS---]     1234           mov     er2,    er0
00:0130 3B-93               [C-----]     1235           sllc    r3,     #03h
00:0132 3A-92               [C-----]     1236           sll     r2,     #03h
00:0134 06-F2               [CZSO-H]     1237           add     er2,    er0
00:0136 26-F2               [CZSO-H]     1238           add     er2,    er2
00:0138 28-90 00-00'        [-ZS---]     1239           l       r0,     NEAR _I
                                                2C+0fh[er2]
00:013C 01 70               [CZSO-H]     1240           cmp     r0,     #01h
00:013E 0F C8               [------]     1241           bne     _$L68
                                         1242   CBLOCK 135 7 276
                                         1243   
                                         1244   ;;                             
                                                 i2c_send_stopbit(ch);
                                         1245   CLINEA 0000H 0001H 0115H 0005H 
                                                0019H
00:0140 80-80               [-ZS---]     1246           mov     r0,     r8
00:0142 01-F0'00-00'        [------]     1247           bl      _i2c_send_stopb
                                                it
                                         1248   
                                         1249   ;;                             
                                                 I2C[ch].status = I2C_MODE_STOP
                                                BIT;
                                         1250   CLINEA 0000H 0001H 0116H 0005H 
                                                0026H
00:0146 80-80               [-ZS---]     1251           mov     r0,     r8
00:0148 00 01               [-ZS---]     1252           mov     r1,     #00h
00:014A 05-F2               [-ZS---]     1253           mov     er2,    er0
00:014C 3B-93               [C-----]     1254           sllc    r3,     #03h
00:014E 3A-92               [C-----]     1255           sll     r2,     #03h
00:0150 06-F2               [CZSO-H]     1256           add     er2,    er0
00:0152 26-F2               [CZSO-H]     1257           add     er2,    er2
00:0154 25-F0               [-ZS---]     1258           mov     er0,    er2
00:0156 03 02               [-ZS---]     1259           mov     r2,     #03h
00:0158 09-92 00-00'        [------]     1260           st      r2,     NEAR _I
                                                2C+0eh[er0]
                                         1261   CBLOCKEND 135 7 279
                                         1262   
                                         1263   ;;                      else
                                         1264   CLINEA 0000H 0001H 0118H 0004H 
                                                0007H
00:015C 0B CE               [------]     1265           bal     _$L70
00:015E                                  1266   _$L68 :
                                         1267   CBLOCK 135 8 281
                                         1268   
                                         1269   ;;                             
                                                 I2C[ch].status = I2C_MODE_READ
                                                Y;
                                         1270   CLINEA 0000H 0001H 011AH 0005H 
                                                0024H
00:015E 80-80               [-ZS---]     1271           mov     r0,     r8
RASU8(ML620504F)Relocatable Assembler, Ver.1.61.2    assemble list. page:  33 
 Title : 
## Loc. Object              [CZSOMH]     Line   Source Statements

00:0160 00 01               [-ZS---]     1272           mov     r1,     #00h
00:0162 05-F2               [-ZS---]     1273           mov     er2,    er0
00:0164 3B-93               [C-----]     1274           sllc    r3,     #03h
00:0166 3A-92               [C-----]     1275           sll     r2,     #03h
00:0168 06-F2               [CZSO-H]     1276           add     er2,    er0
00:016A 26-F2               [CZSO-H]     1277           add     er2,    er2
00:016C 25-F0               [-ZS---]     1278           mov     er0,    er2
00:016E 02 02               [-ZS---]     1279           mov     r2,     #02h
00:0170 09-92 00-00'        [------]     1280           st      r2,     NEAR _I
                                                2C+0eh[er0]
                                         1281   CBLOCKEND 135 8 283
                                         1282   
                                         1283   ;;                      }
                                         1284   CLINEA 0000H 0000H 011BH 0004H 
                                                0004H
00:0174                                  1285   _$L70 :
                                         1286   CBLOCKEND 135 6 284
                                         1287   
                                         1288   ;;              break;
                                         1289   CLINEA 0000H 0001H 011DH 0003H 
                                                0008H
00:0174 00-F0'00-00'        [------]     1290           b       _$L57
                                         1291   CBLOCKEND 135 5 348
                                         1292   
                                         1293   ;;      case I2C_MODE_RX_ADR:  
                                                                               
                                                                               
                                                           // In case of sendin
                                                g I2C address, skip to send dat
                                                a to buffer
                                         1294   CLINEA 0000H 0001H 011FH 0002H 
                                                005EH
00:0178                                  1295   _$S71 :
                                         1296   
                                         1297   ;;              I2C[ch].err_cod
                                                e = i2c_update_err_code(ch,I2C[
                                                ch].tx_index);
                                         1298   CLINEA 0000H 0000H 0120H 0003H 
                                                003EH
00:0178 80-80               [-ZS---]     1299           mov     r0,     r8
00:017A 00 01               [-ZS---]     1300           mov     r1,     #00h
00:017C 05-F2               [-ZS---]     1301           mov     er2,    er0
00:017E 3B-93               [C-----]     1302           sllc    r3,     #03h
00:0180 3A-92               [C-----]     1303           sll     r2,     #03h
00:0182 06-F2               [CZSO-H]     1304           add     er2,    er0
00:0184 26-F2               [CZSO-H]     1305           add     er2,    er2
00:0186 28-A2 00-00'        [-ZS---]     1306           l       er2,    NEAR _I
                                                2C+0ah[er2]
00:018A 01-F0'00-00'        [------]     1307           bl      _i2c_update_err
                                                _code
00:018E 00-85               [-ZS---]     1308           mov     r5,     r0
00:0190 80-80               [-ZS---]     1309           mov     r0,     r8
00:0192 00 01               [-ZS---]     1310           mov     r1,     #00h
00:0194 05-F2               [-ZS---]     1311           mov     er2,    er0
00:0196 3B-93               [C-----]     1312           sllc    r3,     #03h
00:0198 3A-92               [C-----]     1313           sll     r2,     #03h
RASU8(ML620504F)Relocatable Assembler, Ver.1.61.2    assemble list. page:  34 
 Title : 
## Loc. Object              [CZSOMH]     Line   Source Statements

00:019A 06-F2               [CZSO-H]     1314           add     er2,    er0
00:019C 26-F2               [CZSO-H]     1315           add     er2,    er2
00:019E 29-95 00-00'        [------]     1316           st      r5,     NEAR _I
                                                2C+010h[er2]
                                         1317   
                                         1318   ;;              if((I2C[ch].err
                                                _code != I2C_RESULT_OK)&&(I2C[c
                                                h].bStop != true))             
                                                                           // e
                                                rror process
                                         1319   CLINEA 0000H 0001H 0121H 0003H 
                                                0057H
00:01A2 05-F2               [-ZS---]     1320           mov     er2,    er0
00:01A4 3B-93               [C-----]     1321           sllc    r3,     #03h
00:01A6 3A-92               [C-----]     1322           sll     r2,     #03h
00:01A8 06-F2               [CZSO-H]     1323           add     er2,    er0
00:01AA 26-F2               [CZSO-H]     1324           add     er2,    er2
00:01AC 28-90 00-00'        [-ZS---]     1325           l       r0,     NEAR _I
                                                2C+010h[er2]
00:01B0 16 C9               [------]     1326           beq     _$L72
00:01B2 80-80               [-ZS---]     1327           mov     r0,     r8
00:01B4 05-F2               [-ZS---]     1328           mov     er2,    er0
00:01B6 3B-93               [C-----]     1329           sllc    r3,     #03h
00:01B8 3A-92               [C-----]     1330           sll     r2,     #03h
00:01BA 06-F2               [CZSO-H]     1331           add     er2,    er0
00:01BC 26-F2               [CZSO-H]     1332           add     er2,    er2
00:01BE 28-90 00-00'        [-ZS---]     1333           l       r0,     NEAR _I
                                                2C+0fh[er2]
00:01C2 01 70               [CZSO-H]     1334           cmp     r0,     #01h
00:01C4 0C C9               [------]     1335           beq     _$L72
                                         1336   CBLOCK 135 9 290
                                         1337   
                                         1338   ;;                             
                                                 I2C[ch].status = I2C_MODE_READ
                                                Y;
                                         1339   CLINEA 0000H 0001H 0123H 0005H 
                                                0024H
00:01C6 80-80               [-ZS---]     1340           mov     r0,     r8
00:01C8 05-F2               [-ZS---]     1341           mov     er2,    er0
00:01CA 3B-93               [C-----]     1342           sllc    r3,     #03h
00:01CC 3A-92               [C-----]     1343           sll     r2,     #03h
00:01CE 06-F2               [CZSO-H]     1344           add     er2,    er0
00:01D0 26-F2               [CZSO-H]     1345           add     er2,    er2
00:01D2 25-F0               [-ZS---]     1346           mov     er0,    er2
00:01D4 02 02               [-ZS---]     1347           mov     r2,     #02h
00:01D6 09-92 00-00'        [------]     1348           st      r2,     NEAR _I
                                                2C+0eh[er0]
                                         1349   
                                         1350   ;;                      break;
                                         1351   CLINEA 0000H 0001H 012DH 0004H 
                                                0009H
00:01DA 00-F0'00-00'        [------]     1352           b       _$L57
                                         1353   CBLOCKEND 135 9 302
                                         1354   
                                         1355   ;;              }
                                         1356   CLINEA 0000H 0000H 012EH 0003H 
RASU8(ML620504F)Relocatable Assembler, Ver.1.61.2    assemble list. page:  35 
 Title : 
## Loc. Object              [CZSOMH]     Line   Source Statements

                                                0003H
00:01DE                                  1357   _$L72 :
                                         1358   
                                         1359   ;;              I2C[ch].status 
                                                = I2C_MODE_RX;
                                         1360   CLINEA 0000H 0001H 012FH 0003H 
                                                001FH
00:01DE 80-80               [-ZS---]     1361           mov     r0,     r8
00:01E0 00 01               [-ZS---]     1362           mov     r1,     #00h
00:01E2 05-F2               [-ZS---]     1363           mov     er2,    er0
00:01E4 3B-93               [C-----]     1364           sllc    r3,     #03h
00:01E6 3A-92               [C-----]     1365           sll     r2,     #03h
00:01E8 06-F2               [CZSO-H]     1366           add     er2,    er0
00:01EA 26-F2               [CZSO-H]     1367           add     er2,    er2
00:01EC 25-F0               [-ZS---]     1368           mov     er0,    er2
00:01EE 08 02               [-ZS---]     1369           mov     r2,     #08h
00:01F0 09-92 00-00'        [------]     1370           st      r2,     NEAR _I
                                                2C+0eh[er0]
                                         1371   
                                         1372   ;;              startcode = 0x0
                                                1;                             
                                                                               
                                                                   // start tra
                                                nsmitting
                                         1373   CLINEA 0000H 0001H 0130H 0003H 
                                                0032H
00:01F4 01 04               [-ZS---]     1374           mov     r4,     #01h   
                                                 ;; _lstartcode$6
                                         1375   
                                         1376   ;;              if(i2c_check_re
                                                ad_last_data(ch) == true)
                                         1377   CLINEA 0000H 0001H 0131H 0003H 
                                                002AH
00:01F6 80-80               [-ZS---]     1378           mov     r0,     r8
00:01F8 01-F0'00-00'        [------]     1379           bl      _i2c_check_read
                                                _last_data
00:01FC 01 70               [CZSO-H]     1380           cmp     r0,     #01h
00:01FE 02 C9               [------]     1381           beq     _$M15
00:0200 00-F0'00-00'        [------]     1382           b       _$L57
00:0204                                  1383   _$M15 :
                                         1384   CBLOCK 135 10 306
                                         1385   
                                         1386   ;;                      startco
                                                de |= 0x80;                    
                                                                               
                                                                   // if next d
                                                ata is last, ACK is set to HIGH
                                         1387   CLINEA 0000H 0001H 0133H 0004H 
                                                0049H
00:0204 81 04               [-ZS---]     1388           mov     r4,     #081h  
                                                 ;; _lstartcode$6
                                         1389   
                                         1390   ;;                      I2C[ch]
                                                .status = I2C_MODE_RX_END;
                                         1391   CLINEA 0000H 0001H 0134H 0004H 
                                                0024H
RASU8(ML620504F)Relocatable Assembler, Ver.1.61.2    assemble list. page:  36 
 Title : 
## Loc. Object              [CZSOMH]     Line   Source Statements

00:0206 80-80               [-ZS---]     1392           mov     r0,     r8
00:0208 00 01               [-ZS---]     1393           mov     r1,     #00h
00:020A 05-F2               [-ZS---]     1394           mov     er2,    er0
00:020C 3B-93               [C-----]     1395           sllc    r3,     #03h
00:020E 3A-92               [C-----]     1396           sll     r2,     #03h
00:0210 06-F2               [CZSO-H]     1397           add     er2,    er0
00:0212 26-F2               [CZSO-H]     1398           add     er2,    er2
00:0214 25-F0               [-ZS---]     1399           mov     er0,    er2
00:0216 09 02               [-ZS---]     1400           mov     r2,     #09h
00:0218 09-92 00-00'        [------]     1401           st      r2,     NEAR _I
                                                2C+0eh[er0]
                                         1402   CBLOCKEND 135 10 309
                                         1403   
                                         1404   ;;              break;
                                         1405   CLINEA 0000H 0001H 0136H 0003H 
                                                0008H
00:021C 00-F0'00-00'        [------]     1406           b       _$L57
                                         1407   
                                         1408   ;;      case I2C_MODE_RX:      
                                                                               
                                                                               
                                                                   // reciever
                                         1409   CLINEA 0000H 0001H 0137H 0002H 
                                                0028H
00:0220                                  1410   _$S81 :
                                         1411   
                                         1412   ;;              I2C[ch].rx_buff
                                                er[I2C[ch].rx_index] = *reg_RD;
                                                                  // set next d
                                                ata to rx register
                                         1413   CLINEA 0000H 0001H 0138H 0003H 
                                                0053H
00:0220 80-80               [-ZS---]     1414           mov     r0,     r8
00:0222 00 01               [-ZS---]     1415           mov     r1,     #00h
00:0224 05-F2               [-ZS---]     1416           mov     er2,    er0
00:0226 3B-93               [C-----]     1417           sllc    r3,     #03h
00:0228 3A-92               [C-----]     1418           sll     r2,     #03h
00:022A 06-F2               [CZSO-H]     1419           add     er2,    er0
00:022C 26-F2               [CZSO-H]     1420           add     er2,    er2
00:022E 28-A0 00-00'        [-ZS---]     1421           l       er0,    NEAR _I
                                                2C+02h[er2]
00:0232 28-A2 00-00'        [-ZS---]     1422           l       er2,    NEAR _I
                                                2C+04h[er2]
00:0236 26-F0               [CZSO-H]     1423           add     er0,    er2
00:0238 C0-92               [-ZS---]     1424           l       r2,     [bp]
00:023A 01-92               [------]     1425           st      r2,     [er0]
                                         1426   
                                         1427   ;;              I2C[ch].rx_inde
                                                x++;
                                         1428   CLINEA 0000H 0000H 0139H 0003H 
                                                0015H
00:023C 80-80               [-ZS---]     1429           mov     r0,     r8
00:023E 00 01               [-ZS---]     1430           mov     r1,     #00h
00:0240 05-F2               [-ZS---]     1431           mov     er2,    er0
00:0242 3B-93               [C-----]     1432           sllc    r3,     #03h
00:0244 3A-92               [C-----]     1433           sll     r2,     #03h
RASU8(ML620504F)Relocatable Assembler, Ver.1.61.2    assemble list. page:  37 
 Title : 
## Loc. Object              [CZSOMH]     Line   Source Statements

00:0246 06-F2               [CZSO-H]     1434           add     er2,    er0
00:0248 26-F2               [CZSO-H]     1435           add     er2,    er2
00:024A 25-F0               [-ZS---]     1436           mov     er0,    er2
00:024C 28-A2 00-00'        [-ZS---]     1437           l       er2,    NEAR _I
                                                2C+04h[er2]
00:0250 81 E2               [CZSO-H]     1438           add     er2,    #1 
00:0252 09-A2 00-00'        [------]     1439           st      er2,    NEAR _I
                                                2C+04h[er0]
                                         1440   
                                         1441   ;;              startcode = 0x0
                                                1;                             
                                                                               
                                                                   // start tra
                                                nsmitting
                                         1442   CLINEA 0000H 0001H 013AH 0003H 
                                                0032H
00:0256 01 04               [-ZS---]     1443           mov     r4,     #01h   
                                                 ;; _lstartcode$6
                                         1444   
                                         1445   ;;              if(i2c_check_re
                                                ad_last_data(ch) == true)
                                         1446   CLINEA 0000H 0001H 013BH 0003H 
                                                002AH
00:0258 80-80               [-ZS---]     1447           mov     r0,     r8
00:025A 01-F0'00-00'        [------]     1448           bl      _i2c_check_read
                                                _last_data
00:025E 01 70               [CZSO-H]     1449           cmp     r0,     #01h
00:0260 02 C9               [------]     1450           beq     _$M16
00:0262 00-F0'00-00'        [------]     1451           b       _$L57
00:0266                                  1452   _$M16 :
                                         1453   CBLOCK 135 11 316
                                         1454   
                                         1455   ;;                      startco
                                                de |= 0x80;                    
                                                                               
                                                                   // if next d
                                                ata is last, ACK is set to HIGH
                                         1456   CLINEA 0000H 0001H 013DH 0004H 
                                                0049H
00:0266 81 04               [-ZS---]     1457           mov     r4,     #081h  
                                                 ;; _lstartcode$6
                                         1458   
                                         1459   ;;                      I2C[ch]
                                                .status = I2C_MODE_RX_END;
                                         1460   CLINEA 0000H 0001H 013EH 0004H 
                                                0024H
00:0268 80-80               [-ZS---]     1461           mov     r0,     r8
00:026A 00 01               [-ZS---]     1462           mov     r1,     #00h
00:026C 05-F2               [-ZS---]     1463           mov     er2,    er0
00:026E 3B-93               [C-----]     1464           sllc    r3,     #03h
00:0270 3A-92               [C-----]     1465           sll     r2,     #03h
00:0272 06-F2               [CZSO-H]     1466           add     er2,    er0
00:0274 26-F2               [CZSO-H]     1467           add     er2,    er2
00:0276 25-F0               [-ZS---]     1468           mov     er0,    er2
00:0278 09 02               [-ZS---]     1469           mov     r2,     #09h
00:027A 09-92 00-00'        [------]     1470           st      r2,     NEAR _I
RASU8(ML620504F)Relocatable Assembler, Ver.1.61.2    assemble list. page:  38 
 Title : 
## Loc. Object              [CZSOMH]     Line   Source Statements

                                                2C+0eh[er0]
                                         1471   CBLOCKEND 135 11 319
                                         1472   
                                         1473   ;;              break;
                                         1474   CLINEA 0000H 0001H 0140H 0003H 
                                                0008H
00:027E 00-F0'00-00'        [------]     1475           b       _$L57
                                         1476   
                                         1477   ;;      case I2C_MODE_RX_END:
                                         1478   CLINEA 0000H 0001H 0141H 0002H 
                                                0016H
00:0282                                  1479   _$S84 :
                                         1480   
                                         1481   ;;              I2C[ch].rx_buff
                                                er[I2C[ch].rx_index] = *reg_RD;
                                                                  // set next d
                                                ata to rx register
                                         1482   CLINEA 0000H 0001H 0142H 0003H 
                                                0053H
00:0282 80-80               [-ZS---]     1483           mov     r0,     r8
00:0284 00 01               [-ZS---]     1484           mov     r1,     #00h
00:0286 05-F2               [-ZS---]     1485           mov     er2,    er0
00:0288 3B-93               [C-----]     1486           sllc    r3,     #03h
00:028A 3A-92               [C-----]     1487           sll     r2,     #03h
00:028C 06-F2               [CZSO-H]     1488           add     er2,    er0
00:028E 26-F2               [CZSO-H]     1489           add     er2,    er2
00:0290 28-A0 00-00'        [-ZS---]     1490           l       er0,    NEAR _I
                                                2C+02h[er2]
00:0294 28-A2 00-00'        [-ZS---]     1491           l       er2,    NEAR _I
                                                2C+04h[er2]
00:0298 26-F0               [CZSO-H]     1492           add     er0,    er2
00:029A C0-92               [-ZS---]     1493           l       r2,     [bp]
00:029C 01-92               [------]     1494           st      r2,     [er0]
                                         1495   
                                         1496   ;;              I2C[ch].rx_inde
                                                x++;
                                         1497   CLINEA 0000H 0000H 0143H 0003H 
                                                0015H
00:029E 80-80               [-ZS---]     1498           mov     r0,     r8
00:02A0 00 01               [-ZS---]     1499           mov     r1,     #00h
00:02A2 05-F2               [-ZS---]     1500           mov     er2,    er0
00:02A4 3B-93               [C-----]     1501           sllc    r3,     #03h
00:02A6 3A-92               [C-----]     1502           sll     r2,     #03h
00:02A8 06-F2               [CZSO-H]     1503           add     er2,    er0
00:02AA 26-F2               [CZSO-H]     1504           add     er2,    er2
00:02AC 25-F0               [-ZS---]     1505           mov     er0,    er2
00:02AE 28-A2 00-00'        [-ZS---]     1506           l       er2,    NEAR _I
                                                2C+04h[er2]
00:02B2 81 E2               [CZSO-H]     1507           add     er2,    #1 
00:02B4 09-A2 00-00'        [------]     1508           st      er2,    NEAR _I
                                                2C+04h[er0]
                                         1509   
                                         1510   ;;              if(I2C[ch].bSto
                                                p == true)
                                         1511   CLINEA 0000H 0001H 0144H 0003H 
                                                001BH
RASU8(ML620504F)Relocatable Assembler, Ver.1.61.2    assemble list. page:  39 
 Title : 
## Loc. Object              [CZSOMH]     Line   Source Statements

00:02B8 80-80               [-ZS---]     1512           mov     r0,     r8
00:02BA 00 01               [-ZS---]     1513           mov     r1,     #00h
00:02BC 05-F2               [-ZS---]     1514           mov     er2,    er0
00:02BE 3B-93               [C-----]     1515           sllc    r3,     #03h
00:02C0 3A-92               [C-----]     1516           sll     r2,     #03h
00:02C2 06-F2               [CZSO-H]     1517           add     er2,    er0
00:02C4 26-F2               [CZSO-H]     1518           add     er2,    er2
00:02C6 28-90 00-00'        [-ZS---]     1519           l       r0,     NEAR _I
                                                2C+0fh[er2]
00:02CA 01 70               [CZSO-H]     1520           cmp     r0,     #01h
00:02CC 0D C8               [------]     1521           bne     _$L85
                                         1522   CBLOCK 135 12 325
                                         1523   
                                         1524   ;;                      i2c_sen
                                                d_stopbit(ch);
                                         1525   CLINEA 0000H 0001H 0146H 0004H 
                                                0018H
00:02CE 80-80               [-ZS---]     1526           mov     r0,     r8
00:02D0 01-F0'00-00'        [------]     1527           bl      _i2c_send_stopb
                                                it
                                         1528   
                                         1529   ;;                      I2C[ch]
                                                .status = I2C_MODE_STOPBIT;
                                         1530   CLINEA 0000H 0001H 0147H 0004H 
                                                0025H
00:02D4 80-80               [-ZS---]     1531           mov     r0,     r8
00:02D6 00 01               [-ZS---]     1532           mov     r1,     #00h
00:02D8 05-F2               [-ZS---]     1533           mov     er2,    er0
00:02DA 3B-93               [C-----]     1534           sllc    r3,     #03h
00:02DC 3A-92               [C-----]     1535           sll     r2,     #03h
00:02DE 06-F2               [CZSO-H]     1536           add     er2,    er0
00:02E0 26-F2               [CZSO-H]     1537           add     er2,    er2
00:02E2 25-F0               [-ZS---]     1538           mov     er0,    er2
00:02E4 03 02               [-ZS---]     1539           mov     r2,     #03h
                                         1540   CBLOCKEND 135 12 328
                                         1541   
                                         1542   ;;              else
                                         1543   CLINEA 0000H 0001H 0149H 0003H 
                                                0006H
00:02E6 09 CE               [------]     1544           bal     _$L87
00:02E8                                  1545   _$L85 :
                                         1546   CBLOCK 135 13 330
                                         1547   
                                         1548   ;;                      I2C[ch]
                                                .status = I2C_MODE_READY;
                                         1549   CLINEA 0000H 0001H 014BH 0004H 
                                                0023H
00:02E8 80-80               [-ZS---]     1550           mov     r0,     r8
00:02EA 00 01               [-ZS---]     1551           mov     r1,     #00h
00:02EC 05-F2               [-ZS---]     1552           mov     er2,    er0
00:02EE 3B-93               [C-----]     1553           sllc    r3,     #03h
00:02F0 3A-92               [C-----]     1554           sll     r2,     #03h
00:02F2 06-F2               [CZSO-H]     1555           add     er2,    er0
00:02F4 26-F2               [CZSO-H]     1556           add     er2,    er2
00:02F6 25-F0               [-ZS---]     1557           mov     er0,    er2
00:02F8 02 02               [-ZS---]     1558           mov     r2,     #02h
RASU8(ML620504F)Relocatable Assembler, Ver.1.61.2    assemble list. page:  40 
 Title : 
## Loc. Object              [CZSOMH]     Line   Source Statements

                                         1559   CBLOCKEND 135 13 332
                                         1560   
                                         1561   ;;              }
                                         1562   CLINEA 0000H 0000H 014CH 0003H 
                                                0003H
00:02FA                                  1563   _$L87 :
00:02FA 09-92 00-00'        [------]     1564           st      r2,     NEAR _I
                                                2C+0eh[er0]
                                         1565   
                                         1566   ;;              break;
                                         1567   CLINEA 0000H 0001H 014DH 0003H 
                                                0008H
00:02FE 00-F0'00-00'        [------]     1568           b       _$L57
                                         1569   
                                         1570   ;;      case I2C_MODE_STOPBIT:
                                         1571   CLINEA 0000H 0001H 014FH 0002H 
                                                0017H
00:0302                                  1572   _$S88 :
                                         1573   
                                         1574   ;;              I2C[ch].status 
                                                = I2C_MODE_READY;
                                         1575   CLINEA 0000H 0001H 0150H 0003H 
                                                0022H
00:0302 80-80               [-ZS---]     1576           mov     r0,     r8
00:0304 00 01               [-ZS---]     1577           mov     r1,     #00h
00:0306 05-F2               [-ZS---]     1578           mov     er2,    er0
00:0308 3B-93               [C-----]     1579           sllc    r3,     #03h
00:030A 3A-92               [C-----]     1580           sll     r2,     #03h
00:030C 06-F2               [CZSO-H]     1581           add     er2,    er0
00:030E 26-F2               [CZSO-H]     1582           add     er2,    er2
00:0310 25-F0               [-ZS---]     1583           mov     er0,    er2
00:0312 02 02               [-ZS---]     1584           mov     r2,     #02h
00:0314 09-92 00-00'        [------]     1585           st      r2,     NEAR _I
                                                2C+0eh[er0]
                                         1586   
                                         1587   ;;              break;
                                         1588   CLINEA 0000H 0001H 0151H 0003H 
                                                0008H
00:0318 00-F0'00-00'        [------]     1589           b       _$L57
                                         1590   
                                         1591   ;;      case I2C_MODE_READY:
                                         1592   CLINEA 0000H 0001H 0152H 0002H 
                                                0015H
00:031C                                  1593   _$S89 :
                                         1594   
                                         1595   ;;              break;
                                         1596   CLINEA 0000H 0001H 0153H 0003H 
                                                0008H
00:031C 00-F0'00-00'        [------]     1597           b       _$L57
                                         1598   
                                         1599   ;;      default:
                                         1600   CLINEA 0000H 0001H 0155H 0002H 
                                                0009H
00:0320                                  1601   _$L58 :
                                         1602   
                                         1603   ;;              while(1){}
RASU8(ML620504F)Relocatable Assembler, Ver.1.61.2    assemble list. page:  41 
 Title : 
## Loc. Object              [CZSOMH]     Line   Source Statements

                                         1604   CLINEA 0000H 0000H 0156H 0003H 
                                                000CH
                                         1605   CBLOCK 135 14 342
                                         1606   CBLOCKEND 135 14 342
00:0320 FF CE               [------]     1607           bal     _$L58
                                         1608   
                                         1609   ;;              break;
                                         1610   CBLOCKEND 135 4 344
                                         1611   CBLOCKEND 135 1 348
                                         1612   CFUNCTIONEND 135
                                         1613   
                                         1614   
  --------------------------             1615           rseg $$i2c_check_read_l
                                                ast_data$driver_i2c
                                         1616   CFUNCTION 143
                                         1617   
00:0000                                  1618   _i2c_check_read_last_data      
                                                 :
                                         1619   CBLOCK 143 1 351
                                         1620   
                                         1621   ;;{
                                         1622   CLINEA 0000H 0001H 015FH 0001H 
                                                0001H
                                         1623   ;;*****************************
                                                ************
                                         1624   ;;      register/stack informat
                                                ion
                                         1625   ;;*****************************
                                                ************
                                         1626   ;;*****************************
                                                ************
                                         1627   
                                         1628   CBLOCK 143 2 351
                                         1629   CARGUMENT 46H 0001H 0014H "ch" 
                                                02H 00H 00H
                                         1630   CLOCAL 46H 0001H 0014H 0002H "r
                                                et" 02H 00H 00H
                                         1631   
                                         1632   ;;      if((I2C[ch].rx_length -
                                                 I2C[ch].rx_index) > 1)
                                         1633   CLINEA 0000H 0001H 0161H 0002H 
                                                002FH
00:0000 00 01               [-ZS---]     1634           mov     r1,     #00h
00:0002 05-F2               [-ZS---]     1635           mov     er2,    er0
00:0004 3B-93               [C-----]     1636           sllc    r3,     #03h
00:0006 3A-92               [C-----]     1637           sll     r2,     #03h
00:0008 06-F2               [CZSO-H]     1638           add     er2,    er0
00:000A 26-F2               [CZSO-H]     1639           add     er2,    er2
00:000C 28-A0 00-00'        [-ZS---]     1640           l       er0,    NEAR _I
                                                2C+06h[er2]
00:0010 28-A2 00-00'        [-ZS---]     1641           l       er2,    NEAR _I
                                                2C+04h[er2]
00:0014 28-80               [CZSO-H]     1642           sub     r0,     r2
00:0016 39-81               [CZSO-H]     1643           subc    r1,     r3
00:0018 01 70               [CZSO-H]     1644           cmp     r0,     #01h
00:001A 00 51               [CZSO-H]     1645           cmpc    r1,     #00h
RASU8(ML620504F)Relocatable Assembler, Ver.1.61.2    assemble list. page:  42 
 Title : 
## Loc. Object              [CZSOMH]     Line   Source Statements

00:001C 02 C3               [------]     1646           ble     _$L97
                                         1647   
                                         1648   ;;              ret = false;   
                                                                               
                                                                               
                                                                   // ACK = LOW
                                         1649   CLINEA 0000H 0001H 0162H 0003H 
                                                0025H
00:001E 00 00               [-ZS---]     1650           mov     r0,     #00h
                                         1651   
                                         1652   ;;      else
                                         1653   CLINEA 0000H 0001H 0163H 0002H 
                                                0005H
00:0020 1F-FE               [------]     1654           rt
00:0022                                  1655   _$L97 :
                                         1656   
                                         1657   ;;              ret = true;    
                                                                               
                                                                               
                                                                           // A
                                                CK = HIGH
                                         1658   CLINEA 0000H 0001H 0164H 0003H 
                                                0026H
00:0022 01 00               [-ZS---]     1659           mov     r0,     #01h
00:0024                                  1660   _$L99 :
                                         1661   
                                         1662   ;;      return ret;
                                         1663   CLINEA 0000H 0001H 0165H 0002H 
                                                000CH
                                         1664   CBLOCKEND 143 2 358
                                         1665   
                                         1666   ;;}
                                         1667   CLINEA 0000H 0000H 0166H 0001H 
                                                0001H
00:0024 1F-FE               [------]     1668           rt
                                         1669   CBLOCKEND 143 1 358
                                         1670   CFUNCTIONEND 143
                                         1671   
                                         1672   
  --------------------------             1673           rseg $$i2c_update_err_c
                                                ode$driver_i2c
                                         1674   CFUNCTION 144
                                         1675   
00:0000                                  1676   _i2c_update_err_code    :
                                         1677   CBLOCK 144 1 361
                                         1678   
                                         1679   ;;{
                                         1680   CLINEA 0000H 0001H 0169H 0001H 
                                                0001H
                                         1681   ;;*****************************
                                                ************
                                         1682   ;;      register/stack informat
                                                ion
                                         1683   ;;*****************************
                                                ************
                                         1684   ;;*****************************
RASU8(ML620504F)Relocatable Assembler, Ver.1.61.2    assemble list. page:  43 
 Title : 
## Loc. Object              [CZSOMH]     Line   Source Statements

                                                ************
                                         1685   
00:0000 6E-F8               [------]     1686           push    xr8
00:0002 00-88               [-ZS---]     1687           mov     r8,     r0
00:0004 25-FA               [-ZS---]     1688           mov     er10,   er2
                                         1689   CBLOCK 144 2 361
                                         1690   CARGUMENT 46H 0001H 001CH "ch" 
                                                02H 00H 00H
                                         1691   CARGUMENT 46H 0002H 0029H "inde
                                                x" 02H 00H 01H
                                         1692   CLOCAL 46H 0001H 0015H 0002H "e
                                                rr_code" 02H 00H 00H
                                         1693   
                                         1694   ;;      unsigned char err_code 
                                                = I2C_RESULT_OK;
                                         1695   CLINEA 0000H 0001H 016AH 0002H 
                                                0028H
00:0006 00 01               [-ZS---]     1696           mov     r1,     #00h   
                                                 ;; _lerr_code$0
                                         1697   
                                         1698   ;;      if(ch == 0)
                                         1699   CLINEA 0000H 0001H 016BH 0002H 
                                                000CH
00:0008 00 78               [CZSO-H]     1700           cmp     r8,     #00h
00:000A 0E C8               [------]     1701           bne     _$L101
                                         1702   CBLOCK 144 3 364
                                         1703   
                                         1704   ;;              if(I20ER != 0) 
                                                 err_code = I2C_RESULT_ERROR;
                                         1705   CLINEA 0000H 0001H 016DH 0003H 
                                                002DH
00:000C A1-A0 4A-F7         [-Z----]     1706           tb      0f74ah.2
00:0010 01 C9               [------]     1707           beq     _$L103
00:0012 04 01               [-ZS---]     1708           mov     r1,     #04h   
                                                 ;; _lerr_code$0
00:0014                                  1709   _$L103 :
                                         1710   
                                         1711   ;;              if(I20ACR != 0)
                                         1712   CLINEA 0000H 0001H 016EH 0003H 
                                                0011H
00:0014 91-A0 4A-F7         [-Z----]     1713           tb      0f74ah.1
00:0018 16 C9               [------]     1714           beq     _$L115
                                         1715   CBLOCK 144 4 367
                                         1716   
                                         1717   ;;                      err_cod
                                                e = (index ? I2C_RESULT_DNACK :
                                                I2C_RESULT_ANACK);
                                         1718   CLINEA 0000H 0000H 0170H 0004H 
                                                003BH
00:001A A5-FA               [-ZS---]     1719           mov     er10,   er10
00:001C 02 C9               [------]     1720           beq     _$L107
00:001E 03 E0               [-ZS---]     1721           mov     er0,    #3 
00:0020 01 CE               [------]     1722           bal     _$L109
00:0022                                  1723   _$L107 :
00:0022 02 E0               [-ZS---]     1724           mov     er0,    #2 
00:0024                                  1725   _$L109 :
RASU8(ML620504F)Relocatable Assembler, Ver.1.61.2    assemble list. page:  44 
 Title : 
## Loc. Object              [CZSOMH]     Line   Source Statements

00:0024 00-81               [-ZS---]     1726           mov     r1,     r0     
                                                 ;; _lerr_code$0
                                         1727   CBLOCKEND 144 4 369
                                         1728   
                                         1729   ;;      else if(ch == 1)
                                         1730   CLINEA 0000H 0001H 0173H 0002H 
                                                0011H
00:0026 0F CE               [------]     1731           bal     _$L115
00:0028                                  1732   _$L101 :
00:0028 01 78               [CZSO-H]     1733           cmp     r8,     #01h
00:002A 0D C8               [------]     1734           bne     _$L115
                                         1735   CBLOCK 144 5 372
                                         1736   
                                         1737   ;;              if(I21ER != 0) 
                                                 err_code = I2C_RESULT_ERROR;
                                         1738   CLINEA 0000H 0001H 0175H 0003H 
                                                002DH
00:002C A1-A0 5A-F7         [-Z----]     1739           tb      0f75ah.2
00:0030 01 C9               [------]     1740           beq     _$L113
00:0032 04 01               [-ZS---]     1741           mov     r1,     #04h   
                                                 ;; _lerr_code$0
00:0034                                  1742   _$L113 :
                                         1743   
                                         1744   ;;              if(I21ACR != 0)
                                         1745   CLINEA 0000H 0001H 0176H 0003H 
                                                0011H
00:0034 91-A0 5A-F7         [-Z----]     1746           tb      0f75ah.1
00:0038 06 C9               [------]     1747           beq     _$L115
                                         1748   CBLOCK 144 6 375
                                         1749   
                                         1750   ;;                      err_cod
                                                e = (index ?I2C_RESULT_DNACK :I
                                                2C_RESULT_ANACK);
                                         1751   CLINEA 0000H 0000H 0178H 0004H 
                                                003AH
00:003A A5-FA               [-ZS---]     1752           mov     er10,   er10
00:003C 02 C9               [------]     1753           beq     _$L117
00:003E 03 E0               [-ZS---]     1754           mov     er0,    #3 
00:0040 01 CE               [------]     1755           bal     _$L119
00:0042                                  1756   _$L117 :
00:0042 02 E0               [-ZS---]     1757           mov     er0,    #2 
00:0044                                  1758   _$L119 :
00:0044 00-81               [-ZS---]     1759           mov     r1,     r0     
                                                 ;; _lerr_code$0
                                         1760   CBLOCKEND 144 6 377
                                         1761   
                                         1762   ;;              }
                                         1763   CLINEA 0000H 0000H 0179H 0003H 
                                                0003H
00:0046                                  1764   _$L115 :
                                         1765   CBLOCKEND 144 5 378
                                         1766   
                                         1767   ;;      return err_code;
                                         1768   CLINEA 0000H 0001H 017CH 0002H 
                                                0011H
00:0046 10-80               [-ZS---]     1769           mov     r0,     r1
RASU8(ML620504F)Relocatable Assembler, Ver.1.61.2    assemble list. page:  45 
 Title : 
## Loc. Object              [CZSOMH]     Line   Source Statements

                                         1770   CBLOCKEND 144 3 381
                                         1771   CBLOCKEND 144 2 381
                                         1772   
                                         1773   ;;}
                                         1774   CLINEA 0000H 0000H 017DH 0001H 
                                                0001H
00:0048 2E-F8               [------]     1775           pop     xr8
00:004A 1F-FE               [------]     1776           rt
                                         1777   CBLOCKEND 144 1 381
                                         1778   CFUNCTIONEND 144
                                         1779   
                                         1780   
  --------------------------             1781           rseg $$i2c_read_amount$
                                                driver_i2c
                                         1782   CFUNCTION 136
                                         1783   
00:0000                                  1784   _i2c_read_amount        :
                                         1785   CBLOCK 136 1 384
                                         1786   
                                         1787   ;;{
                                         1788   CLINEA 0000H 0001H 0180H 0001H 
                                                0001H
                                         1789   ;;*****************************
                                                ************
                                         1790   ;;      register/stack informat
                                                ion
                                         1791   ;;*****************************
                                                ************
                                         1792   ;;*****************************
                                                ************
                                         1793   
                                         1794   CBLOCK 136 2 384
                                         1795   CARGUMENT 46H 0001H 0014H "ch" 
                                                02H 00H 00H
                                         1796   
                                         1797   ;;      return(I2C[ch].rx_index
                                                );
                                         1798   CLINEA 0000H 0001H 0181H 0002H 
                                                001AH
00:0000 00 01               [-ZS---]     1799           mov     r1,     #00h
00:0002 05-F2               [-ZS---]     1800           mov     er2,    er0
00:0004 3B-93               [C-----]     1801           sllc    r3,     #03h
00:0006 3A-92               [C-----]     1802           sll     r2,     #03h
00:0008 06-F2               [CZSO-H]     1803           add     er2,    er0
00:000A 26-F2               [CZSO-H]     1804           add     er2,    er2
00:000C 28-A0 00-00'        [-ZS---]     1805           l       er0,    NEAR _I
                                                2C+04h[er2]
                                         1806   CBLOCKEND 136 2 386
                                         1807   
                                         1808   ;;}
                                         1809   CLINEA 0000H 0000H 0182H 0001H 
                                                0001H
00:0010 1F-FE               [------]     1810           rt
                                         1811   CBLOCKEND 136 1 386
                                         1812   CFUNCTIONEND 136
                                         1813   
RASU8(ML620504F)Relocatable Assembler, Ver.1.61.2    assemble list. page:  46 
 Title : 
## Loc. Object              [CZSOMH]     Line   Source Statements

                                         1814   
  --------------------------             1815           rseg $$i2c_get_err_stat
                                                us$driver_i2c
                                         1816   CFUNCTION 138
                                         1817   
00:0000                                  1818   _i2c_get_err_status     :
                                         1819   CBLOCK 138 1 389
                                         1820   
                                         1821   ;;{
                                         1822   CLINEA 0000H 0001H 0185H 0001H 
                                                0001H
                                         1823   ;;*****************************
                                                ************
                                         1824   ;;      register/stack informat
                                                ion
                                         1825   ;;*****************************
                                                ************
                                         1826   ;;*****************************
                                                ************
                                         1827   
                                         1828   CBLOCK 138 2 389
                                         1829   CARGUMENT 46H 0001H 0014H "ch" 
                                                02H 00H 00H
                                         1830   
                                         1831   ;;      return I2C[ch].err_code
                                                ;
                                         1832   CLINEA 0000H 0001H 0186H 0002H 
                                                0019H
00:0000 00 01               [-ZS---]     1833           mov     r1,     #00h
00:0002 05-F2               [-ZS---]     1834           mov     er2,    er0
00:0004 3B-93               [C-----]     1835           sllc    r3,     #03h
00:0006 3A-92               [C-----]     1836           sll     r2,     #03h
00:0008 06-F2               [CZSO-H]     1837           add     er2,    er0
00:000A 26-F2               [CZSO-H]     1838           add     er2,    er2
00:000C 28-90 00-00'        [-ZS---]     1839           l       r0,     NEAR _I
                                                2C+010h[er2]
                                         1840   CBLOCKEND 138 2 391
                                         1841   
                                         1842   ;;}
                                         1843   CLINEA 0000H 0000H 0187H 0001H 
                                                0001H
00:0010 1F-FE               [------]     1844           rt
                                         1845   CBLOCKEND 138 1 391
                                         1846   CFUNCTIONEND 138
                                         1847   
                                         1848   
  --------------------------             1849           rseg $$i2c_force_stop$d
                                                river_i2c
                                         1850   CFUNCTION 139
                                         1851   
00:0000                                  1852   _i2c_force_stop :
                                         1853   CBLOCK 139 1 394
                                         1854   
                                         1855   ;;{
                                         1856   CLINEA 0000H 0001H 018AH 0001H 
                                                0001H
RASU8(ML620504F)Relocatable Assembler, Ver.1.61.2    assemble list. page:  47 
 Title : 
## Loc. Object              [CZSOMH]     Line   Source Statements

                                         1857   ;;*****************************
                                                ************
                                         1858   ;;      register/stack informat
                                                ion
                                         1859   ;;*****************************
                                                ************
                                         1860   ;;*****************************
                                                ************
                                         1861   
00:0000 CE-F8               [------]     1862           push    lr
00:0002 5E-F8               [------]     1863           push    er8
00:0004 00-88               [-ZS---]     1864           mov     r8,     r0
                                         1865   CBLOCK 139 2 394
                                         1866   CRET 0002H
                                         1867   CARGUMENT 46H 0001H 001CH "ch" 
                                                02H 00H 00H
                                         1868   
                                         1869   ;;      i2c_send_stopbit(ch);
                                         1870   CLINEA 0000H 0001H 018BH 0002H 
                                                0016H
00:0006 01-F0'00-00'        [------]     1871           bl      _i2c_send_stopb
                                                it
                                         1872   
                                         1873   ;;      I2C[ch].status = I2C_MO
                                                DE_STOPBIT;
                                         1874   CLINEA 0000H 0001H 018CH 0002H 
                                                0023H
00:000A 80-80               [-ZS---]     1875           mov     r0,     r8
00:000C 00 01               [-ZS---]     1876           mov     r1,     #00h
00:000E 05-F2               [-ZS---]     1877           mov     er2,    er0
00:0010 3B-93               [C-----]     1878           sllc    r3,     #03h
00:0012 3A-92               [C-----]     1879           sll     r2,     #03h
00:0014 06-F2               [CZSO-H]     1880           add     er2,    er0
00:0016 26-F2               [CZSO-H]     1881           add     er2,    er2
00:0018 25-F0               [-ZS---]     1882           mov     er0,    er2
00:001A 03 02               [-ZS---]     1883           mov     r2,     #03h
00:001C 09-92 00-00'        [------]     1884           st      r2,     NEAR _I
                                                2C+0eh[er0]
                                         1885   CBLOCKEND 139 2 397
                                         1886   
                                         1887   ;;}
                                         1888   CLINEA 0000H 0001H 018DH 0001H 
                                                0001H
00:0020 1E-F8               [------]     1889           pop     er8
00:0022 8E-F2               [------]     1890           pop     pc
                                         1891   CBLOCKEND 139 1 397
                                         1892   CFUNCTIONEND 139
                                         1893   
                                         1894   
  --------------------------             1895           rseg $$i2c_close$driver
                                                _i2c
                                         1896   CFUNCTION 161
                                         1897   
00:0000                                  1898   _i2c_close      :
                                         1899   CBLOCK 161 1 404
                                         1900   
RASU8(ML620504F)Relocatable Assembler, Ver.1.61.2    assemble list. page:  48 
 Title : 
## Loc. Object              [CZSOMH]     Line   Source Statements

                                         1901   ;;{
                                         1902   CLINEA 0000H 0001H 0194H 0001H 
                                                0001H
                                         1903   ;;*****************************
                                                ************
                                         1904   ;;      register/stack informat
                                                ion
                                         1905   ;;*****************************
                                                ************
                                         1906   ;;*****************************
                                                ************
                                         1907   
                                         1908   CBLOCK 161 2 404
                                         1909   CARGUMENT 46H 0001H 0014H "ch" 
                                                02H 00H 00H
                                         1910   
                                         1911   ;;      switch(ch)
                                         1912   CLINEA 0000H 0001H 0195H 0002H 
                                                000BH
                                         1913   CBLOCK 161 3 406
00:0000 00 70               [CZSO-H]     1914           cmp     r0,     #00h
00:0002 03 C9               [------]     1915           beq     _$L129
                                         1916   
                                         1917   ;;      switch(ch)
                                         1918   CLINEA 0000H 0000H 0195H 0002H 
                                                000BH
00:0004 01 70               [CZSO-H]     1919           cmp     r0,     #01h
00:0006 24 C9               [------]     1920           beq     _$L130
                                         1921   
                                         1922   ;;      }
                                         1923   CLINEA 0000H 0000H 01A9H 0002H 
                                                0002H
                                         1924   CBLOCKEND 161 3 425
00:0008                                  1925   _$L127 :
                                         1926   CBLOCKEND 161 2 427
                                         1927   
                                         1928   ;;}
                                         1929   CLINEA 0000H 0000H 01ABH 0001H 
                                                0001H
00:0008 1F-FE               [------]     1930           rt
                                         1931   
                                         1932   ;;      case 0:
                                         1933   CLINEA 0000H 0001H 0197H 0002H 
                                                0008H
00:000A                                  1934   _$L129 :
                                         1935   
                                         1936   ;;              P40MD1 = 0; P40
                                                MD0 = 0; P40C1 = 0; P40C0 = 0; 
                                                  // port setting
                                         1937   CLINEA 0000H 0001H 0198H 0003H 
                                                003FH
00:000A 82-A0 35-F2         [-Z----]     1938           rb      0f235h.0
00:000E 82-A0 34-F2         [-Z----]     1939           rb      0f234h.0
00:0012 82-A0 33-F2         [-Z----]     1940           rb      0f233h.0
00:0016 82-A0 32-F2         [-Z----]     1941           rb      0f232h.0
                                         1942   
RASU8(ML620504F)Relocatable Assembler, Ver.1.61.2    assemble list. page:  49 
 Title : 
## Loc. Object              [CZSOMH]     Line   Source Statements

                                         1943   ;;              P41MD1 = 0; P41
                                                MD0 = 0; P41C1 = 0; P41C0 = 0; 
                                                  // port setting
                                         1944   CLINEA 0000H 0001H 0199H 0003H 
                                                003FH
00:001A 92-A0 35-F2         [-Z----]     1945           rb      0f235h.1
00:001E 92-A0 34-F2         [-Z----]     1946           rb      0f234h.1
00:0022 92-A0 33-F2         [-Z----]     1947           rb      0f233h.1
00:0026 92-A0 32-F2         [-Z----]     1948           rb      0f232h.1
                                         1949   
                                         1950   ;;              I2C0MODL &= ~0x
                                                01;                            
                                                                          // b1
                                                :400kbps,b0:I2C enable
                                         1951   CLINEA 0000H 0001H 019AH 0003H 
                                                0036H
00:002A 82-A0 48-F7         [-Z----]     1952           rb      0f748h.0
                                         1953   
                                         1954   ;;              EI2C0 = 0;     
                                                         QI2C0 = 0;            
                                                                          // di
                                                senable I2C interrupt
                                         1955   CLINEA 0000H 0001H 019BH 0003H 
                                                0037H
00:002E A2-A0 12-F0         [-Z----]     1956           rb      0f012h.2
00:0032 A2-A0 1A-F0         [-Z----]     1957           rb      0f01ah.2
                                         1958   
                                         1959   ;;              I2C[ch].status 
                                                = I2C_MODE_DIS;
                                         1960   CLINEA 0000H 0001H 019CH 0003H 
                                                0020H
00:0036 00 01               [-ZS---]     1961           mov     r1,     #00h
00:0038 05-F2               [-ZS---]     1962           mov     er2,    er0
00:003A 3B-93               [C-----]     1963           sllc    r3,     #03h
00:003C 3A-92               [C-----]     1964           sll     r2,     #03h
00:003E 06-F2               [CZSO-H]     1965           add     er2,    er0
00:0040 26-F2               [CZSO-H]     1966           add     er2,    er2
00:0042 25-F0               [-ZS---]     1967           mov     er0,    er2
00:0044 00 02               [-ZS---]     1968           mov     r2,     #00h
00:0046 09-92 00-00'        [------]     1969           st      r2,     NEAR _I
                                                2C+0eh[er0]
                                         1970   
                                         1971   ;;              set_bit(DI2C0);
                                                                               
                                                                          // di
                                                senable I2C0
                                         1972   CLINEA 0000H 0001H 019DH 0003H 
                                                002AH
00:004A E0-A0 6A-F0         [-Z----]     1973           sb      0f06ah.6
                                         1974   
                                         1975   ;;              break;
                                         1976   CLINEA 0000H 0001H 019EH 0003H 
                                                0008H
00:004E 1F-FE               [------]     1977           rt
                                         1978   
                                         1979   ;;      case 1:
RASU8(ML620504F)Relocatable Assembler, Ver.1.61.2    assemble list. page:  50 
 Title : 
## Loc. Object              [CZSOMH]     Line   Source Statements

                                         1980   CLINEA 0000H 0001H 019FH 0002H 
                                                0008H
00:0050                                  1981   _$L130 :
                                         1982   
                                         1983   ;;              P35MD1 = 0;    
                                                 P35MD0 = 0;P35C1 = 0; P35C0 = 
                                                0;        // port setting
                                         1984   CLINEA 0000H 0001H 01A0H 0003H 
                                                003EH
00:0050 D2-A0 2D-F2         [-Z----]     1985           rb      0f22dh.5
00:0054 D2-A0 2C-F2         [-Z----]     1986           rb      0f22ch.5
00:0058 D2-A0 2B-F2         [-Z----]     1987           rb      0f22bh.5
00:005C D2-A0 2A-F2         [-Z----]     1988           rb      0f22ah.5
                                         1989   
                                         1990   ;;              P34MD1 = 0;    
                                                 P34MD0 = 0;P34C1 = 0; P34C0 = 
                                                0;        // port setting
                                         1991   CLINEA 0000H 0001H 01A1H 0003H 
                                                003EH
00:0060 C2-A0 2D-F2         [-Z----]     1992           rb      0f22dh.4
00:0064 C2-A0 2C-F2         [-Z----]     1993           rb      0f22ch.4
00:0068 C2-A0 2B-F2         [-Z----]     1994           rb      0f22bh.4
00:006C C2-A0 2A-F2         [-Z----]     1995           rb      0f22ah.4
                                         1996   
                                         1997   ;;              I2C1MODL &= ~0x
                                                01;                            
                                                                               
                                                   // I2C stop
                                         1998   CLINEA 0000H 0001H 01A2H 0003H 
                                                0027H
00:0070 82-A0 58-F7         [-Z----]     1999           rb      0f758h.0
                                         2000   
                                         2001   ;;              EI2C1 = 0;     
                                                         QI2C1 = 0;            
                                                                          // di
                                                senable I2C interrupt
                                         2002   CLINEA 0000H 0001H 01A3H 0003H 
                                                0037H
00:0074 B2-A0 12-F0         [-Z----]     2003           rb      0f012h.3
00:0078 B2-A0 1A-F0         [-Z----]     2004           rb      0f01ah.3
                                         2005   
                                         2006   ;;              I2C[ch].status 
                                                = I2C_MODE_DIS;
                                         2007   CLINEA 0000H 0001H 01A4H 0003H 
                                                0020H
00:007C 00 01               [-ZS---]     2008           mov     r1,     #00h
00:007E 05-F2               [-ZS---]     2009           mov     er2,    er0
00:0080 3B-93               [C-----]     2010           sllc    r3,     #03h
00:0082 3A-92               [C-----]     2011           sll     r2,     #03h
00:0084 06-F2               [CZSO-H]     2012           add     er2,    er0
00:0086 26-F2               [CZSO-H]     2013           add     er2,    er2
00:0088 25-F0               [-ZS---]     2014           mov     er0,    er2
00:008A 00 02               [-ZS---]     2015           mov     r2,     #00h
00:008C 09-92 00-00'        [------]     2016           st      r2,     NEAR _I
                                                2C+0eh[er0]
                                         2017   
RASU8(ML620504F)Relocatable Assembler, Ver.1.61.2    assemble list. page:  51 
 Title : 
## Loc. Object              [CZSOMH]     Line   Source Statements

                                         2018   ;;              set_bit(DI2C1);
                                                                               
                                                                          // di
                                                senable I2C1
                                         2019   CLINEA 0000H 0001H 01A5H 0003H 
                                                002AH
00:0090 F0-A0 6A-F0         [-Z----]     2020           sb      0f06ah.7
                                         2021   
                                         2022   ;;              break;
                                         2023   CLINEA 0000H 0001H 01A6H 0003H 
                                                0008H
00:0094 1F-FE               [------]     2024           rt
                                         2025   CBLOCKEND 161 1 427
                                         2026   CFUNCTIONEND 161
                                         2027   
                                         2028   
  --------------------------             2029           rseg $$i2c_write_amount
                                                $driver_i2c
                                         2030   CFUNCTION 137
                                         2031   
00:0000                                  2032   _i2c_write_amount       :
                                         2033   CBLOCK 137 1 430
                                         2034   
                                         2035   ;;{
                                         2036   CLINEA 0000H 0001H 01AEH 0001H 
                                                0001H
                                         2037   ;;*****************************
                                                ************
                                         2038   ;;      register/stack informat
                                                ion
                                         2039   ;;*****************************
                                                ************
                                         2040   ;;*****************************
                                                ************
                                         2041   
                                         2042   CBLOCK 137 2 430
                                         2043   CARGUMENT 46H 0001H 0014H "ch" 
                                                02H 00H 00H
                                         2044   
                                         2045   ;;      return(I2C[ch].tx_index
                                                );
                                         2046   CLINEA 0000H 0001H 01AFH 0002H 
                                                001AH
00:0000 00 01               [-ZS---]     2047           mov     r1,     #00h
00:0002 05-F2               [-ZS---]     2048           mov     er2,    er0
00:0004 3B-93               [C-----]     2049           sllc    r3,     #03h
00:0006 3A-92               [C-----]     2050           sll     r2,     #03h
00:0008 06-F2               [CZSO-H]     2051           add     er2,    er0
00:000A 26-F2               [CZSO-H]     2052           add     er2,    er2
00:000C 28-A0 00-00'        [-ZS---]     2053           l       er0,    NEAR _I
                                                2C+0ah[er2]
                                         2054   CBLOCKEND 137 2 432
                                         2055   
                                         2056   ;;}
                                         2057   CLINEA 0000H 0000H 01B0H 0001H 
                                                0001H
RASU8(ML620504F)Relocatable Assembler, Ver.1.61.2    assemble list. page:  52 
 Title : 
## Loc. Object              [CZSOMH]     Line   Source Statements

00:0010 1F-FE               [------]     2058           rt
                                         2059   CBLOCKEND 137 1 432
                                         2060   CFUNCTIONEND 137
                                         2061   
                                         2062           public _i2c_set_tx_buf
                                         2063           public _i2c_set_rx_buf
                                         2064           public _i2c_begin
                                         2065           public _i2c_get_err_sta
                                                tus
                                         2066           public _i2c_send_stopbi
                                                t
                                         2067           public _i2c_get_status
                                         2068           public _i2c_set_address
                                         2069           public _i2c_check_read_
                                                last_data
                                         2070           public _i2c_isr
                                         2071           public _i2c_update_err_
                                                code
                                         2072           public _i2c_force_stop
                                         2073           public _i2c0_isr
                                         2074           public _i2c_start
                                         2075           public _i2c_close
                                         2076           public _i2c_init
                                         2077           public _i2c_read_amount
                                         2078           public _i2c1_isr
                                         2079           public _i2c_write_amoun
                                                t
                                         2080           extrn code near : _irq_
                                                sethandler
                                         2081           extrn code near : _main
                                         2082   
  --------------------------             2083           rseg $$NTABi2c_isr$driv
                                                er_i2c
00:0000                                  2084   _$M12 :
00:0000 00-00'                           2085           dw      _$S89
00:0002 00-00'                           2086           dw      _$S88
00:0004 00-00'                           2087           dw      _$L58
00:0006 00-00'                           2088           dw      _$L58
00:0008 00-00'                           2089           dw      _$S59
00:000A 00-00'                           2090           dw      _$S71
00:000C 00-00'                           2091           dw      _$S81
00:000E 00-00'                           2092           dw      _$S84
                                         2093   
  --------------------------             2094           rseg $$NVARdriver_i2c
00:0000                                  2095   _I2C :
00:0000                                  2096           ds      024h
                                         2097   
                                         2098           end
RASU8(ML620504F)Relocatable Assembler, Ver.1.61.2    C-Ref list.    page:  53

symbol                                lines ( #:definition line)
------------------------------------- -----------------------------------------
$$NTABdriver_i2c .................... 8#
$$NTABi2c_isr$driver_i2c ............ 27# 2083
$$NVARdriver_i2c .................... 7# 2094
$$i2c0_isr$driver_i2c ............... 9# 914
$$i2c1_isr$driver_i2c ............... 10# 942
$$i2c_begin$driver_i2c .............. 11# 297
$$i2c_check_read_last_data$driver_i2c 12# 1615
$$i2c_close$driver_i2c .............. 13# 1895
$$i2c_force_stop$driver_i2c ......... 14# 1849
$$i2c_get_err_status$driver_i2c ..... 15# 1815
$$i2c_get_status$driver_i2c ......... 16# 598
$$i2c_init$driver_i2c ............... 17# 120
$$i2c_isr$driver_i2c ................ 18# 970
$$i2c_read_amount$driver_i2c ........ 19# 1781
$$i2c_send_stopbit$driver_i2c ....... 20# 632
$$i2c_set_address$driver_i2c ........ 21# 540
$$i2c_set_rx_buf$driver_i2c ......... 22# 402
$$i2c_set_tx_buf$driver_i2c ......... 23# 471
$$i2c_start$driver_i2c .............. 24# 686
$$i2c_update_err_code$driver_i2c .... 25# 1673
$$i2c_write_amount$driver_i2c ....... 26# 2029
INTERRUPT ...........................
_$L0 ................................ 148# 243 291
_$L1 ................................ 143 154#
_$L101 .............................. 1701 1732#
_$L103 .............................. 1707 1709#
_$L107 .............................. 1720 1723#
_$L109 .............................. 1722 1725#
_$L113 .............................. 1740 1742#
_$L115 .............................. 1714 1731 1734 1747 1764#
_$L117 .............................. 1753 1756#
_$L119 .............................. 1755 1758#
_$L127 .............................. 1925#
_$L129 .............................. 1915 1934#
_$L130 .............................. 1920 1981#
_$L14 ............................... 561 573#
_$L17 ............................... 575 587#
_$L21 ............................... 651 662#
_$L24 ............................... 664 675#
_$L26 ............................... 720# 768 875
_$L27 ............................... 715 728#
_$L3 ................................ 197 240#
_$L32 ............................... 773# 892 909
_$L34 ............................... 759 879#
_$L35 ............................... 764 896#
_$L36 ............................... 779 804#
_$L38 ............................... 803 828#
_$L39 ............................... 846 857#
_$L41 ............................... 856 867#
_$L44 ............................... 1015# 1051 1093 1098
_$L45 ............................... 1010 1023#
_$L50 ............................... 1056# 1120 1142
_$L52 ............................... 1042 1102#
_$L53 ............................... 1047 1124#
_$L57 ............................... 1088# 1290 1352 1382 1406 1451 1475 1568 1589 1597
_$L58 ............................... 1074 1079 1601# 1607 2087 2088
RASU8(ML620504F)Relocatable Assembler, Ver.1.61.2    C-Ref list.    page:  54

symbol                                lines ( #:definition line)
------------------------------------- -----------------------------------------
_$L6 ................................ 239 287#
_$L60 ............................... 1180 1189 1227#
_$L68 ............................... 1241 1266#
_$L70 ............................... 1226 1265 1285#
_$L72 ............................... 1326 1335 1357#
_$L8 ................................ 323# 397
_$L85 ............................... 1521 1545#
_$L87 ............................... 1544 1563#
_$L9 ................................ 318 329#
_$L97 ............................... 1646 1655#
_$L99 ............................... 1660#
_$M1 ................................ 242 244#
_$M12 ............................... 1084 2084#
_$M13 ............................... 1073 1075#
_$M14 ............................... 1078 1080#
_$M15 ............................... 1381 1383#
_$M16 ............................... 1450 1452#
_$S59 ............................... 1146# 2089
_$S71 ............................... 1295# 2090
_$S81 ............................... 1410# 2091
_$S84 ............................... 1479# 2092
_$S88 ............................... 1572# 2086
_$S89 ............................... 1593# 2085
_I2C ................................ 166 179 192 341 354 367 380 393 434 445 458 503 514 527 622 740 753 829 840 932 960 1009 1036 1068 1157 1167 1177 1178 1188 1200 1201 1216 1218 1239 1260 1280 1306 1316 1325 1333 1348 1370 1401 1421 1422 1437 1439 1470 1490 1491 1506 1508 1519 1564 1585 1640 1641 1805 1839 1884 1969 2016 2053 2095#
_i2c0_isr ........................... 228 229 917# 2073
_i2c1_isr ........................... 275 276 945# 2078
_i2c_begin .......................... 300# 2064
_i2c_check_read_last_data ........... 1379 1448 1618# 2069
_i2c_close .......................... 1898# 2075
_i2c_force_stop ..................... 1852# 2072
_i2c_get_err_status ................. 1818# 2065
_i2c_get_status ..................... 601# 2067
_i2c_init ........................... 123# 2076
_i2c_isr ............................ 973# 2070
_i2c_read_amount .................... 1784# 2077
_i2c_send_stopbit ................... 635# 1247 1527 1871 2066
_i2c_set_address .................... 543# 2068
_i2c_set_rx_buf ..................... 405# 2063
_i2c_set_tx_buf ..................... 474# 2062
_i2c_start .......................... 689# 2074
_i2c_update_err_code ................ 1158 1307 1676# 2071
_i2c_write_amount ................... 2032# 2079
_irq_sethandler ..................... 231 278 2080#
_length$4 ........................... 413 444 482# 513
_main ............................... 2081#
RASU8(ML620504F)Relocatable Assembler, Ver.1.61.2    symbol list.   page:  55

----- symbol information -----

symbol                                type usgtyp physeg     value    ID
------------------------------------- ---- ------ ------ ----------- ----
$$NTABdriver_i2c .................... seg  TABLE  #00           0H      2
$$NTABi2c_isr$driver_i2c ............ seg  TABLE  #00           0H     15
$$NVARdriver_i2c .................... seg  DATA   #00           0H      1
$$i2c0_isr$driver_i2c ............... seg  CODE   #00           0H      3
$$i2c1_isr$driver_i2c ............... seg  CODE   #00           0H      4
$$i2c_begin$driver_i2c .............. seg  CODE   #00           0H      5
$$i2c_check_read_last_data$driver_i2c seg  CODE   #00           0H      6
$$i2c_close$driver_i2c .............. seg  CODE   #00           0H      7
$$i2c_force_stop$driver_i2c ......... seg  CODE   #00           0H      8
$$i2c_get_err_status$driver_i2c ..... seg  CODE   #00           0H      9
$$i2c_get_status$driver_i2c ......... seg  CODE   #00           0H      A
$$i2c_init$driver_i2c ............... seg  CODE   #00           0H      B
$$i2c_isr$driver_i2c ................ seg  CODE   #00           0H      C
$$i2c_read_amount$driver_i2c ........ seg  CODE   #00           0H      D
$$i2c_send_stopbit$driver_i2c ....... seg  CODE   #00           0H      E
$$i2c_set_address$driver_i2c ........ seg  CODE   #00           0H      F
$$i2c_set_rx_buf$driver_i2c ......... seg  CODE   #00           0H     10
$$i2c_set_tx_buf$driver_i2c ......... seg  CODE   #00           0H     11
$$i2c_start$driver_i2c .............. seg  CODE   #00           0H     12
$$i2c_update_err_code$driver_i2c .... seg  CODE   #00           0H     13
$$i2c_write_amount$driver_i2c ....... seg  CODE   #00           0H     14
INTERRUPT ........................... ***  
_$L0 ................................ loc  CODE   #00           AH      B
_$L1 ................................ loc  CODE   #00           EH      B
_$L101 .............................. loc  CODE   #00          28H     13
_$L103 .............................. loc  CODE   #00          14H     13
_$L107 .............................. loc  CODE   #00          22H     13
_$L109 .............................. loc  CODE   #00          24H     13
_$L113 .............................. loc  CODE   #00          34H     13
_$L115 .............................. loc  CODE   #00          46H     13
_$L117 .............................. loc  CODE   #00          42H     13
_$L119 .............................. loc  CODE   #00          44H     13
_$L127 .............................. loc  CODE   #00           8H      7
_$L129 .............................. loc  CODE   #00           AH      7
_$L130 .............................. loc  CODE   #00          50H      7
_$L14 ............................... loc  CODE   #00          10H      F
_$L17 ............................... loc  CODE   #00          1CH      F
_$L21 ............................... loc  CODE   #00           CH      E
_$L24 ............................... loc  CODE   #00          16H      E
_$L26 ............................... loc  CODE   #00           EH     12
_$L27 ............................... loc  CODE   #00          16H     12
_$L3 ................................ loc  CODE   #00          96H      B
_$L32 ............................... loc  CODE   #00          4AH     12
_$L34 ............................... loc  CODE   #00          AAH     12
_$L35 ............................... loc  CODE   #00          B2H     12
_$L36 ............................... loc  CODE   #00          6AH     12
_$L38 ............................... loc  CODE   #00          82H     12
_$L39 ............................... loc  CODE   #00          A2H     12
_$L41 ............................... loc  CODE   #00          A4H     12
_$L44 ............................... loc  CODE   #00          1EH      C
_$L45 ............................... loc  CODE   #00          26H      C
_$L50 ............................... loc  CODE   #00          46H      C
_$L52 ............................... loc  CODE   #00          84H      C
_$L53 ............................... loc  CODE   #00          90H      C
RASU8(ML620504F)Relocatable Assembler, Ver.1.61.2    symbol list.   page:  56

symbol                                type usgtyp physeg     value    ID
------------------------------------- ---- ------ ------ ----------- ----
_$L57 ............................... loc  CODE   #00          7CH      C
_$L58 ............................... loc  CODE   #00         320H      C
_$L6 ................................ loc  CODE   #00          E0H      B
_$L60 ............................... loc  CODE   #00         12AH      C
_$L68 ............................... loc  CODE   #00         15EH      C
_$L70 ............................... loc  CODE   #00         174H      C
_$L72 ............................... loc  CODE   #00         1DEH      C
_$L8 ................................ loc  CODE   #00           8H      5
_$L85 ............................... loc  CODE   #00         2E8H      C
_$L87 ............................... loc  CODE   #00         2FAH      C
_$L9 ................................ loc  CODE   #00           CH      5
_$L97 ............................... loc  CODE   #00          22H      6
_$L99 ............................... loc  CODE   #00          24H      6
_$M1 ................................ loc  CODE   #00          9EH      B
_$M12 ............................... loc  TABLE  #00           0H     15
_$M13 ............................... loc  CODE   #00          66H      C
_$M14 ............................... loc  CODE   #00          70H      C
_$M15 ............................... loc  CODE   #00         204H      C
_$M16 ............................... loc  CODE   #00         266H      C
_$S59 ............................... loc  CODE   #00          9CH      C
_$S71 ............................... loc  CODE   #00         178H      C
_$S81 ............................... loc  CODE   #00         220H      C
_$S84 ............................... loc  CODE   #00         282H      C
_$S88 ............................... loc  CODE   #00         302H      C
_$S89 ............................... loc  CODE   #00         31CH      C
_I2C ................................ loc  DATA   #00           0H      1
_i2c0_isr ........................... pub  CODE   #00           0H      3
_i2c1_isr ........................... pub  CODE   #00           0H      4
_i2c_begin .......................... pub  CODE   #00           0H      5
_i2c_check_read_last_data ........... pub  CODE   #00           0H      6
_i2c_close .......................... pub  CODE   #00           0H      7
_i2c_force_stop ..................... pub  CODE   #00           0H      8
_i2c_get_err_status ................. pub  CODE   #00           0H      9
_i2c_get_status ..................... pub  CODE   #00           0H      A
_i2c_init ........................... pub  CODE   #00           0H      B
_i2c_isr ............................ pub  CODE   #00           0H      C
_i2c_read_amount .................... pub  CODE   #00           0H      D
_i2c_send_stopbit ................... pub  CODE   #00           0H      E
_i2c_set_address .................... pub  CODE   #00           0H      F
_i2c_set_rx_buf ..................... pub  CODE   #00           0H     10
_i2c_set_tx_buf ..................... pub  CODE   #00           0H     11
_i2c_start .......................... pub  CODE   #00           0H     12
_i2c_update_err_code ................ pub  CODE   #00           0H     13
_i2c_write_amount ................... pub  CODE   #00           0H     14
_irq_sethandler ..................... ext  CODE   #00           0H      1
_length$4 ........................... loc  NUMBER ---           2H      0
_main ............................... ext  CODE   #00           0H      2

----- segment information -----

S-ID symbol                                segtyp physeg  size  bound reltype
---- ------------------------------------- ------ ------ ------ ----- -------
   1 $$NVARdriver_i2c .................... DATA   #00       24H WORD  
   2 $$NTABdriver_i2c .................... TABLE  #00        0H WORD  
   3 $$i2c0_isr$driver_i2c ............... CODE   #00        8H WORD  
   4 $$i2c1_isr$driver_i2c ............... CODE   #00        8H WORD  
RASU8(ML620504F)Relocatable Assembler, Ver.1.61.2    symbol list.   page:  57

S-ID symbol                                segtyp physeg  size  bound reltype
---- ------------------------------------- ------ ------ ------ ----- -------
   5 $$i2c_begin$driver_i2c .............. CODE   #00       7AH WORD  
   6 $$i2c_check_read_last_data$driver_i2c CODE   #00       26H WORD  
   7 $$i2c_close$driver_i2c .............. CODE   #00       96H WORD  
   8 $$i2c_force_stop$driver_i2c ......... CODE   #00       24H WORD  
   9 $$i2c_get_err_status$driver_i2c ..... CODE   #00       12H WORD  
   A $$i2c_get_status$driver_i2c ......... CODE   #00       12H WORD  
   B $$i2c_init$driver_i2c ............... CODE   #00       E4H WORD  
   C $$i2c_isr$driver_i2c ................ CODE   #00      322H WORD  
   D $$i2c_read_amount$driver_i2c ........ CODE   #00       12H WORD  
   E $$i2c_send_stopbit$driver_i2c ....... CODE   #00       18H WORD  
   F $$i2c_set_address$driver_i2c ........ CODE   #00       1EH WORD  
  10 $$i2c_set_rx_buf$driver_i2c ......... CODE   #00       4AH WORD  
  11 $$i2c_set_tx_buf$driver_i2c ......... CODE   #00       4AH WORD  
  12 $$i2c_start$driver_i2c .............. CODE   #00       BAH WORD  
  13 $$i2c_update_err_code$driver_i2c .... CODE   #00       4CH WORD  
  14 $$i2c_write_amount$driver_i2c ....... CODE   #00       12H WORD  
  15 $$NTABi2c_isr$driver_i2c ............ TABLE  #00       10H WORD  



  Target       : ML620504F (nX-U8/100)
  Memory Model : SMALL
  Data   Model : NEAR
  ROM WINDOW   : (not specified)
  Internal RAM : D800H to EFFFH

  Errors   : 0
  Warnings : 0  (/Wrpeast)
  Lines    : 2098
