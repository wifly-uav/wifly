;; Compile Options : /TML620504F /MS /near /IC:\LAZURI~1\LIBRAR~1\BM1383 /IC:\LAZURI~1\LIBRAR~1\BM1422 /IC:\LAZURI~1\LIBRAR~1\HARDWA~1 /IC:\LAZURI~1\LIBRAR~1\HARDWA~2 /IC:\LAZURI~1\LIBRAR~1\KXG03_~1 /IC:\LAZURI~1\LIBRAR~1\VL53L0X /IC:\LAZURI~1\LIBRAR~1\Wire /IC:\LAZURI~1\hardware\LAZURI~2 /IC:\LAZURI~1\hardware\LAZURI~2\lazurite /IC:\LAZURI~1\hardware\LAZURI~2\ML620Q~1 /IC:\LAZURI~1\hardware\LAZURI~2\ML620Q~1\clock /IC:\LAZURI~1\hardware\LAZURI~2\ML620Q~1\common /IC:\LAZURI~1\hardware\LAZURI~2\ML620Q~1\irq /IC:\LAZURI~1\hardware\LAZURI~2\ML620Q~1\lp /IC:\LAZURI~1\hardware\LAZURI~2\ML620Q~1\MCU_SM~1 /IC:\LAZURI~1\hardware\LAZURI~2\ML620Q~1\wdt /IC:\LAZURI~1\hardware\LAZURI~2\sub_ghz\ /D_ML620Q504 /DLAZURITE_MINI /DLAZURITE_IDE /DSUBGHZ /DPWR_LED /DLDO_CNT /SS 512 /SL 65 /SD /Oa /Ot /W 3 /Faobj\ /Lv 
;; Version Number  : Ver.3.53.1
;; File Name       : spi0.c

	type (ML620504F) 
	model small, near
	$$NINITVAR segment data 2h #0h
	$$NINITTAB segment table 2h any
	$$TABSPI0$spi0 segment table 2h #0h
	$$_spi0_attachInterrupt$spi0 segment code 2h #0h
	$$_spi0_begin$spi0 segment code 2h #0h
	$$_spi0_detachInterrupt$spi0 segment code 2h #0h
	$$_spi0_end$spi0 segment code 2h #0h
	$$_spi0_setBitOrder$spi0 segment code 2h #0h
	$$_spi0_setClockDivider$spi0 segment code 2h #0h
	$$_spi0_setDataMode$spi0 segment code 2h #0h
	$$_spi0_transfer$spi0 segment code 2h #0h
CVERSION 3.53.1
CSGLOBAL 03H 0000H "_spi0_detachInterrupt" 08H 02H 65H 01H 80H 00H 00H 00H 07H
CSGLOBAL 03H 0000H "_spi0_setDataMode" 08H 02H 69H 01H 80H 00H 00H 00H 07H
CSGLOBAL 02H 0000H "_spi0_transfer" 08H 02H 63H 01H 81H 02H 00H 00H 00H
CSGLOBAL 03H 0000H "_spi0_begin" 08H 02H 66H 01H 80H 00H 00H 00H 07H
CSGLOBAL 03H 0000H "_spi0_attachInterrupt" 08H 02H 64H 01H 80H 00H 00H 00H 07H
CSGLOBAL 03H 0000H "_spi0_setClockDivider" 08H 02H 6AH 01H 80H 00H 00H 00H 07H
CSGLOBAL 03H 0000H "_spi0_end" 08H 02H 67H 01H 80H 00H 00H 00H 07H
CSGLOBAL 03H 0000H "_spi0_setBitOrder" 08H 02H 68H 01H 80H 00H 00H 00H 07H
CSTRUCTTAG 0000H 0000H 001FH 0005H 00000008H "_Notag"
CSTRUCTMEM 42H 00000001H 00000000H "max_length" 02H 00H 00H
CSTRUCTMEM 42H 00000002H 00000002H "buf" 04H 03H 00H 00H 00H
CSTRUCTMEM 42H 00000001H 00000004H "wr_p" 02H 00H 00H
CSTRUCTMEM 42H 00000001H 00000005H "rd_p" 02H 00H 00H
CSTRUCTMEM 42H 00000001H 00000006H "length" 02H 00H 00H
CSTRUCTTAG 0000H 0000H 001EH 0008H 00000010H "_Notag"
CSTRUCTMEM 42H 00000002H 00000000H "transfer" 0AH 03H 00H 02H 2BH 01H 00H 00H 00H 00H 00H
CSTRUCTMEM 43H 00000002H 00000002H "attachInterrupt" 0AH 03H 00H 02H 2CH 01H 00H 00H 00H 00H 07H
CSTRUCTMEM 43H 00000002H 00000004H "detachInterrupt" 0AH 03H 00H 02H 2DH 01H 00H 00H 00H 00H 07H
CSTRUCTMEM 43H 00000002H 00000006H "begin" 0AH 03H 00H 02H 2EH 01H 00H 00H 00H 00H 07H
CSTRUCTMEM 43H 00000002H 00000008H "end" 0AH 03H 00H 02H 2FH 01H 00H 00H 00H 00H 07H
CSTRUCTMEM 43H 00000002H 0000000AH "setBitOrder" 0AH 03H 00H 02H 30H 01H 00H 00H 00H 00H 07H
CSTRUCTMEM 43H 00000002H 0000000CH "setDataMode" 0AH 03H 00H 02H 31H 01H 00H 00H 00H 00H 07H
CSTRUCTMEM 43H 00000002H 0000000EH "setClockDivider" 0AH 03H 00H 02H 32H 01H 00H 00H 00H 00H 07H
CSTRUCTTAG 0000H 0000H 001DH 001BH 00000036H "_Notag"
CSTRUCTMEM 43H 00000002H 00000000H "init" 0AH 03H 00H 02H 0CH 01H 00H 00H 00H 00H 01H
CSTRUCTMEM 43H 00000002H 00000002H "remove" 0AH 03H 00H 02H 0DH 01H 00H 00H 00H 00H 01H
CSTRUCTMEM 43H 00000002H 00000004H "begin" 0AH 03H 00H 02H 0EH 01H 00H 00H 00H 00H 01H
CSTRUCTMEM 43H 00000002H 00000006H "close" 0AH 03H 00H 02H 0FH 01H 00H 00H 00H 00H 01H
CSTRUCTMEM 43H 00000002H 00000008H "send" 0AH 03H 00H 02H 11H 01H 00H 00H 00H 00H 01H
CSTRUCTMEM 43H 00000002H 0000000AH "send64le" 0AH 03H 00H 02H 13H 01H 00H 00H 00H 00H 01H
CSTRUCTMEM 43H 00000002H 0000000CH "send64be" 0AH 03H 00H 02H 15H 01H 00H 00H 00H 00H 01H
CSTRUCTMEM 43H 00000002H 0000000EH "rxEnable" 0AH 03H 00H 02H 17H 01H 00H 00H 00H 00H 01H
CSTRUCTMEM 43H 00000002H 00000010H "setPromiscuous" 0AH 03H 00H 02H 18H 01H 00H 00H 00H 00H 01H
CSTRUCTMEM 43H 00000002H 00000012H "setAckReq" 0AH 03H 00H 02H 19H 01H 00H 00H 00H 00H 01H
CSTRUCTMEM 43H 00000002H 00000014H "setBroadcastEnb" 0AH 03H 00H 02H 1AH 01H 00H 00H 00H 00H 01H
CSTRUCTMEM 43H 00000002H 00000016H "rxDisable" 0AH 03H 00H 02H 1BH 01H 00H 00H 00H 00H 01H
CSTRUCTMEM 43H 00000002H 00000018H "readData" 0AH 03H 00H 02H 1CH 01H 00H 00H 00H 00H 08H
CSTRUCTMEM 42H 00000002H 0000001AH "getMyAddress" 0AH 03H 00H 02H 1DH 01H 00H 00H 00H 00H 08H
CSTRUCTMEM 43H 00000002H 0000001CH "getMyAddr64" 0AH 03H 00H 02H 1EH 01H 00H 00H 00H 00H 07H
CSTRUCTMEM 43H 00000002H 0000001EH "setMyAddress" 0AH 03H 00H 02H 1FH 01H 00H 00H 00H 00H 01H
CSTRUCTMEM 43H 00000002H 00000020H "getStatus" 0AH 03H 00H 02H 20H 01H 00H 00H 00H 00H 07H
CSTRUCTMEM 43H 00000002H 00000022H "msgOut" 0AH 03H 00H 02H 21H 01H 00H 00H 00H 00H 07H
CSTRUCTMEM 43H 00000002H 00000024H "setSendMode" 0AH 03H 00H 02H 22H 01H 00H 00H 00H 00H 01H
CSTRUCTMEM 43H 00000002H 00000026H "getSendMode" 0AH 03H 00H 02H 23H 01H 00H 00H 00H 00H 01H
CSTRUCTMEM 43H 00000002H 00000028H "decMac" 0AH 03H 00H 02H 24H 01H 00H 00H 00H 00H 07H
CSTRUCTMEM 43H 00000002H 0000002AH "setKey" 0AH 03H 00H 02H 25H 01H 00H 00H 00H 00H 01H
CSTRUCTMEM 42H 00000002H 0000002CH "setEnhanceAck" 0AH 03H 00H 02H 26H 01H 00H 00H 00H 00H 00H
CSTRUCTMEM 43H 00000002H 0000002EH "getEnhanceAck" 0AH 03H 00H 02H 27H 01H 00H 00H 00H 00H 07H
CSTRUCTMEM 43H 00000002H 00000030H "setAckTxInterval" 0AH 03H 00H 02H 28H 01H 00H 00H 00H 00H 07H
CSTRUCTMEM 43H 00000002H 00000032H "getEdValue" 0AH 03H 00H 02H 29H 01H 00H 00H 00H 00H 07H
CSTRUCTMEM 43H 00000002H 00000034H "antSwitch" 0AH 03H 00H 02H 2AH 01H 00H 00H 00H 00H 07H
CSTRUCTTAG 0000H 0000H 0011H 000BH 00000002H "mac_fc_alignment"
CSTRUCTMEM 52H 00000003H 00000000H "frame_type" 02H 00H 00H
CSTRUCTMEM 52H 00000001H 00000003H "sec_enb" 02H 00H 00H
CSTRUCTMEM 52H 00000001H 00000004H "pending" 02H 00H 00H
CSTRUCTMEM 52H 00000001H 00000005H "ack_req" 02H 00H 00H
CSTRUCTMEM 52H 00000001H 00000006H "panid_comp" 02H 00H 00H
CSTRUCTMEM 52H 00000001H 00000007H "nop" 02H 00H 00H
CSTRUCTMEM 52H 00000001H 00000008H "seq_comp" 02H 00H 00H
CSTRUCTMEM 52H 00000001H 00000009H "ielist" 02H 00H 00H
CSTRUCTMEM 52H 00000002H 0000000AH "dst_addr_type" 02H 00H 00H
CSTRUCTMEM 52H 00000002H 0000000CH "frame_ver" 02H 00H 00H
CSTRUCTMEM 52H 00000002H 0000000EH "src_addr_type" 02H 00H 00H
CSTRUCTTAG 0000H 0000H 001CH 000BH 00000020H "_Notag"
CSTRUCTMEM 43H 00000002H 00000000H "mac_header" 04H 00H 06H 12H 00H
CSTRUCTMEM 42H 00000001H 00000002H "seq_num" 02H 00H 00H
CSTRUCTMEM 42H 00000001H 00000003H "addr_type" 02H 00H 00H
CSTRUCTMEM 42H 00000002H 00000004H "dst_panid" 02H 00H 08H
CSTRUCTMEM 42H 00000008H 00000006H "dst_addr" 05H 01H 08H 00H 00H 00H
CSTRUCTMEM 42H 00000002H 0000000EH "src_panid" 02H 00H 08H
CSTRUCTMEM 42H 00000008H 00000010H "src_addr" 05H 01H 08H 00H 00H 00H
CSTRUCTMEM 42H 00000002H 00000018H "raw" 04H 03H 00H 00H 00H
CSTRUCTMEM 43H 00000002H 0000001AH "raw_len" 02H 00H 08H
CSTRUCTMEM 42H 00000002H 0000001CH "payload" 04H 03H 00H 00H 00H
CSTRUCTMEM 43H 00000002H 0000001EH "payload_len" 02H 00H 08H
CSTRUCTTAG 0000H 0000H 001BH 0006H 0000000AH "_Notag"
CSTRUCTMEM 42H 00000001H 00000000H "addrType" 02H 00H 00H
CSTRUCTMEM 42H 00000001H 00000001H "senseTime" 02H 00H 00H
CSTRUCTMEM 42H 00000001H 00000002H "txRetry" 02H 00H 00H
CSTRUCTMEM 42H 00000002H 00000004H "txInterval" 02H 00H 08H
CSTRUCTMEM 42H 00000002H 00000006H "myAddress" 02H 00H 08H
CSTRUCTMEM 42H 00000002H 00000008H "ccaWait" 02H 00H 08H
CSTRUCTTAG 0000H 0000H 001AH 0002H 00000004H "_Notag"
CSTRUCTMEM 42H 00000001H 00000000H "rssi" 02H 00H 00H
CSTRUCTMEM 43H 00000002H 00000002H "status" 02H 00H 01H
CSTRUCTTAG 0000H 0000H 0008H 0003H 00000006H "_Notag"
CSTRUCTMEM 42H 00000002H 00000000H "data" 04H 03H 00H 00H 00H
CSTRUCTMEM 42H 00000002H 00000002H "len" 02H 00H 08H
CSTRUCTMEM 43H 00000002H 00000004H "size" 02H 00H 01H
CSTRUCTTAG 0000H 0000H 0009H 0004H 00000010H "_Notag"
CSTRUCTMEM 42H 00000001H 00000000H "id" 02H 00H 00H
CSTRUCTMEM 42H 00000002H 00000002H "buf_size" 02H 00H 08H
CSTRUCTMEM 43H 00000006H 00000004H "in" 04H 00H 05H 08H 00H
CSTRUCTMEM 43H 00000006H 0000000AH "out" 04H 00H 05H 08H 00H
CSTRUCTTAG 0000H 0000H 000CH 0015H 00000028H "_Notag"
CSTRUCTMEM 42H 00000001H 00000000H "condition" 02H 00H 00H
CSTRUCTMEM 42H 00000001H 00000001H "pages" 02H 00H 00H
CSTRUCTMEM 42H 00000001H 00000002H "ch" 02H 00H 00H
CSTRUCTMEM 42H 00000001H 00000003H "ccaRetry" 02H 00H 00H
CSTRUCTMEM 42H 00000001H 00000004H "ccaBe" 02H 00H 00H
CSTRUCTMEM 42H 00000001H 00000005H "ccaCount" 02H 00H 00H
CSTRUCTMEM 42H 00000001H 00000006H "txPower" 02H 00H 00H
CSTRUCTMEM 42H 00000001H 00000007H "txRetry" 02H 00H 00H
CSTRUCTMEM 42H 00000001H 00000008H "txMode" 02H 00H 00H
CSTRUCTMEM 42H 00000001H 00000009H "sequnceNum" 02H 00H 00H
CSTRUCTMEM 42H 00000001H 0000000AH "resendingNum" 02H 00H 00H
CSTRUCTMEM 42H 00000001H 0000000BH "rxOnEnable" 02H 00H 00H
CSTRUCTMEM 42H 00000001H 0000000CH "promiscuousMode" 02H 00H 00H
CSTRUCTMEM 42H 00000002H 0000000EH "ack_timeout" 02H 00H 08H
CSTRUCTMEM 43H 00000002H 00000010H "status" 02H 00H 01H
CSTRUCTMEM 42H 00000004H 00000012H "total_send_bytes" 02H 00H 02H
CSTRUCTMEM 42H 00000004H 00000016H "start_send_time" 02H 00H 02H
CSTRUCTMEM 42H 00000004H 0000001AH "last_send_time" 02H 00H 02H
CSTRUCTMEM 43H 00000002H 0000001EH "phy" 06H 03H 00H 00H 05H 09H 00H
CSTRUCTMEM 43H 00000006H 00000020H "ack" 04H 00H 05H 08H 00H
CSTRUCTMEM 42H 00000002H 00000026H "tx_ack_interval" 02H 00H 08H
CSTRUCTTAG 0000H 0000H 0015H 0005H 0000000EH "mac_addr"
CSTRUCTMEM 42H 00000001H 00000000H "pan_coord" 02H 00H 00H
CSTRUCTMEM 42H 00000001H 00000001H "lddn_addr" 02H 00H 00H
CSTRUCTMEM 42H 00000002H 00000002H "pan_id" 02H 00H 08H
CSTRUCTMEM 42H 00000002H 00000004H "short_addr" 02H 00H 08H
CSTRUCTMEM 42H 00000008H 00000006H "ieee_addr" 05H 01H 08H 00H 00H 00H
CSTRUCTTAG 0000H 0000H 000FH 0002H 00000004H "_Notag"
CSTRUCTMEM 42H 00000001H 00000000H "enb" 02H 00H 00H
CSTRUCTMEM 42H 00000002H 00000002H "data" 02H 00H 08H
CSTRUCTTAG 0000H 0000H 000EH 0003H 0000000EH "fc_addr"
CSTRUCTMEM 43H 00000004H 00000000H "panid" 04H 00H 05H 0FH 00H
CSTRUCTMEM 42H 00000001H 00000004H "addr_type" 02H 00H 00H
CSTRUCTMEM 43H 00000008H 00000006H "addr" 04H 00H 06H 10H 00H
CSTRUCTTAG 0000H 0000H 0013H 000AH 00000036H "mac_header"
CSTRUCTMEM 43H 00000002H 00000000H "fc" 04H 00H 06H 12H 00H
CSTRUCTMEM 43H 0000000EH 00000002H "dst" 04H 00H 05H 0EH 00H
CSTRUCTMEM 43H 0000000EH 00000010H "src" 04H 00H 05H 0EH 00H
CSTRUCTMEM 42H 00000001H 0000001EH "seq" 02H 00H 00H
CSTRUCTMEM 42H 00000001H 0000001FH "addr_type" 02H 00H 00H
CSTRUCTMEM 42H 00000001H 00000020H "rssi" 02H 00H 00H
CSTRUCTMEM 43H 00000006H 00000022H "payload" 04H 00H 05H 08H 00H
CSTRUCTMEM 43H 00000006H 00000028H "raw" 04H 00H 05H 08H 00H
CSTRUCTMEM 43H 00000006H 0000002EH "input" 04H 00H 05H 08H 00H
CSTRUCTMEM 43H 00000002H 00000034H "payload_offset" 02H 00H 01H
CSTRUCTTAG 0000H 0000H 0014H 000CH 00000016H "rf_param"
CSTRUCTMEM 42H 00000001H 00000000H "ch" 02H 00H 00H
CSTRUCTMEM 42H 00000001H 00000001H "pages" 02H 00H 00H
CSTRUCTMEM 42H 00000001H 00000002H "cca_min_be" 02H 00H 00H
CSTRUCTMEM 42H 00000001H 00000003H "cca_max_be" 02H 00H 00H
CSTRUCTMEM 42H 00000001H 00000004H "cca_retry" 02H 00H 00H
CSTRUCTMEM 42H 00000001H 00000005H "tx_min_be" 02H 00H 00H
CSTRUCTMEM 42H 00000001H 00000006H "tx_max_be" 02H 00H 00H
CSTRUCTMEM 42H 00000001H 00000007H "tx_retry" 02H 00H 00H
CSTRUCTMEM 42H 00000001H 00000008H "ant_sw" 02H 00H 00H
CSTRUCTMEM 42H 00000004H 0000000AH "ack_timeout" 02H 00H 02H
CSTRUCTMEM 43H 00000004H 0000000EH "cca_level" 02H 00H 02H
CSTRUCTMEM 43H 00000004H 00000012H "tx_power" 02H 00H 02H
CSTRUCTTAG 0000H 0000H 0016H 000AH 000000FAH "mach_param"
CSTRUCTMEM 43H 00000002H 00000000H "macl" 06H 03H 00H 00H 05H 0CH 00H
CSTRUCTMEM 43H 0000000EH 00000002H "my_addr" 04H 00H 05H 15H 00H
CSTRUCTMEM 43H 0000000EH 00000010H "coord_addr" 04H 00H 05H 15H 00H
CSTRUCTMEM 43H 00000036H 0000001EH "tx" 04H 00H 05H 13H 00H
CSTRUCTMEM 43H 00000036H 00000054H "rx" 04H 00H 05H 13H 00H
CSTRUCTMEM 43H 00000036H 0000008AH "rx_prev" 04H 00H 05H 13H 00H
CSTRUCTMEM 43H 00000036H 000000C0H "ack" 04H 00H 05H 13H 00H
CSTRUCTMEM 42H 00000001H 000000F6H "coordinator" 02H 00H 00H
CSTRUCTMEM 42H 00000001H 000000F7H "sending" 02H 00H 00H
CSTRUCTMEM 43H 00000002H 000000F8H "rf" 06H 03H 00H 00H 05H 14H 00H
CSTRUCTTAG 0000H 0000H 000DH 0004H 0000000EH "ieee802154_my_addr"
CSTRUCTMEM 42H 00000002H 00000000H "pan_id" 02H 00H 08H
CSTRUCTMEM 42H 00000002H 00000002H "short_addr" 02H 00H 08H
CSTRUCTMEM 42H 00000008H 00000004H "ieee_addr" 05H 01H 08H 00H 00H 00H
CSTRUCTMEM 42H 00000001H 0000000CH "pan_coord" 02H 00H 00H
CSTRUCTTAG 0000H 0000H 0006H 0002H 00000008H "_Notag"
CSTRUCTMEM 43H 00000004H 00000000H "quot" 02H 00H 02H
CSTRUCTMEM 43H 00000004H 00000004H "rem" 02H 00H 02H
CSTRUCTTAG 0000H 0000H 0005H 0002H 00000004H "_Notag"
CSTRUCTMEM 43H 00000002H 00000000H "quot" 02H 00H 01H
CSTRUCTMEM 43H 00000002H 00000002H "rem" 02H 00H 01H
CSTRUCTTAG 0000H 0000H 0004H 0005H 0000000AH "_Notag"
CSTRUCTMEM 43H 00000002H 00000000H "write" 0AH 03H 00H 02H 7BH 00H 00H 00H 00H 00H 07H
CSTRUCTMEM 42H 00000002H 00000002H "read" 0AH 03H 00H 02H 7CH 00H 00H 00H 00H 00H 08H
CSTRUCTMEM 43H 00000002H 00000004H "erase" 0AH 03H 00H 02H 7DH 00H 00H 00H 00H 00H 07H
CSTRUCTMEM 43H 00000002H 00000006H "write_byte" 0AH 03H 00H 02H 7EH 00H 00H 00H 00H 00H 07H
CSTRUCTMEM 42H 00000002H 00000008H "read_byte" 0AH 03H 00H 02H 7FH 00H 00H 00H 00H 00H 00H
CSTRUCTTAG 0000H 0000H 0003H 0008H 00000010H "_Notag"
CSTRUCTMEM 43H 00000002H 00000000H "init" 0AH 03H 00H 02H 68H 00H 00H 00H 00H 00H 07H
CSTRUCTMEM 43H 00000002H 00000002H "p" 0AH 03H 00H 02H 69H 00H 00H 00H 00H 00H 01H
CSTRUCTMEM 43H 00000002H 00000004H "l" 0AH 03H 00H 02H 6AH 00H 00H 00H 00H 00H 01H
CSTRUCTMEM 43H 00000002H 00000006H "f" 0AH 03H 00H 02H 6BH 00H 00H 00H 00H 00H 01H
CSTRUCTMEM 43H 00000002H 00000008H "d" 0AH 03H 00H 02H 6CH 00H 00H 00H 00H 00H 01H
CSTRUCTMEM 43H 00000002H 0000000AH "ln" 0AH 03H 00H 02H 6DH 00H 00H 00H 00H 00H 01H
CSTRUCTMEM 43H 00000002H 0000000CH "status" 0AH 03H 00H 02H 6EH 00H 00H 00H 00H 00H 01H
CSTRUCTMEM 43H 00000002H 0000000EH "len" 0AH 03H 00H 02H 6FH 00H 00H 00H 00H 00H 01H
CSTRUCTTAG 0000H 0000H 0002H 000FH 0000001EH "_Notag"
CSTRUCTMEM 43H 00000002H 00000000H "begin" 0AH 03H 00H 02H 59H 00H 00H 00H 00H 00H 07H
CSTRUCTMEM 43H 00000002H 00000002H "end" 0AH 03H 00H 02H 5AH 00H 00H 00H 00H 00H 07H
CSTRUCTMEM 43H 00000002H 00000004H "available" 0AH 03H 00H 02H 5BH 00H 00H 00H 00H 00H 01H
CSTRUCTMEM 43H 00000002H 00000006H "read" 0AH 03H 00H 02H 5CH 00H 00H 00H 00H 00H 01H
CSTRUCTMEM 43H 00000002H 00000008H "peek" 0AH 03H 00H 02H 5DH 00H 00H 00H 00H 00H 01H
CSTRUCTMEM 43H 00000002H 0000000AH "flush" 0AH 03H 00H 02H 5EH 00H 00H 00H 00H 00H 07H
CSTRUCTMEM 42H 00000002H 0000000CH "print" 0AH 03H 00H 02H 5FH 00H 00H 00H 00H 00H 01H
CSTRUCTMEM 42H 00000002H 0000000EH "println" 0AH 03H 00H 02H 60H 00H 00H 00H 00H 00H 01H
CSTRUCTMEM 42H 00000002H 00000010H "print_long" 0AH 03H 00H 02H 61H 00H 00H 00H 00H 00H 01H
CSTRUCTMEM 42H 00000002H 00000012H "println_long" 0AH 03H 00H 02H 62H 00H 00H 00H 00H 00H 01H
CSTRUCTMEM 42H 00000002H 00000014H "print_double" 0AH 03H 00H 02H 63H 00H 00H 00H 00H 00H 01H
CSTRUCTMEM 42H 00000002H 00000016H "println_double" 0AH 03H 00H 02H 64H 00H 00H 00H 00H 00H 01H
CSTRUCTMEM 42H 00000002H 00000018H "write" 0AH 03H 00H 02H 65H 00H 00H 00H 00H 00H 01H
CSTRUCTMEM 42H 00000002H 0000001AH "write_byte" 0AH 03H 00H 02H 66H 00H 00H 00H 00H 00H 01H
CSTRUCTMEM 43H 00000002H 0000001CH "tx_available" 0AH 03H 00H 02H 67H 00H 00H 00H 00H 00H 01H
CSTRUCTTAG 0000H 0000H 0000H 0008H 00000001H "_Notag"
CSTRUCTMEM 52H 00000001H 00000000H "b0" 02H 00H 00H
CSTRUCTMEM 52H 00000001H 00000001H "b1" 02H 00H 00H
CSTRUCTMEM 52H 00000001H 00000002H "b2" 02H 00H 00H
CSTRUCTMEM 52H 00000001H 00000003H "b3" 02H 00H 00H
CSTRUCTMEM 52H 00000001H 00000004H "b4" 02H 00H 00H
CSTRUCTMEM 52H 00000001H 00000005H "b5" 02H 00H 00H
CSTRUCTMEM 52H 00000001H 00000006H "b6" 02H 00H 00H
CSTRUCTMEM 52H 00000001H 00000007H "b7" 02H 00H 00H
CUNIONTAG 0000H 0000H 0012H 0003H 00000002H "mac_frame_control"
CUNIONMEM 42H 00000002H "fc8" 05H 01H 02H 00H 00H 00H
CUNIONMEM 42H 00000002H "fc16" 02H 00H 08H
CUNIONMEM 43H 00000002H "fc_bit" 04H 00H 05H 11H 00H
CUNIONTAG 0000H 0000H 0010H 0003H 00000008H "_Notag"
CUNIONMEM 42H 00000002H "short_addr" 02H 00H 08H
CUNIONMEM 42H 00000002H "lddn_addr" 02H 00H 08H
CUNIONMEM 42H 00000008H "ieee_addr" 05H 01H 08H 00H 00H 00H
CUNIONTAG 0000H 0000H 0007H 0002H 00000008H "_Notag"
CUNIONMEM 42H 00000008H "_W" 05H 01H 04H 00H 00H 08H
CUNIONMEM 43H 00000008H "_D" 02H 00H 04H
CENUMTAG 0000H 0000H 0019H 0002H "_Notag"
CENUMMEM 00000014H "SUBGHZ_PWR_20MW"
CENUMMEM 00000001H "SUBGHZ_PWR_1MW"
CENUMTAG 0000H 0000H 0018H 0002H "_Notag"
CENUMMEM 00000064H "SUBGHZ_100KBPS"
CENUMMEM 00000032H "SUBGHZ_50KBPS"
CENUMTAG 0000H 0000H 0017H 0012H "_Notag"
CENUMMEM 00000000H "SUBGHZ_OK"
CENUMMEM 00000001H "SUBGHZ_RESET_FAIL"
CENUMMEM 00000002H "SUBGHZ_SETUP_FAIL"
CENUMMEM 00000003H "SUBGHZ_SLEEP_FAIL"
CENUMMEM 00000004H "SUBGHZ_WAKEUP_FAIL"
CENUMMEM 00000005H "SUBGHZ_MYADDR_FAIL"
CENUMMEM 00000006H "SUBGHZ_SETFIL_FAIL"
CENUMMEM 00000007H "SUBGHZ_TX_COMP_FAIL"
CENUMMEM 00000008H "SUBGHZ_TX_FAIL"
CENUMMEM 00000009H "SUBGHZ_TX_CCA_FAIL"
CENUMMEM 0000000AH "SUBGHZ_TX_ACK_FAIL"
CENUMMEM 0000000BH "SUBGHZ_RX_ENB_FAIL"
CENUMMEM 0000000CH "SUBGHZ_RX_DIS_FAIL"
CENUMMEM 0000000DH "SUBGHZ_RX_COMP_FAIL"
CENUMMEM 0000000EH "SUBGHZ_PANID"
CENUMMEM 0000000FH "SUBGHZ_ERR_ADDRTYPE"
CENUMMEM 00000010H "SUBGHZ_TTL_SEND_OVR"
CENUMMEM 00000011H "SUBGHZ_DUMMY"
CENUMTAG 0000H 0000H 000BH 000EH "_Notag"
CENUMMEM 00000000H "SUBGHZ_ST_TX_START"
CENUMMEM 00000001H "SUBGHZ_ST_CCA_FAST"
CENUMMEM 00000002H "SUBGHZ_ST_CCA_IDLE_DETECT"
CENUMMEM 00000003H "SUBGHZ_ST_CCA_ABORT"
CENUMMEM 00000004H "SUBGHZ_ST_CCA_RETRY"
CENUMMEM 00000005H "SUBGHZ_ST_CCA_FAILURE"
CENUMMEM 00000006H "SUBGHZ_ST_CCA_DONE"
CENUMMEM 00000007H "SUBGHZ_ST_TX_DONE"
CENUMMEM 00000008H "SUBGHZ_ST_TX_ACK_TIMEOUT"
CENUMMEM 00000009H "SUBGHZ_ST_TX_ACK_DONE"
CENUMMEM 0000000AH "SUBGHZ_ST_RX_START"
CENUMMEM 0000000BH "SUBGHZ_ST_RX_DONE"
CENUMMEM 0000000CH "SUBGHZ_ST_RX_ACK_DONE"
CENUMMEM 0000000DH "SUBGHZ_ST_NONE"
CENUMTAG 0000H 0000H 000AH 0005H "_Notag"
CENUMMEM 00000000H "CCA_IDLE"
CENUMMEM 00000001H "CCA_FAST"
CENUMMEM 00000002H "IDLE_DETECT"
CENUMMEM 00000003H "CCA_RETRY"
CENUMMEM 00000004H "CCA_FAILURE"
CENUMTAG 0000H 0000H 0001H 0003H "_Notag"
CENUMMEM 00000001H "HALT_I2C1_END"
CENUMMEM 00000002H "HALT_I2C0_END"
CENUMMEM 00000003H "HALT_DELAY"
CTYPEDEF 0000H 0000H 43H "SUBGHZ_POWER" 04H 00H 0AH 19H 00H
CTYPEDEF 0000H 0000H 01H "_Dconst" 04H 00H 06H 07H 00H
CTYPEDEF 0000H 0000H 43H "SubGHz_CTRL" 04H 00H 05H 1DH 00H
CTYPEDEF 0000H 0000H 43H "INT8" 02H 00H 00H
CTYPEDEF 0000H 0000H 43H "SPI0Class" 04H 00H 05H 1EH 00H
CTYPEDEF 0000H 0000H 43H "PHY_PARAM" 04H 00H 05H 09H 00H
CTYPEDEF 0000H 0000H 43H "SUBGHZ_PARAM" 04H 00H 05H 1BH 00H
CTYPEDEF 0000H 0000H 43H "_Ptrdifft" 02H 00H 01H
CTYPEDEF 0000H 0000H 43H "SUBGHZ_MSG" 04H 00H 0AH 17H 00H
CTYPEDEF 0000H 0000H 42H "bool" 02H 00H 00H
CTYPEDEF 0000H 0000H 43H "t_print" 04H 00H 05H 03H 00H
CTYPEDEF 0000H 0000H 42H "byte" 02H 00H 00H
CTYPEDEF 0000H 0000H 43H "INT32" 02H 00H 02H
CTYPEDEF 0000H 0000H 43H "INT16" 02H 00H 01H
CTYPEDEF 0000H 0000H 42H "_Sizet" 02H 00H 01H
CTYPEDEF 0000H 0000H 43H "SUBGHZ_MAC_STATE" 04H 00H 0AH 0BH 00H
CTYPEDEF 0000H 0000H 43H "MACL_PARAM" 04H 00H 05H 0CH 00H
CTYPEDEF 0000H 0000H 42H "BOOLEAN" 02H 00H 00H
CTYPEDEF 0000H 0000H 43H "SUBGHZ_MAC_PARAM" 04H 00H 05H 1CH 00H
CTYPEDEF 0000H 0000H 42H "UCHAR" 02H 00H 00H
CTYPEDEF 0000H 0000H 43H "SUBGHZ_STATUS" 04H 00H 05H 1AH 00H
CTYPEDEF 0000H 0000H 42H "size_t" 02H 00H 01H
CTYPEDEF 0000H 0000H 42H "uint8_t" 02H 00H 00H
CTYPEDEF 0000H 0000H 43H "SUBGHZ_RATE" 04H 00H 0AH 18H 00H
CTYPEDEF 0000H 0000H 43H "BUFFER" 04H 00H 05H 08H 00H
CTYPEDEF 0000H 0000H 43H "int8_t" 02H 00H 00H
CTYPEDEF 0000H 0000H 43H "int16_t" 02H 00H 08H
CTYPEDEF 0000H 0000H 43H "int32_t" 02H 00H 02H
CTYPEDEF 0000H 0000H 42H "UINT8" 02H 00H 00H
CTYPEDEF 0000H 0000H 43H "DATAFLASH" 04H 00H 05H 04H 00H
CTYPEDEF 0000H 0000H 43H "FIFO_CTRL" 04H 00H 05H 1FH 00H
CTYPEDEF 0000H 0000H 03H "_Cmpfun_nf" 08H 02H 84H 00H 00H 00H 00H 00H 01H
CTYPEDEF 0000H 0000H 03H "_Cmpfun_nn" 08H 02H 83H 00H 00H 00H 00H 00H 01H
CTYPEDEF 0000H 0000H 43H "CHAR" 02H 00H 00H
CTYPEDEF 0000H 0000H 43H "HardwareSerial" 04H 00H 05H 02H 00H
CTYPEDEF 0000H 0000H 03H "_Cmpfun_ff" 08H 02H 86H 00H 00H 00H 00H 00H 01H
CTYPEDEF 0000H 0000H 03H "_Cmpfun_fn" 08H 02H 85H 00H 00H 00H 00H 00H 01H
CTYPEDEF 0000H 0000H 42H "UINT16" 02H 00H 01H
CTYPEDEF 0000H 0000H 42H "UINT32" 02H 00H 02H
CTYPEDEF 0000H 0000H 42H "boolean" 02H 00H 00H
CTYPEDEF 0000H 0000H 42H "word" 02H 00H 01H
CTYPEDEF 0000H 0000H 42H "BOOL" 02H 00H 00H
CTYPEDEF 0000H 0000H 43H "HALT_EVENT" 04H 00H 0AH 01H 00H
CTYPEDEF 0000H 0000H 43H "CCA_STATE" 04H 00H 0AH 0AH 00H
CTYPEDEF 0000H 0000H 43H "div_t" 04H 00H 05H 05H 00H
CTYPEDEF 0000H 0000H 43H "ldiv_t" 04H 00H 05H 06H 00H
CTYPEDEF 0000H 0000H 42H "uint32_t" 02H 00H 02H
CTYPEDEF 0000H 0000H 43H "_BYTE_FIELD" 04H 00H 05H 00H 00H
CTYPEDEF 0000H 0000H 42H "uint16_t" 02H 00H 08H
CGLOBAL 01H 01H 0010H "SPI0" 04H 00H 05H 1EH 00H
CSGLOBAL 42H 0002H "_spi0_mod" 02H 00H 01H
CFILE 0001H 0000007BH "C:\\LAZURI~1\\hardware\\LAZURI~2\\common.h"
CFILE 0002H 00000F42H "C:\\LazuriteIDE\\bin\\U8Dev\\Inc\\ml620504F.h"
CFILE 0003H 000000C9H "C:\\LazuriteIDE\\bin\\U8Dev\\Inc\\string.h"
CFILE 0004H 0000007AH "C:\\LazuriteIDE\\bin\\U8Dev\\Inc\\yvals.h"
CFILE 0005H 00000022H "C:\\LAZURI~1\\hardware\\LAZURI~2\\ML620Q~1\\MCU_SM~1\\mcu.h"
CFILE 0006H 00000045H "C:\\LAZURI~1\\hardware\\LAZURI~2\\ML620Q~1\\common\\rdwr_reg.h"
CFILE 0007H 00000047H "C:\\LAZURI~1\\hardware\\lazurite_subghz\\SUB_GHZ\\hwif\\spi0.h"
CFILE 0008H 00000042H "C:\\LAZURI~1\\hardware\\LAZURI~2\\lazurite\\lazurite.h"
CFILE 0009H 0000002BH "C:\\LAZURI~1\\hardware\\LAZURI~2\\lazurite\\analogio.h"
CFILE 000AH 0000002BH "C:\\LAZURI~1\\hardware\\LAZURI~2\\lazurite\\digitalio.h"
CFILE 000BH 00000041H "C:\\LAZURI~1\\hardware\\LAZURI~2\\lazurite\\pin_assignment.h"
CFILE 000CH 00000051H "C:\\LAZURI~1\\hardware\\LAZURI~2\\lazurite\\lazurite_system.h"
CFILE 000DH 00000045H "C:\\LAZURI~1\\hardware\\LAZURI~2\\lazurite\\serial.h"
CFILE 000EH 0000002DH "C:\\LAZURI~1\\hardware\\LAZURI~2\\lazurite\\print.h"
CFILE 000FH 0000002DH "C:\\LAZURI~1\\hardware\\LAZURI~2\\lazurite\\wiring_shift.h"
CFILE 0010H 0000002CH "C:\\LAZURI~1\\hardware\\LAZURI~2\\lazurite\\wiring_pulse.h"
CFILE 0011H 0000002DH "C:\\LAZURI~1\\hardware\\LAZURI~2\\lazurite\\WInterrupts.h"
CFILE 0012H 0000002DH "C:\\LAZURI~1\\hardware\\LAZURI~2\\lazurite\\WMath.h"
CFILE 0013H 00000031H "C:\\LAZURI~1\\hardware\\LAZURI~2\\lazurite\\flash.h"
CFILE 0014H 0000002DH "C:\\LAZURI~1\\hardware\\LAZURI~2\\lazurite\\tone.h"
CFILE 0015H 000000DAH "C:\\LazuriteIDE\\bin\\U8Dev\\Inc\\stdlib.h"
CFILE 0016H 0000004FH "C:\\LazuriteIDE\\bin\\U8Dev\\Inc\\math.h"
CFILE 0017H 00000082H "C:\\LAZURI~1\\hardware\\LAZURI~2\\sub_ghz\\subghz_api.h"
CFILE 0018H 0000009EH "C:\\LAZURI~1\\hardware\\LAZURI~2\\sub_ghz\\mach.h"
CFILE 0019H 00000064H "C:\\LAZURI~1\\hardware\\LAZURI~2\\sub_ghz\\macl.h"
CFILE 001AH 00000032H "C:\\LAZURI~1\\hardware\\LAZURI~2\\sub_ghz\\common_subghz.h"
CFILE 001BH 00000062H "C:\\LAZURI~1\\hardware\\LAZURI~2\\sub_ghz\\phy.h"
CFILE 001CH 0000003DH "C:\\LAZURI~1\\hardware\\LAZURI~2\\sub_ghz\\endian.h"
CFILE 001DH 00000022H "C:\\LAZURI~1\\hardware\\LAZURI~2\\ML620Q~1\\lp\\lp_manage.h"
CFILE 001EH 00000053H "C:\\LAZURI~1\\hardware\\LAZURI~2\\ML620Q~1\\driver_uart.h"
CFILE 001FH 0000006FH "C:\\LAZURI~1\\hardware\\LAZURI~2\\ML620Q~1\\driver_irq.h"
CFILE 0020H 00000331H "C:\\LAZURI~1\\hardware\\LAZURI~2\\ML620Q~1\\irq\\irq.h"
CFILE 0000H 000000DAH "C:\\LAZURI~1\\hardware\\lazurite_subghz\\SUB_GHZ\\hwif\\spi0.c"

	rseg $$_spi0_transfer$spi0
CFUNCTION 355

__spi0_transfer	:
CBLOCK 355 1 98

;;{
CLINEA 0000H 0001H 0062H 0001H 0001H
;;*****************************************
;;	register/stack information
;;*****************************************
;;*****************************************

	push	lr
CBLOCK 355 2 98
CRET 0000H
CARGUMENT 46H 0001H 0014H "_data" 02H 00H 00H
CLOCAL 46H 0001H 0014H 0002H "res" 02H 00H 00H

;;	write_reg8(SIO0BUFL,_data);
CLINEA 0000H 0001H 0064H 0002H 001CH
	st	r0,	0f700h

;;	set_bit(S0EN);
CLINEA 0000H 0001H 0065H 0002H 000FH
	sb	0f702h.0

;;	} 
CLINEA 0000H 0000H 006EH 0002H 0003H
_$L1 :

;;	while(get_bit(S0EN)==1)
CLINEA 0000H 0000H 0069H 0000H 0000H
	tb	0f702h.0
	bne	_$L3

;;	res = SIO0BUFL;
CLINEA 0000H 0001H 0071H 0002H 0010H
	l	r0,	0f700h

;;	return res;
CLINEA 0000H 0001H 0072H 0002H 000CH
CBLOCKEND 355 2 115

;;}
CLINEA 0000H 0000H 0073H 0001H 0001H
	pop	pc

;;	while(get_bit(S0EN)==1)
CLINEA 0000H 0000H 0069H 0002H 0018H
_$L3 :
CBLOCK 355 3 106

;;		uart_check_irq();
CLINEA 0000H 0001H 006CH 0003H 0013H
	bl	_uart_check_irq

;;		continue;
CLINEA 0000H 0001H 006DH 0003H 000BH
	bal	_$L1
CBLOCKEND 355 3 110
CBLOCKEND 355 1 115
CFUNCTIONEND 355


	rseg $$_spi0_attachInterrupt$spi0
CFUNCTION 356

__spi0_attachInterrupt	:
CBLOCK 356 1 117

;;{
CLINEA 0000H 0001H 0075H 0001H 0001H
;;*****************************************
;;	register/stack information
;;*****************************************
;;*****************************************

CBLOCK 356 2 117
CBLOCKEND 356 2 119

;;}
CLINEA 0000H 0001H 0077H 0001H 0001H
	rt
CBLOCKEND 356 1 119
CFUNCTIONEND 356


	rseg $$_spi0_detachInterrupt$spi0
CFUNCTION 357

__spi0_detachInterrupt	:
CBLOCK 357 1 121

;;{
CLINEA 0000H 0001H 0079H 0001H 0001H
;;*****************************************
;;	register/stack information
;;*****************************************
;;*****************************************

CBLOCK 357 2 121
CBLOCKEND 357 2 123

;;}
CLINEA 0000H 0001H 007BH 0001H 0001H
	rt
CBLOCKEND 357 1 123
CFUNCTIONEND 357


	rseg $$_spi0_begin$spi0
CFUNCTION 358

__spi0_begin	:
CBLOCK 358 1 125

;;{
CLINEA 0000H 0001H 007DH 0001H 0001H
;;*****************************************
;;	register/stack information
;;*****************************************
;;*****************************************

CBLOCK 358 2 125

;;	clear_bit(DSIO0);					// BLKCON  SPI enable
CLINEA 0000H 0001H 0080H 0002H 002CH
	rb	0f06ah.0

;;	write_reg16(SIO0MOD, _spi0_mod);		// 
CLINEA 0000H 0001H 0081H 0002H 0026H
	l	er0,	NEAR __spi0_mod
	st	er0,	0f704h

;;	P0DIR &= ~SPI0_GPIO_MASK8;
CLINEA 0000H 0001H 0088H 0002H 001BH
	l	r0,	0f211h
	and	r0,	#0f8h
	st	r0,	0f211h

;;	P0DIR |= SPI0_GPIO_DIR;
CLINEA 0000H 0001H 0089H 0002H 0018H
	sb	0f211h.1

;;	P0CON &= ~SPI0_GPIO_MASK16;
CLINEA 0000H 0001H 008BH 0002H 001CH
	l	er0,	0f212h
	and	r0,	#0f8h
	and	r1,	#0f8h
	st	er0,	0f212h

;;	P0CON |= SPI0_GPIO_CON;
CLINEA 0000H 0001H 008CH 0002H 0018H
	l	er0,	0f212h
	or	r0,	#07h
	or	r1,	#07h
	st	er0,	0f212h

;;	P0MOD &= ~SPI0_GPIO_MASK16;
CLINEA 0000H 0001H 008EH 0002H 001CH
	l	er0,	0f214h
	and	r0,	#0f8h
	and	r1,	#0f8h
	st	er0,	0f214h

;;	P0MOD |= SPI0_GPIO_MOD;
CLINEA 0000H 0001H 008FH 0002H 0018H
	l	er0,	0f214h
	or	r1,	#07h
	st	er0,	0f214h

;;	SPI0_CSB(HIGH);
CLINEA 0000H 0001H 0093H 0002H 0010H
	sb	0f218h.0

;;	clear_bit(P11DIR);
CLINEA 0000H 0001H 0094H 0002H 0013H
	rb	0f219h.1

;;	set_bit(P11C1);
CLINEA 0000H 0001H 0095H 0002H 0010H
	sb	0f21bh.1

;;	set_bit(P11C0);
CLINEA 0000H 0001H 0096H 0002H 0010H
	sb	0f21ah.1
CBLOCKEND 358 2 152

;;}
CLINEA 0000H 0001H 0098H 0001H 0001H
	rt
CBLOCKEND 358 1 152
CFUNCTIONEND 358


	rseg $$_spi0_end$spi0
CFUNCTION 359

__spi0_end	:
CBLOCK 359 1 154

;;{
CLINEA 0000H 0001H 009AH 0001H 0001H
;;*****************************************
;;	register/stack information
;;*****************************************
;;*****************************************

CBLOCK 359 2 154

;;	SPI0_CSB(HIGH);
CLINEA 0000H 0001H 009BH 0002H 0010H
	sb	0f218h.0

;;	set_bit(DSIO0);			// BLKCON  SPI disenable
CLINEA 0000H 0001H 009CH 0002H 002BH
	sb	0f06ah.0
CBLOCKEND 359 2 157

;;}
CLINEA 0000H 0001H 009DH 0001H 0001H
	rt
CBLOCKEND 359 1 157
CFUNCTIONEND 359


	rseg $$_spi0_setBitOrder$spi0
CFUNCTION 360

__spi0_setBitOrder	:
CBLOCK 360 1 160

;;{
CLINEA 0000H 0001H 00A0H 0001H 0001H
;;*****************************************
;;	register/stack information
;;*****************************************
;;*****************************************

CBLOCK 360 2 160
CARGUMENT 46H 0001H 0014H "bo" 02H 00H 00H

;;	if(bo == LSBFIRST)
CLINEA 0000H 0001H 00A1H 0002H 0013H
	cmp	r0,	#00h
	bne	_$L10
CBLOCK 360 3 162

;;		_spi0_mod &= (~SPI0_MSBFIRST );
CLINEA 0000H 0001H 00A3H 0003H 0021H
	rb	NEAR __spi0_mod.0
CBLOCKEND 360 3 164

;;	else
CLINEA 0000H 0001H 00A5H 0002H 0005H
	rt
_$L10 :
CBLOCK 360 4 166

;;		_spi0_mod |= SPI0_MSBFIRST ;
CLINEA 0000H 0001H 00A7H 0003H 001EH
	sb	NEAR __spi0_mod.0
CBLOCKEND 360 4 168

;;	}
CLINEA 0000H 0000H 00A8H 0002H 0002H
CBLOCKEND 360 2 169

;;}
CLINEA 0000H 0001H 00A9H 0001H 0001H
	rt
CBLOCKEND 360 1 169
CFUNCTIONEND 360


	rseg $$_spi0_setDataMode$spi0
CFUNCTION 361

__spi0_setDataMode	:
CBLOCK 361 1 172

;;{
CLINEA 0000H 0001H 00ACH 0001H 0001H
;;*****************************************
;;	register/stack information
;;*****************************************
;;*****************************************

CBLOCK 361 2 172
CARGUMENT 46H 0001H 0014H "mode" 02H 00H 00H

;;	_spi0_mod &= (~SPI0_MODE_MASK);
CLINEA 0000H 0001H 00ADH 0002H 0020H
	rb	NEAR (__spi0_mod+01h).5
	rb	NEAR (__spi0_mod+01h).4

;;	switch(mode)
CLINEA 0000H 0001H 00AEH 0002H 000DH
CBLOCK 361 3 175
	cmp	r0,	#00h
	beq	_$L19

;;	switch(mode)
CLINEA 0000H 0000H 00AEH 0002H 000DH
	cmp	r0,	#020h
	beq	_$L20

;;	switch(mode)
CLINEA 0000H 0000H 00AEH 0002H 000DH
	cmp	r0,	#040h
	beq	_$L21

;;	}
CLINEA 0000H 0000H 00BDH 0002H 0002H
CBLOCKEND 361 3 189
CBLOCKEND 361 2 190

;;}
CLINEA 0000H 0001H 00BEH 0001H 0001H
	rt

;;	case SPI_MODE0:
CLINEA 0000H 0001H 00B0H 0002H 0010H
_$L19 :

;;		_spi0_mod |= SPI0_MODE0;
CLINEA 0000H 0001H 00B1H 0003H 001AH
	sb	NEAR (__spi0_mod+01h).4

;;		break;
CLINEA 0000H 0001H 00B2H 0003H 0008H
	rt

;;	case SPI_MODE1:
CLINEA 0000H 0001H 00B3H 0002H 0010H
_$L20 :

;;		_spi0_mod |= SPI0_MODE1;
CLINEA 0000H 0001H 00B4H 0003H 001AH
	sb	NEAR (__spi0_mod+01h).5

;;		break;
CLINEA 0000H 0001H 00B5H 0003H 0008H
	rt

;;	case SPI_MODE2:
CLINEA 0000H 0001H 00B6H 0002H 0010H
_$L21 :

;;		_spi0_mod |= SPI0_MODE2;
CLINEA 0000H 0001H 00B7H 0003H 001AH
	sb	NEAR (__spi0_mod+01h).5
	sb	NEAR (__spi0_mod+01h).4

;;		break;
CLINEA 0000H 0001H 00B8H 0003H 0008H
	rt
CBLOCKEND 361 1 190
CFUNCTIONEND 361


	rseg $$_spi0_setClockDivider$spi0
CFUNCTION 362

__spi0_setClockDivider	:
CBLOCK 362 1 194

;;{
CLINEA 0000H 0001H 00C2H 0001H 0001H
;;*****************************************
;;	register/stack information
;;*****************************************
;;*****************************************

	mov	er2,	er0
CBLOCK 362 2 194
CARGUMENT 46H 0002H 0025H "ckdiv" 02H 00H 01H

;;	_spi0_mod &= (~SPI0_CLOCK_MASK);
CLINEA 0000H 0001H 00C3H 0002H 0021H
	l	er0,	NEAR __spi0_mod
	and	r1,	#0f8h
	st	er0,	NEAR __spi0_mod
CBLOCK 362 3 197

;;	switch(ckdiv)
CLINEA 0000H 0001H 00C4H 0002H 000EH
	cmp	r3,	#00h
	bne	_$L33
	cmp	r2,	#01h
	beq	_$L29

;;	switch(ckdiv)
CLINEA 0000H 0000H 00C4H 0002H 000EH
	cmp	r2,	#02h
	beq	_$L29

;;	switch(ckdiv)
CLINEA 0000H 0000H 00C4H 0002H 000EH
	cmp	r2,	#04h
	beq	_$L31

;;	switch(ckdiv)
CLINEA 0000H 0000H 00C4H 0002H 000EH
	cmp	r2,	#08h
	beq	_$L32

;;	case SPI_CLOCK_DIV32:
CLINEA 0000H 0001H 00D0H 0002H 0016H
_$L33 :

;;		_spi0_mod |= SPI0_CLOCK_DIV32;
CLINEA 0000H 0001H 00D4H 0003H 0020H
	sb	NEAR (__spi0_mod+01h).2
	sb	NEAR (__spi0_mod+01h).0
CBLOCKEND 362 3 214

;;	}
CLINEA 0000H 0000H 00D6H 0002H 0002H
CBLOCKEND 362 2 215

;;}
CLINEA 0000H 0001H 00D7H 0001H 0001H
	rt

;;	case SPI_CLOCK_DIV2:				// not supported
CLINEA 0000H 0001H 00C6H 0002H 0029H
_$L29 :

;;		_spi0_mod |= SPI0_CLOCK_DIV4;
CLINEA 0000H 0001H 00C8H 0003H 001FH
	sb	NEAR (__spi0_mod+01h).1

;;		break;
CLINEA 0000H 0001H 00C9H 0003H 0008H
	rt

;;	case SPI_CLOCK_DIV8:
CLINEA 0000H 0001H 00CAH 0002H 0015H
_$L31 :

;;		_spi0_mod |= SPI0_CLOCK_DIV8;
CLINEA 0000H 0001H 00CBH 0003H 001FH
	sb	NEAR (__spi0_mod+01h).1
	sb	NEAR (__spi0_mod+01h).0

;;		break;
CLINEA 0000H 0001H 00CCH 0003H 0008H
	rt

;;	case SPI_CLOCK_DIV16:
CLINEA 0000H 0001H 00CDH 0002H 0016H
_$L32 :

;;		_spi0_mod |= SPI0_CLOCK_DIV16;
CLINEA 0000H 0001H 00CEH 0003H 0020H
	sb	NEAR (__spi0_mod+01h).2

;;		break;
CLINEA 0000H 0001H 00CFH 0003H 0008H
	rt
CBLOCKEND 362 1 215
CFUNCTIONEND 362

	public _SPI0
	extrn code near : _uart_check_irq
	extrn code near : _main

	rseg $$NINITTAB
	dw	01207h

	rseg $$TABSPI0$spi0
_SPI0 :
	dw	__spi0_transfer
	dw	__spi0_attachInterrupt
	dw	__spi0_detachInterrupt
	dw	__spi0_begin
	dw	__spi0_end
	dw	__spi0_setBitOrder
	dw	__spi0_setDataMode
	dw	__spi0_setClockDivider

	rseg $$NINITVAR
__spi0_mod :
	ds	02h

	end
